/*! For license information please see main.ddfc9178.js.LICENSE.txt */
(()=>{var __webpack_modules__={9420:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(5043),r=n(7442),o=n(1660),s=n(579);function a(e){let{post_id:t=null,task_id:n=null,bg:a="bg-[#0e335b]",px:l="px-4"}=e;const{user:c}=(0,i.useContext)(o.B),[u,h]=(0,i.useState)(""),[d,p]=(0,i.useState)(0),[f,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)([]),y=(0,i.useRef)(null),_=(0,i.useRef)(null);(0,i.useEffect)((()=>{t?r.db.collection("comments").where("post_id","==",t).get().then((e=>{const t=[];e.forEach((e=>{t.push(e.data())})),v(t.reverse())})).catch((e=>{console.log("Error getting documents: ",e)})):n&&r.db.collection("comments").where("task_id","==",n).get().then((e=>{const t=[];e.forEach((e=>{t.push(e.data())})),v(t.reverse())})).catch((e=>{console.log("Error getting documents: ",e)}))}),[d]);let b={timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return(0,s.jsxs)("div",{className:"".concat(a," w-full ").concat(l," py-4 rounded mt-4 overflow-x-hidden"),children:[(0,s.jsxs)("div",{className:"text-2xl text-[#a0d8fa] font-semibold flex items-center",children:[(0,s.jsx)("i",{class:"fa-solid fa-comment mr-4"})," Comment"]}),(0,s.jsxs)("div",{className:"my-4 ",children:[(0,s.jsx)("textarea",{ref:y,value:u,onChange:e=>h(e.target.value),className:"w-full h-20 p-2 outline-none ".concat(a," border border-white focus:border-[#a0d8fa] resize-none rounded"),placeholder:"Nh\u1eadp b\xecnh lu\u1eadn t\u1ea1i \u0111\xe2y"}),(0,s.jsx)("div",{ref:_,onClick:()=>function(){if(c){let e=new Intl.DateTimeFormat([],b);r.db.collection("comments").add({username:c.username,u_id:c.id,comment:u,comment_time:e.format(new Date),post_id:t,task_id:n}),p(Math.random())}else g(!0)}(),className:"text-xl mt-2 px-4 py-1 border border-[#a0d8fa] w-fit rounded hover:brightness-90 cursor-pointer select-none transition-all ".concat(0===u.length?"":"bg-[#a0d8fa]"),children:(0,s.jsx)("i",{class:"fa-solid fa-paper-plane"})})]}),(0,s.jsx)("ul",{className:"p-0",children:m.map(((e,t)=>(0,s.jsxs)("li",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 grid place-content-center text-3xl rounded-full bg-white text-[#007BFF] font-bold mr-4",children:e&&e.username[0].toUpperCase()}),(0,s.jsxs)("div",{className:"text-lg",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:e.username}),(0,s.jsx)("div",{className:"text-base text-slate-300",children:e.comment_time})]})]}),(0,s.jsx)("div",{className:"pl-14 mt-1",children:e.comment})]})))})]})}},2435:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Training});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5043),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3216),_style_training_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4491),_style_text_editor_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5102),_context_appContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1660),react_ace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1869),_modal_comment_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9420),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(579);function Training(){const{user:user,history:history}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_appContext__WEBPACK_IMPORTED_MODULE_3__.B),{username:username}=user,{state:state}=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.zy)();var{id:id}=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.g)();const[task,set_task]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(state?state.task:{});var task_id=id;if(task.hasOwnProperty("task_name"))var{demo_code:demo_code,inp_oup:inp_oup,task_name:task_name,content:content,accepted_count:accepted_count,submission_count:submission_count,input_title:input_title}=task,default_code=task.challenger[user.username]?task.challenger[user.username].current_submit.code:demo_code;try{let e=JSON.parse(default_code);default_code=e}catch{}const[code,set_code]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(default_code||""),[change_SB_history,set_change_SB_history]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();function handle_inp_oup(jsonString){let data=eval(jsonString.replaceAll("T","t").replaceAll("F","f").replaceAll("(","[").replaceAll(")","]")),res=[];return console.log(data),data.forEach((e=>{let t={input:[],output:""};e.input.forEach((e=>{if(-1 in e)res.input.push(JSON.stringify(e));else{let n=JSON.stringify(e);n.includes("{")&&n.includes("}")?t.input.push(n.replaceAll("[","(").replaceAll("]",")")):t.input.push(n.replaceAll("[","(").replaceAll("]",")").replaceAll("))",")]").replaceAll("((","[("))}})),t.output=JSON.stringify(e.output).replaceAll("t","T").replaceAll("f","F"),res.push(t)})),res}return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{fetch("https://coganh.onrender.com/get_task/"+task_id).then((e=>e.json())).then((e=>{console.log(e),set_task(e)})).catch((e=>console.log(e)))}),[change_SB_history]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=document.querySelector.bind(document),t=document.querySelectorAll.bind(document),n=e(".submissions_list");!async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[];if(task.challenger.hasOwnProperty(username)){n.innerHTML="";const r=JSON.parse(JSON.stringify(task.challenger[username].submissions));console.log(r),r.reverse(),r.forEach((e=>{i.push(e.code),n.innerHTML+='\n                        <li class="submissions_item">\n                            <div class="submissions_status '.concat("AC"===e.status?"accepted":"err",'">').concat("AC"===e.status?"Accepted":"WA"===e.status?"Wrong answer":"Syntax error",'</div>\n                            <div class="submissions_time">').concat(e.submit_time,'</div>\n                            <div class="submissions_test_finished">').concat(e.test_finished,'</div>\n                            <div class="view_code_btn">view code</div>\n                        </li>\n                    ')})),function(e){const n=t(".submissions_item");n.forEach(((t,i)=>{t.querySelector(".view_code_btn").onclick=()=>{n.forEach((e=>{e.classList.remove("choosen")})),t.classList.add("choosen"),set_code(e[i])}}))}(i),e&&set_code(task.challenger[username].current_submit.code)}}(!0)}),[task,user]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=document.querySelector.bind(document),t=document.querySelectorAll.bind(document),n=e(".coding_module-nav--submitBtn.CM_btn"),i=e(".coding_module-nav--runBtn"),r=(e(".coding_module-nav--submitBtn.loader"),t(".utility_nav-block--item"),e(".bot_display_nav-block--item.task")),o=e(".bot_display_nav-block--item.result"),s=e(".bot_display_nav-block--item.submissions"),a=e(".bot_display_nav-block--item.help"),l=e(".bot_display-task"),c=e(".bot_display-result"),u=e(".bot_display-submissions"),h=e(".bot_display-help"),d=t(".bot_display-item"),p=e(".type"),f=e(".status"),g=e(".display_result"),m=e(".test_case_result_list");let v=t(".test_case_result_item"),y=t(".text_case_InOu");const _=e(".test_case_result_err"),b=e(".test_case_result_overview"),w=e(".test_case_runtime"),x=e(".test_case_AC"),A=e(".runtime"),k=e(".AC"),C=t(".test_case_nav_item"),S=t(".test_case_item"),E=t(".inp"),T=e(".bot_display_nav-block .animation"),I=(e(".utility_nav-block .animation .children"),e(".bot_display_nav-block .animation")),M=e(".bot_display_nav-block .animation .children");t(".bot_display-video-item");let N={timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function R(e,n){if(f.className="AC"===e.status?"status accepted":"status err",p.className="AC"===e.status?"type accepted":"type err",g.className="AC"===e.status?"display_result accepted":"display_result err",f.innerHTML="AC"===e.status?"Accepted":"WA"===e.status?"Wrong answer":"Syntax error",m.innerHTML="","SE"===n)b.style.display="none",_.style.display="block",_.innerHTML=e.err.replaceAll("\n","<br>").replaceAll("    ","&emsp;"),m.style.display="none";else{b.style.display="flex",A.innerHTML="".concat(Math.round(e.run_time))+"ms",e.run_time>1e3?w.classList.add("err"):w.classList.remove("err");const[n,i]=e.test_finished.split("/");k.innerHTML=e.test_finished,n!=i?x.classList.add("err"):x.classList.remove("err"),_.style.display="none",m.style.display="grid",e.user_output.forEach(((t,n)=>{let i;try{i=typeof JSON.parse(t.output)}catch{i="j cha dc"}var r;m.innerHTML+='\n                        <li tabindex="0" class="test_case_result_item '.concat("AC"===t.output_status?"accepted":"err",'">\n                            Test ').concat(n+1,'\n                            <div class="text_case_InOu ').concat("AC"===t.output_status?"accepted":"err",'">\n                                <div class="text_case_oup_title">output =</div>\n                                <div class="test_case_oup">').concat(e.output[n],'</div>\n                                <hr style="width: 100%; border: 1px solid #007BFF; margin-top: 14px">\n                                <div class="user_oup_title">your output =</div>\n                                <div class="user_oup">').concat("boolean"===i?(r="".concat(t.output))&&r[0].toUpperCase()+r.slice(1):t.output,"</div>\n                            </div>\n                        </li>\n                    ")})),v=t(".test_case_result_item"),v.forEach((e=>{e.onblur=()=>{e.querySelector(".text_case_InOu").classList.remove("appear")},e.onclick=()=>{y.forEach((e=>e.classList.remove("appear"))),e.querySelector(".text_case_InOu").classList.add("appear")}}))}set_change_SB_history(Math.random()),L(o,T.clientWidth-3*r.clientWidth-3+"px",o.clientWidth+"px","result",M)}function L(e,n,i,r,o){t(".bot_display_nav-block--item").forEach((e=>e.style.color="#ccc")),e.style.color="#fff",o.style.right=n,o.style.width=i,function(e){switch(d.forEach((e=>e.style.display="none")),e){case"task":l.style.display="block";break;case"result":console.log("Result"),c.style.display="block";break;case"submissions":u.style.display="block";break;case"help":h.style.display="block"}}(r)}i.onclick=()=>{C.forEach((e=>{e.querySelector(".test_case_nav_title").classList.toggle("appear")}));let e=new Intl.DateTimeFormat([],N);fetch("https://coganh.onrender.com/run_task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:code,inp_oup:inp_oup,time:e.format(new Date)})}).then((e=>e.json())).then((e=>{console.log(e),t(".output_block").forEach((e=>e.remove())),"SE"!==e.status?(e.user_output.forEach(((e,t)=>{"AC"===e.output_status?C[t].className="test_case_nav_item accepted":C[t].className="test_case_nav_item err"})),S.forEach(((t,n)=>{t.innerHTML+='\n                        <div class="output_block">\n                            <hr style="width: 100%; margin: 10px 0;">\n                            <div class="oup_title">output</div>\n                            <div contenteditable="" name="" id="" class="oup">'.concat(e.output[n],'</div>\n                            <div class="user_oup_title">your_output</div>\n                            <div contenteditable="" name="" id="" class="your_oup ').concat("AC"===e.user_output[n].output_status?"accepted":"err",'">').concat(e.user_output[n].output,"</div>\n                        </div>\n                    ")}))):R(e,e.status)})),C.forEach((e=>{e.querySelector(".test_case_nav_title").classList.toggle("appear")}))},n.onclick=()=>{console.log(code),function(e){let t=new Intl.DateTimeFormat([],N);fetch("https://coganh.onrender.com/submit_code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,inp_oup:inp_oup,id:task_id,time:t.format(new Date),username:username})}).then((e=>e.json())).then((e=>{R(e,e.status)})).catch((e=>{console.log(e)})).finally((()=>{}))}(code)},r.onclick=e=>{L(r,"".concat(100-e.target.clientWidth/I.clientWidth*100,"%"),e.target.clientWidth+"px","task",M)},o.onclick=e=>{L(o,T.clientWidth-3*r.clientWidth-7+"px",e.target.clientWidth+"px","result",M)},s.onclick=e=>{L(s,T.clientWidth-4.4*o.clientWidth-10+"px",e.target.clientWidth+"px","submissions",M)},a.onclick=e=>{L(a,"0",e.target.clientWidth+"px","help",M)},E.forEach((e=>{e.oninput=()=>{e.style.height="5px",e.style.height=e.scrollHeight+"px"}})),C.forEach(((e,t)=>{e.onclick=()=>{S.forEach((e=>e.classList.remove("appear"))),C.forEach((e=>e.classList.remove("choosen"))),e.classList.add("choosen"),S[t].classList.add("appear")}}))}),[task,user,code]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"h-screen",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"cover",style:{display:"none",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, .05)",zIndex:1e3}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"guide"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"CM_container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"container_element bot_display",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display-tasks",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display-tasks_nav"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display_nav",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display_nav-block",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display_nav-block--item task",children:["TASK",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"loading_nav_task",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"loader"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:"fa-solid fa-circle-check check_icon"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display_nav-block--item result",children:["RESULT",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"loading_nav_image",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:"fa-solid fa-circle-check check_icon"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"loader"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display_nav-block--item submissions",children:"SUBMISSIONS"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display_nav-block--item help",children:"HELP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"animation",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"children"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"block"},className:"bot_display-item bot_display-task",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"bot_display-task--title",children:task_name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"bot_display-task--class_list p-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"bot_display-task--class_item ".concat(task.tag&&task.tag.difficult),children:task.tag&&task.tag.difficult})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"task_content",dangerouslySetInnerHTML:{__html:content}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display-task--status",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display-task--status_item tallent",children:["accepted",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"num",children:accepted_count})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display-task--status_item good",children:["submissions",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"num",children:submission_count})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"bot_display-task--status_item submissions",children:["accepted rate",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"num",children:Math.round(accepted_count/(submission_count>0?submission_count:1)*100)+"%"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_modal_comment_modal__WEBPACK_IMPORTED_MODULE_5__.A,{bg:"bg-[#262626]",px:"",task_id:task_id})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"none"},className:"bot_display-item bot_display-result",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"type accepted",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"user",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"CM_user_avatar",children:username&&username[0].toUpperCase()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"user_name",children:username})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"status accepted",children:"ch\u01b0a c\xf3 k\u1ebft qu\u1ea3"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"display_result accepted",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"test_case_result",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"test_case_result_overview",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"test_case_runtime",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"runtime_title",children:"Runtime"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"runtime",children:"1ms"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"test_case_AC",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"AC_title",children:"AC"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"AC",children:"10/10"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"warper_TCRL",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"test_case_result_list p-0"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:{display:"none"},className:"test_case_result_err"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"change_task_block",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"pre_task",children:"back"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"next_task available",children:"next"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"none"},className:"bot_display-item bot_display-submissions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"submissions_title",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"sbum_status",children:"Status"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"sbum_submit_time",children:"Submit time"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"sbum_test_finished",children:"Test finished"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:{flex:2}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"submissions_list"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"none"},className:"bot_display-item bot_display-help",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"help_title",children:"Ki\u1ebfn th\u1ee9c c\u1ea7n thi\u1ebft"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"help_list help_type p-0",children:task.tag&&task.tag.skill_require.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_type",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{href:e.link,children:e.name})},t)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"help_title",children:"C\xe1c b\xe0i blog"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("ul",{className:"help_list p-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/post/1719022233537",{state:"1719022233537"}),children:"Ki\u1ec3m tra n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/post/1719228535494",{state:"1719228535494"}),children:"Ki\u1ec3m tra g\xe1nh ch\u1eb9t"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/post/1720181857262",{state:"1720181857262"}),children:"Ki\u1ec3m tra v\xe2y"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"help_title",children:"M\xf4 ph\u1ecfng thu\u1eadt to\xe1n"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("ul",{className:"help_list p-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/visualize/OYRJNv4Jqez9dKZjLW27",{state:"OYRJNv4Jqez9dKZjLW27"}),children:"Ki\u1ec3m tra n\u01b0\u1edbc \u0111i"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/visualize/aLzIcTxFR2EfRXVFov07",{state:"aLzIcTxFR2EfRXVFov07"}),children:"Ki\u1ec3m tra g\xe1nh ch\u1eb9t"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"help_item help_blog",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/visualize/1OyReHWrH3zgV5IfcZPk",{state:"1OyReHWrH3zgV5IfcZPk"}),children:"Ki\u1ec3m tra v\xe2y"})})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"container_element coding_module",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"coding_module-nav",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{onClick:()=>history("/task_list"),className:"coding_module-nav--backBtn",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"coding_module-nav--runBtn CM_btn",children:"Run"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"coding_module-nav--submitBtn loader",style:{display:"none",animation:"none"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"coding_module-nav--loading"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"coding_module-nav--submitBtn CM_btn",children:"Submit"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"a",style:{height:"100%",position:"relative",display:"flex",flexDirection:"column"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_ace__WEBPACK_IMPORTED_MODULE_4__.Ay,{value:code,mode:"python",theme:"dracula",onChange:e=>set_code(e),name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0},width:"100%",height:"66.5%",className:"coding_module-coding_block"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"guide_box--nav",style:{zIndex:2e3,display:"none"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"left",children:"\u2b9c"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"right",children:"\u2b9e"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"test_cases_block",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"title",children:"Test case"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("ul",{className:"test_case_nav_list",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("li",{className:"test_case_nav_item choosen",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_nav_title",children:"Case 1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_item_loader",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_item_loading"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("li",{className:"test_case_nav_item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_nav_title",children:"Case 2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_item_loader",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"test_case_item_loading"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"test_case_list",children:inp_oup&&handle_inp_oup(inp_oup).slice(0,2).map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("li",{className:"test_case_item ".concat(0===t?"appear":""),children:e.input.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"inp_title",children:input_title[t]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"inp",children:e})]},t)))},t)))})]})]})]})]})]})}},1660:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,B:()=>s});var i=n(5043),r=n(3216),o=n(579);const s=i.createContext();function a(e){let{children:t,theme:n,setTheme:a}=e;const[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(),[d,p]=(0,i.useState)({route:"home",info:null}),[f,g]=(0,i.useState)({}),m=(0,r.Zp)();return(0,i.useEffect)((()=>{localStorage.getItem("username")&&c({username:localStorage.getItem("username"),id:localStorage.getItem("id")})}),[JSON.stringify(l)]),(0,o.jsx)(s.Provider,{value:{history:m,user:l,setUser:c,profile:u,setProfile:h,page:d,setPage:p,theme:n,setTheme:a,searchInfo:f,setSearchInfo:g},children:t})}},7442:(e,t,n)=>{"use strict";n.d(t,{db:()=>Ws,x:()=>Vs});var i=n(7700),r=n(8812),o=n(7150),s=n(443);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new r.uA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},c=new i.FA("app-compat","Firebase",l);const u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=o.initializeApp(r,s);if((0,i.gR)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:r,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw c.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&(0,i.zw)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){const e=this._getService.bind(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function r(e){if(e=e||o._DEFAULT_ENTRY_NAME,!(0,i.gR)(t,e))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),r.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,i.zw)(t,e)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),t}(),h=new s.Vy("@firebase/app-compat");if((0,i.Bd)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const d=u;var p;(0,o.registerVersion)("@firebase/app-compat","0.2.13",p);d.registerVersion("firebase","9.23.0","app-compat");function f(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const g={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},m="EMAIL_SIGNIN",v="PASSWORD_RESET",y="RECOVER_EMAIL",_="REVERT_SECOND_FACTOR_ADDITION",b="VERIFY_AND_CHANGE_EMAIL",w="VERIFY_EMAIL";function x(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},k=x,C=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),S=new s.Vy("@firebase/auth");function E(e){if(S.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];S.error("Auth (".concat(o.SDK_VERSION,"): ").concat(e),...n)}}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw R(e,...n)}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return R(e,...n)}function M(e,t,n){const r=Object.assign(Object.assign({},k()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function N(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&T(e,"argument-error"),M(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return C.create(e,...n)}function L(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw R(t,...i)}}function P(e){const t="INTERNAL ASSERTION FAILED: "+e;throw E(t),new Error(t)}function O(e,t){e||P(t)}function D(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function j(){return"http:"===F()||"https:"===F()}function F(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ${constructor(e,t){this.shortDelay=e,this.longDelay=t,O(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(j()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function B(e,t){O(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class U{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void P("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void P("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void P("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},V=new $(3e4,6e4);function W(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function H(e,t,n,r){return q(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),U.fetch()(G(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function q(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},z),t);try{const t=new Q(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Y(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Y(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Y(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Y(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw M(e,a,s);T(e,a)}}catch(o){if(o instanceof i.g)throw o;T(e,"network-request-failed",{message:String(o)})}}async function K(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await H(e,t,n,i,r);return"mfaPendingCredential"in o&&T(e,"multi-factor-auth-required",{_serverResponse:o}),o}function G(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?B(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}class Q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(I(this.auth,"network-request-failed"))),V.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=I(e,t,i);return r.customData._tokenResponse=n,r}function X(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function J(e){return 1e3*Number(e)}function Z(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return E("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(E("Failed to decode base64 JWT payload"),null)}catch(o){return E("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function ee(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=X(this.lastLoginAt),this.creationTime=X(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ie(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ee(e,async function(e,t){return H(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));L(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=f(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ne(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L("undefined"!==typeof e.idToken,"internal-error"),L("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Z(e);return L(t,"internal-error"),L("undefined"!==typeof t.exp,"internal-error"),L("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await q(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=G(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new re;return n&&(L("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(L("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(L("number"===typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return P("not implemented")}}function oe(e,t){L("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class se{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ne(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ee(this,this.stsTokenManager.getToken(this.auth,e));return L(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),o=Z(r);L(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:X(J(o.auth_time)),issuedAtTime:X(J(o.iat)),expirationTime:X(J(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await ie(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new se(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ie(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ee(this,async function(e,t){return H(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;L(y&&x,e,"internal-error");const A=re.fromJSON(this.name,x);L("string"===typeof y,e,"internal-error"),oe(u,e.name),oe(h,e.name),L("boolean"===typeof _,e,"internal-error"),L("boolean"===typeof b,e,"internal-error"),oe(d,e.name),oe(p,e.name),oe(f,e.name),oe(g,e.name),oe(m,e.name),oe(v,e.name);const k=new se({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:A,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new re;i.updateFromServerResponse(t);const r=new se({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ie(r),r}}const ae=new Map;function le(e){O(e instanceof Function,"Expected a class definition");let t=ae.get(e);return t?(O(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ae.set(e,t),t)}class ce{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ce.type="NONE";const ue=ce;function he(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class de{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=he(this.userKey,i.apiKey,r),this.fullPersistenceKey=he("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?se._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new de(le(ue),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||le(ue);const o=he(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=se._fromJSON(e,t);c!==r&&(s=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(o)}catch(l){}}))),new de(r,e,n)):new de(r,e,n)}}function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_e(t))return"Blackberry";if(be(t))return"Webos";if(ge(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ye(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function ge(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function _e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return we(e)||ye(e)||be(e)||_e(e)||/windows phone/i.test(e)||ve(e)}function Ae(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pe((0,i.ZQ)());break;case"Worker":t="".concat(pe((0,i.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(o.SDK_VERSION,"/").concat(r)}async function ke(e,t){return H(e,"GET","/v2/recaptchaConfig",W(e,t))}function Ce(e){return void 0!==e&&void 0!==e.getResponse}function Se(e){return void 0!==e&&void 0!==e.enterprise}class Ee{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Te(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=I("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function Ie(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Me{constructor(e){this.type="recaptcha-enterprise",this.auth=Pe(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Se(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ke(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Ee(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Se(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Te("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Ne(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Me(e);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},t);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Re{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Le{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oe(this),this.idTokenSubscription=new Oe(this),this.beforeStateQueue=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=le(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await de.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ie(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.Ku)(e):null;return t&&L(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(le(e))}))}async initializeRecaptchaConfig(){const e=await ke(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Ee(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Me(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&le(e)||this._popupRedirectResolver;L(t,this,"argument-error"),this.redirectPersistenceManager=await de.create(this,[le(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return L(o,this,"internal-error"),o.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(S.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];S.warn("Auth (".concat(o.SDK_VERSION,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Pe(e){return(0,i.Ku)(e)}class Oe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function De(e,t,n){const i=Pe(e);L(i._canInitEmulator,i,"emulator-config-failed"),L(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=je(t),{host:s,port:a}=function(e){const t=je(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Fe(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Fe(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function je(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $e{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return P("not implemented")}_getIdTokenResponse(e){return P("not implemented")}_linkToIdToken(e,t){return P("not implemented")}_getReauthenticationResolver(e){return P("not implemented")}}async function Be(e,t){return H(e,"POST","/v1/accounts:resetPassword",W(e,t))}async function Ue(e,t){return H(e,"POST","/v1/accounts:update",t)}async function ze(e,t){return K(e,"POST","/v1/accounts:signInWithPassword",W(e,t))}async function Ve(e,t){return H(e,"POST","/v1/accounts:sendOobCode",W(e,t))}async function We(e,t){return Ve(e,t)}async function He(e,t){return Ve(e,t)}class qe extends $e{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new qe(e,t,"password")}static _fromEmailAndCode(e,t){return new qe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ne(e,n,"signInWithPassword");return ze(e,t)}return ze(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ne(e,n,"signInWithPassword");return ze(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return K(e,"POST","/v1/accounts:signInWithEmailLink",W(e,t))}(e,{email:this._email,oobCode:this._password});default:T(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ue(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return K(e,"POST","/v1/accounts:signInWithEmailLink",W(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:T(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ke(e,t){return K(e,"POST","/v1/accounts:signInWithIdp",W(e,t))}class Ge extends $e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ge(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):T("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=f(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Ge(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Qe={USER_NOT_FOUND:"user-not-found"};class Ye extends $e{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ye({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ye({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return K(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await K(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,t));if(n.temporaryProof)throw Y(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return K(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Qe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Ye({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Xe{constructor(e){var t,n,r,o,s,a;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);L(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Xe(t)}catch(n){return null}}}class Je{constructor(){this.providerId=Je.PROVIDER_ID}static credential(e,t){return qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xe.parseLink(t);return L(n,"argument-error"),qe._fromEmailAndCode(e,n.code,n.tenantId)}}Je.PROVIDER_ID="password",Je.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Je.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class et extends Ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tt extends et{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return L("providerId"in t&&"signInMethod"in t,"argument-error"),Ge._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return L(e.idToken||e.accessToken,"argument-error"),Ge._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:s,providerId:a}=t;if(!i&&!r&&!n&&!o)return null;if(!a)return null;try{return new tt(a)._credential({idToken:n,accessToken:i,nonce:s,pendingToken:o})}catch(l){return null}}}class nt extends et{constructor(){super("facebook.com")}static credential(e){return Ge._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nt.credential(t.oauthAccessToken)}catch(n){return null}}}nt.FACEBOOK_SIGN_IN_METHOD="facebook.com",nt.PROVIDER_ID="facebook.com";class it extends et{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ge._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return it.credential(n,i)}catch(r){return null}}}it.GOOGLE_SIGN_IN_METHOD="google.com",it.PROVIDER_ID="google.com";class rt extends et{constructor(){super("github.com")}static credential(e){return Ge._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rt.credential(t.oauthAccessToken)}catch(n){return null}}}rt.GITHUB_SIGN_IN_METHOD="github.com",rt.PROVIDER_ID="github.com";class ot extends $e{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new ot(n,r):null}static _create(e,t){return new ot(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class st extends Ze{constructor(e){L(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return st.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return st.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ot.fromJSON(e);return L(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return ot._create(i,n)}catch(r){return null}}}class at extends et{constructor(){super("twitter.com")}static credential(e,t){return Ge._fromParams({providerId:at.PROVIDER_ID,signInMethod:at.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return at.credentialFromTaggedObject(e)}static credentialFromError(e){return at.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return at.credential(n,i)}catch(r){return null}}}async function lt(e,t){return K(e,"POST","/v1/accounts:signUp",W(e,t))}at.TWITTER_SIGN_IN_METHOD="twitter.com",at.PROVIDER_ID="twitter.com";class ct{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await se._fromIdTokenResponse(e,n,i),o=ut(n);return new ct({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ut(n);return new ct({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ut(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ht extends i.g{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ht.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new ht(e,t,n,i)}}function dt(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ht._fromErrorAndOperation(e,n,t,i);throw n}))}function pt(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ft(e,t){const n=(0,i.Ku)(e);await mt(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return H(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=pt(r||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await ee(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ct._forOperation(e,"link",i)}async function mt(e,t,n){await ie(t);const i=!1===e?"provider-already-linked":"no-such-provider";L(pt(t.providerData).has(n)===e,t.auth,i)}async function vt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const o=await ee(e,dt(i,r,t,e),n);L(o.idToken,i,"internal-error");const s=Z(o.idToken);L(s,i,"internal-error");const{sub:a}=s;return L(e.uid===a,i,"user-mismatch"),ct._forOperation(e,r,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&T(i,"user-mismatch"),o}}async function yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await dt(e,i,t),o=await ct._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function _t(e,t){return yt(Pe(e),t)}async function bt(e,t){const n=(0,i.Ku)(e);return await mt(!1,n,t.providerId),gt(n,t)}async function wt(e,t){return vt((0,i.Ku)(e),t)}async function xt(e,t){const n=Pe(e),i=await async function(e,t){return K(e,"POST","/v1/accounts:signInWithCustomToken",W(e,t))}(n,{token:t,returnSecureToken:!0}),r=await ct._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class At{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?kt._fromServerResponse(e,t):"totpInfo"in t?Ct._fromServerResponse(e,t):T(e,"internal-error")}}class kt extends At{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new kt(t)}}class Ct extends At{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ct(t)}}function St(e,t,n){var i;L((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),L("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(L(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(L(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Et(e,t){await async function(e,t){return H(e,"POST","/v1/accounts:update",W(e,t))}((0,i.Ku)(e),{oobCode:t})}async function Tt(e,t){const n=(0,i.Ku)(e),r=await Be(n,{oobCode:t}),o=r.requestType;switch(L(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(r.mfaInfo,n,"internal-error");default:L(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=At._fromServerResponse(Pe(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:o}}async function It(e,t){const n={identifier:t,continueUri:j()?D():"http://localhost"},{signinMethods:r}=await async function(e,t){return H(e,"POST","/v1/accounts:createAuthUri",W(e,t))}((0,i.Ku)(e),n);return r||[]}async function Mt(e,t){const n=(0,i.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&St(n.auth,r,t);const{email:o}=await async function(e,t){return Ve(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function Nt(e,t,n){const r=(0,i.Ku)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&St(r.auth,o,n);const{email:s}=await async function(e,t){return Ve(e,t)}(r.auth,o);s!==e.email&&await e.reload()}async function Rt(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=(0,i.Ku)(e),s={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await ee(o,async function(e,t){return H(e,"POST","/v1/accounts:update",t)}(o.auth,s));o.displayName=a.displayName||null,o.photoURL=a.photoUrl||null;const l=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(a)}async function Lt(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const o=await ee(e,Ue(i,r));await e._updateTokensIfNecessary(o,!0)}class Pt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ot extends Pt{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Dt extends Pt{constructor(e,t){super(e,"facebook.com",t)}}class jt extends Ot{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ft extends Pt{constructor(e,t){super(e,"google.com",t)}}class $t extends Ot{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Bt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=Z(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new Pt(o,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new Dt(o,r);case"github.com":return new jt(o,r);case"google.com":return new Ft(o,r);case"twitter.com":return new $t(o,r,e.screenName||null);case"custom":case"anonymous":return new Pt(o,null);default:return new Pt(o,i,r)}}(n)}class Ut{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Ut("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ut("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ut._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ut._fromIdtoken(e.multiFactorSession.idToken)}return null}}class zt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Pe(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>At._fromServerResponse(n,e)));L(i.mfaPendingCredential,n,"internal-error");const o=Ut._fromMfaPendingCredential(i.mfaPendingCredential);return new zt(o,r,(async e=>{const r=await e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await ct._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return L(t.user,n,"internal-error"),ct._forOperation(t.user,t.operationType,s);default:T(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Vt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>At._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Vt(e)}async getSession(){return Ut._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await ee(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ee(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},H(i,"POST","/v2/accounts/mfaEnrollment:withdraw",W(i,r))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var i,r}}const Wt=new WeakMap;const Ht="__sak";class qt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ht,"1"),this.storage.removeItem(Ht),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Kt extends qt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.ZQ)();return ge(e)||we(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=xe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kt.type="LOCAL";const Gt=Kt;class Qt extends qt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qt.type="SESSION";const Yt=Qt;class Xt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Jt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Xt.receivers=[];class Zt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const l=Jt("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function en(){return window}function tn(){return"undefined"!==typeof en().WorkerGlobalScope&&"function"===typeof en().importScripts}const nn="firebaseLocalStorageDb",rn="firebaseLocalStorage",on="fbase_key";class sn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function an(e,t){return e.transaction([rn],t?"readwrite":"readonly").objectStore(rn)}function ln(){const e=indexedDB.open(nn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(rn,{keyPath:on})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(rn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(nn);return new sn(e).toPromise()}(),t(await ln()))}))}))}async function cn(e,t,n){const i=an(e,!0).put({[on]:t,value:n});return new sn(i).toPromise()}function un(e,t){const n=an(e,!0).delete(t);return new sn(n).toPromise()}class hn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ln()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xt._getInstance(tn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Zt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ln();return await cn(e,Ht,"1"),await un(e,Ht),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=an(e,!1).get(t),i=await new sn(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>un(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=an(e,!1).getAll();return new sn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hn.type="LOCAL";const dn=hn;const pn=1e12;class fn{constructor(e){this.auth=e,this.counter=pn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new gn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||pn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||pn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||pn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class gn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;L(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mn=Ie("rcb"),vn=new $(3e4,6e4);class yn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=en().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return L(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ce(en().grecaptcha)?Promise.resolve(en().grecaptcha):new Promise(((n,r)=>{const o=en().setTimeout((()=>{r(I(e,"network-request-failed"))}),vn.get());en()[mn]=()=>{en().clearTimeout(o),delete en()[mn];const i=en().grecaptcha;if(!i||!Ce(i))return void r(I(e,"internal-error"));const s=i.render;i.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};Te("".concat("https://www.google.com/recaptcha/api.js?","?").concat((0,i.Am)({onload:mn,render:"explicit",hl:t}))).catch((()=>{clearTimeout(o),r(I(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=en().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _n{async load(e){return new fn(e)}clearedOneInstance(){}}const bn="recaptcha",wn={theme:"light",type:"image"};class xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},wn),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=bn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(n),this.isInvisible="invisible"===this.parameters.size,L("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof e?document.getElementById(e):e;L(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _n:new yn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=en()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){L(j()&&!tn(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await H(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);L(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class An{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ye._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function kn(e,t,n){var i;const r=await n.verify();try{let o;if(L("string"===typeof r,e,"argument-error"),L(n.type===bn,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){L("enroll"===t.type,e,"internal-error");const n=await function(e,t){return H(e,"POST","/v2/accounts/mfaEnrollment:start",W(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{L("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;L(n,e,"missing-multi-factor-info");const s=await function(e,t){return H(e,"POST","/v2/accounts/mfaSignIn:start",W(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return H(e,"POST","/v1/accounts:sendVerificationCode",W(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Cn{constructor(e){this.providerId=Cn.PROVIDER_ID,this.auth=Pe(e)}verifyPhoneNumber(e,t){return kn(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Ye._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Cn.credentialFromTaggedObject(t)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Ye._fromTokenResponse(n,i):null}}function Sn(e,t){return t?le(t):(L(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cn.PROVIDER_ID="phone",Cn.PHONE_SIGN_IN_METHOD="phone";class En extends $e{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ke(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tn(e){return yt(e.auth,new En(e),e.bypassAuthState)}function In(e){const{auth:t,user:n}=e;return L(n,t,"internal-error"),vt(n,new En(e),e.bypassAuthState)}async function Mn(e){const{auth:t,user:n}=e;return L(n,t,"internal-error"),gt(n,new En(e),e.bypassAuthState)}class Nn{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tn;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return In;default:T(this.auth,"internal-error")}}resolve(e){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rn=new $(2e3,1e4);class Ln extends Nn{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Ln.currentPopupAction&&Ln.currentPopupAction.cancel(),Ln.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){O(1===this.filter.length,"Popup operations only handle one event");const e=Jt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(I(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(I(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ln.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(I(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rn.get())};e()}}Ln.currentPopupAction=null;const Pn="pendingRedirect",On=new Map;class Dn extends Nn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=On.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Bn(t),i=$n(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}On.set(this.auth._key(),e)}return this.bypassAuthState||On.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function jn(e,t){return $n(e)._set(Bn(t),"true")}function Fn(e,t){On.set(e._key(),t)}function $n(e){return le(e._redirectPersistence)}function Bn(e){return he(Pn,e.config.apiKey,e.name)}function Un(e,t,n){return async function(e,t,n){const i=Pe(e);N(e,t,Ze),await i._initializationPromise;const r=Sn(i,n);return await jn(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function zn(e,t,n){return async function(e,t,n){const r=(0,i.Ku)(e);N(r.auth,t,Ze),await r.auth._initializationPromise;const o=Sn(r.auth,n);await jn(o,r.auth);const s=await Hn(r);return o._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Vn(e,t,n){return async function(e,t,n){const r=(0,i.Ku)(e);N(r.auth,t,Ze),await r.auth._initializationPromise;const o=Sn(r.auth,n);await mt(!1,r,t.providerId),await jn(o,r.auth);const s=await Hn(r);return o._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Pe(e),r=Sn(i,t),o=new Dn(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}async function Hn(e){const t=Jt("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class qn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Gn(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(I(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kn(e))}saveEventToCache(e){this.cachedEventUids.add(Kn(e)),this.lastProcessedEventTime=Date.now()}}function Kn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Gn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Qn(e){return H(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Yn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xn=/^https?/;function Jn(e){const t=D(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Xn.test(n))return!1;if(Yn.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Zn=new $(3e4,6e4);function ei(){const e=en().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ti=null;function ni(e){return ti=ti||function(e){return new Promise(((t,n)=>{var i,r,o;function s(){ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ei(),n(I(e,"network-request-failed"))},timeout:Zn.get()})}if(null===(r=null===(i=en().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=en().gapi)||void 0===o?void 0:o.load)){const t=Ie("iframefcb");return en()[t]=()=>{gapi.load?s():n(I(e,"network-request-failed"))},Te("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ti=null,e}))}(e),ti}const ii=new $(5e3,15e3),ri="__/auth/iframe",oi="emulator/auth/iframe",si={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function li(e){const t=e.config;L(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?B(t,oi):"https://".concat(e.config.authDomain,"/").concat(ri),r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},s=ai.get(e.config.apiHost);s&&(r.eid=s);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,i.Am)(r).slice(1))}const ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ui{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ci),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.ZQ)().toLowerCase();n&&(l=me(u)?"_blank":n),fe(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",l),new ui(null);const d=window.open(t||"",l,h);L(d,e,"popup-blocked");try{d.focus()}catch(p){}return new ui(d)}const di="__/auth/handler",pi="emulator/auth/handler",fi=encodeURIComponent("fac");async function gi(e,t,n,r,s,a){L(e.config.authDomain,e,"auth-domain-config-required"),L(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:s};if(t instanceof Ze){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof et){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];const u=await e._getAppCheckToken(),h=u?"#".concat(fi,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(di);return B(t,pi)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(h)}const mi="webStorageSupport";const vi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yt,this._completeRedirectFn=Wn,this._overrideRedirectResult=Fn}async _openPopup(e,t,n,i){var r;O(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return hi(e,await gi(e,t,n,D(),i),Jt())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){en().location.href=e}(await gi(e,t,n,D(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(O(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ni(e),n=en().gapi;return L(n,e,"internal-error"),t.open({where:document.body,url:li(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:si,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=I(e,"network-request-failed"),o=en().setTimeout((()=>{i(r)}),ii.get());function s(){en().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{i(r)}))}))))}(e),n=new qn(e);return t.register("authEvent",(t=>{L(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mi,{type:mi},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[mi];void 0!==r&&t(!!r),T(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Qn(e);for(const i of t)try{if(Jn(i))return}catch(n){}T(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xe()||ge()||we()}};class yi{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return P("unexpected MultiFactorSessionType")}}}class _i extends yi{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _i(e)}_finalizeEnroll(e,t,n){return function(e,t){return H(e,"POST","/v2/accounts/mfaEnrollment:finalize",W(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return H(e,"POST","/v2/accounts/mfaSignIn:finalize",W(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class bi{constructor(){}static assertion(e){return _i._fromCredential(e)}}bi.FACTOR_ID="phone";var wi="@firebase/auth",xi="0.23.2";class Ai{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge");var ki;function Ci(){return window}ki="Browser",(0,o._registerComponent)(new r.uA("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;L(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:ki,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ae(ki)},c=new Le(i,r,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(le);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,o._registerComponent)(new r.uA("auth-internal",(e=>(e=>new Ai(e))(Pe(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(wi,xi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ki)),(0,o.registerVersion)(wi,xi,"esm2017");async function Si(e,t,n){var i;const{BuildInfo:r}=Ci();O(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(O(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return we()?s.ibi=r.packageName:ye()?s.apn=r.packageName:T(e,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=o,gi(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,s)}function Ei(e){const{cordova:t}=Ci();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let o=null;r?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(o)}))}))}const Ti=20;class Ii extends qn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Mi(e){const t=await Li()._get(Pi(e));return t&&await Li()._remove(Pi(e)),t}function Ni(e,t){var n,i;const r=function(e){const t=Oi(e),n=t.link?decodeURIComponent(t.link):void 0,i=Oi(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Oi(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=Oi(r),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(i=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=s?I(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function Ri(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ti;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Li(){return le(Gt)}function Pi(e){return he("authEvent",e.config.apiKey,e.name)}function Oi(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,i.I9)(n.join("?"))}const Di=class{constructor(){this._redirectPersistence=Yt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wn,this._overrideRedirectResult=Fn}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ii(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){T(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,o,s,a,l,c,u;const h=Ci();L("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),L("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),L("function"===typeof(null===(o=null===(r=null===(i=null===h||void 0===h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"===typeof(null===(l=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),On.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Ri(),postBody:null,tenantId:e.tenantId,error:I(e,"no-auth-event")}}(e,n,i);await function(e,t){return Li()._set(Pi(e),t)}(e,o);const s=await Si(e,o,t);return async function(e,t,n){const{cordova:i}=Ci();let r=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(I(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ye()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{r()}}(e,r,await Ei(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ci(),n={};we()?n.iosBundleId=t.packageName:ye()?n.androidPackageName=t.packageName:T(e,"operation-not-supported-in-this-environment"),await Qn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=Ci(),o=setTimeout((async()=>{await Mi(e),t.onEvent(ji())}),500),s=async n=>{clearTimeout(o);const i=await Mi(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=Ni(i,n.url)),t.onEvent(r||ji())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=i,l="".concat(r.packageName.toLowerCase(),"://");Ci().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function ji(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:I("no-auth-event")}}function Fi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return!("file:"!==Fi()&&"ionic:"!==Fi()&&"capacitor:"!==Fi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return(0,i.lT)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/Edge\/\d+/.test(e)}(e)}function Ui(){try{const e=self.localStorage,t=Jt();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bi()||(0,i.zW)()}catch(e){return zi()&&(0,i.zW)()}return!1}function zi(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vi(){return("http:"===Fi()||"https:"===Fi()||(0,i.sr)()||$i())&&!((0,i.lV)()||(0,i.Ll)())&&Ui()&&!zi()}function Wi(){return $i()&&"undefined"!==typeof document}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},qi=L,Ki="persistence";async function Gi(e){await e._initializationPromise;const t=Qi(),n=he(Ki,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Qi(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Yi=L;class Xi{constructor(){this.browserResolver=le(vi),this.cordovaResolver=le(Di),this.underlyingResolver=null,this._redirectPersistence=Yt,this._completeRedirectFn=Wn,this._overrideRedirectResult=Fn}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yi(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Wi()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ji(e){return e.unwrap()}function Zi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ir(e,function(e,t){var n;const r=(0,i.Ku)(e),o=t;return L(t.customData.operationType,r,"argument-error"),L(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),zt._fromError(r,o)}(e,t))}else if(r){const e=er(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function er(e){const{_tokenResponse:t}=e instanceof i.g?e.customData:e;if(!t)return null;if(!(e instanceof i.g)&&"temporaryProof"in t&&"phoneNumber"in t)return Cn.credentialFromResult(e);const n=t.providerId;if(!n||n===g.PASSWORD)return null;let r;switch(n){case g.GOOGLE:r=it;break;case g.FACEBOOK:r=nt;break;case g.GITHUB:r=rt;break;case g.TWITTER:r=at;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?ot._create(n,s):Ge._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new tt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof i.g?r.credentialFromError(e):r.credentialFromResult(e)}function tr(e,t){return t.catch((t=>{throw t instanceof i.g&&Zi(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,er(i)),additionalUserInfo:Bt(e),user:rr.getOrCreate(n)};var i}))}async function nr(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>tr(e,n.confirm(t))}}class ir{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(Ji(this.auth),this.resolver.resolveSignIn(e))}}class rr{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,i.Ku)(e);return Wt.has(t)||Wt.set(t,Vt._fromUser(t)),Wt.get(t)}(e)}static getOrCreate(e){return rr.USER_MAP.has(e)||rr.USER_MAP.set(e,new rr(e)),rr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tr(this.auth,bt(this._delegate,e))}async linkWithPhoneNumber(e,t){return nr(this.auth,async function(e,t,n){const r=(0,i.Ku)(e);await mt(!1,r,"phone");const o=await kn(r.auth,t,(0,i.Ku)(n));return new An(o,(e=>bt(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return tr(this.auth,async function(e,t,n){const r=(0,i.Ku)(e);N(r.auth,t,Ze);const o=Sn(r.auth,n);return new Ln(r.auth,"linkViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Xi))}async linkWithRedirect(e){return await Gi(Pe(this.auth)),Vn(this._delegate,e,Xi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tr(this.auth,wt(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return nr(this.auth,async function(e,t,n){const r=(0,i.Ku)(e),o=await kn(r.auth,t,(0,i.Ku)(n));return new An(o,(e=>wt(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return tr(this.auth,async function(e,t,n){const r=(0,i.Ku)(e);N(r.auth,t,Ze);const o=Sn(r.auth,n);return new Ln(r.auth,"reauthViaPopup",t,o,r).executeNotNull()}(this._delegate,e,Xi))}async reauthenticateWithRedirect(e){return await Gi(Pe(this.auth)),zn(this._delegate,e,Xi)}sendEmailVerification(e){return Mt(this._delegate,e)}async unlink(e){return await ft(this._delegate,e),this}updateEmail(e){return function(e,t){return Lt((0,i.Ku)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Lt((0,i.Ku)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await gt((0,i.Ku)(e),t)}(this._delegate,e)}updateProfile(e){return Rt(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Nt(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rr.USER_MAP=new WeakMap;const or=L;class sr{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;or(n,"invalid-api-key",{appName:e.name}),or(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?Xi:void 0;this._delegate=t.initialize({options:{persistence:lr(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(A),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){De(this._delegate,e,t)}applyActionCode(e){return Et(this._delegate,e)}checkActionCode(e){return Tt(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Be((0,i.Ku)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tr(this._delegate,async function(e,t,n){var i;const r=Pe(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ne(r,o,"signUpPassword");s=lt(r,e)}else s=lt(r,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ne(r,o,"signUpPassword");return lt(r,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await ct._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return It(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Xe.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){or(Vi(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Pe(e)._initializationPromise,Wn(e,t,!1)}(this._delegate,Xi);return e?tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Pe(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:o}=ar(e,t,n);return this._delegate.onAuthStateChanged(i,r,o)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:o}=ar(e,t,n);return this._delegate.onIdTokenChanged(i,r,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var i;const r=Pe(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){L(t.handleCodeInApp,r,"argument-error"),t&&St(r,e,t)}if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ne(r,o,"getOobCode",!0);s(e,n),await He(r,e)}else s(o,n),await He(r,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Ne(r,o,"getOobCode",!0);s(e,n),await He(r,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var i;const r=Pe(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ne(r,o,"getOobCode",!0);n&&St(r,e,n),await We(r,e)}else n&&St(r,o,n),await We(r,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ne(r,o,"getOobCode",!0);n&&St(r,e,n),await We(r,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){qi(Object.values(Hi).includes(t),e,"invalid-persistence-type"),(0,i.lV)()?qi(t!==Hi.SESSION,e,"unsupported-persistence-type"):(0,i.Ll)()?qi(t===Hi.NONE,e,"unsupported-persistence-type"):zi()?qi(t===Hi.NONE||t===Hi.LOCAL&&(0,i.zW)(),e,"unsupported-persistence-type"):qi(t===Hi.NONE||Ui(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Hi.SESSION:t=Yt;break;case Hi.LOCAL:t=await le(dn)._isAvailable()?dn:Gt;break;case Hi.NONE:t=ue;break;default:return T("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tr(this._delegate,async function(e){var t;const n=Pe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ct({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await lt(n,{returnSecureToken:!0}),r=await ct._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return tr(this._delegate,_t(this._delegate,e))}signInWithCustomToken(e){return tr(this._delegate,xt(this._delegate,e))}signInWithEmailAndPassword(e,t){return tr(this._delegate,function(e,t,n){return _t((0,i.Ku)(e),Je.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return tr(this._delegate,async function(e,t,n){const r=(0,i.Ku)(e),o=Je.credentialWithLink(t,n||D());return L(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_t(r,o)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return nr(this._delegate,async function(e,t,n){const r=Pe(e),o=await kn(r,t,(0,i.Ku)(n));return new An(o,(e=>_t(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return or(Vi(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,async function(e,t,n){const i=Pe(e);N(e,t,Ze);const r=Sn(i,n);return new Ln(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,Xi))}async signInWithRedirect(e){return or(Vi(),this._delegate,"operation-not-supported-in-this-environment"),await Gi(this._delegate),Un(this._delegate,e,Xi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Tt((0,i.Ku)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ar(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&rr.getOrCreate(e)),error:t,complete:n}}function lr(e,t){const n=function(e,t){const n=Qi();if(!n)return[];const i=he(Ki,e,t);switch(n.getItem(i)){case Hi.NONE:return[ue];case Hi.LOCAL:return[dn,Yt];case Hi.SESSION:return[Yt];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(dn)||n.push(dn),"undefined"!==typeof window)for(const i of[Gt,Yt])n.includes(i)||n.push(i);return n.includes(ue)||n.push(ue),n}sr.Persistence=Hi;class cr{constructor(){this.providerId="phone",this._delegate=new Cn(Ji(d.auth()))}static credential(e,t){return Cn.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}cr.PHONE_SIGN_IN_METHOD=Cn.PHONE_SIGN_IN_METHOD,cr.PROVIDER_ID=Cn.PROVIDER_ID;const ur=L;class hr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.app();var i;ur(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new xn(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var dr;(dr=d).INTERNAL.registerComponent(new r.uA("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sr(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:m,PASSWORD_RESET:v,RECOVER_EMAIL:y,REVERT_SECOND_FACTOR_ADDITION:_,VERIFY_AND_CHANGE_EMAIL:b,VERIFY_EMAIL:w}},EmailAuthProvider:Je,FacebookAuthProvider:nt,GithubAuthProvider:rt,GoogleAuthProvider:it,OAuthProvider:tt,SAMLAuthProvider:st,PhoneAuthProvider:cr,PhoneMultiFactorGenerator:bi,RecaptchaVerifier:hr,TwitterAuthProvider:at,Auth:sr,AuthCredential:$e,Error:i.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),dr.registerVersion("@firebase/auth-compat","0.4.2");var pr=n(9085);function fr(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pr.W6("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function gr(){if("undefined"===typeof Uint8Array)throw new pr.W6("unimplemented","Uint8Arrays are not available in this environment.")}function mr(){if(!(0,pr.qG)())throw new pr.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vr{constructor(e){this._delegate=e}static fromBase64String(e){return mr(),new vr(pr.Ix.fromBase64String(e))}static fromUint8Array(e){return gr(),new vr(pr.Ix.fromUint8Array(e))}toBase64(){return mr(),this._delegate.toBase64()}toUint8Array(){return gr(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yr(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"===typeof n[i])return!0;return!1}(e,["next","error","complete"])}class _r{enableIndexedDbPersistence(e,t){return(0,pr.ol)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,pr.Q5)(e._delegate)}clearIndexedDbPersistence(e){return(0,pr.me)(e._delegate)}}class br{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof pr.cm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,pr.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,pr.vN)(this._delegate,e,t,n)}enableNetwork(){return(0,pr.Os)(this._delegate)}disableNetwork(){return(0,pr.LA)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,pr.c8)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,pr.iB)(this._delegate)}onSnapshotsInSync(e){return(0,pr.FC)(this._delegate,e)}get app(){if(!this._appCompat)throw new pr.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pr(this,(0,pr.rJ)(this._delegate,e))}catch(t){throw Sr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Cr(this,(0,pr.H9)(this._delegate,e))}catch(t){throw Sr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nr(this,(0,pr.Cs)(this._delegate,e))}catch(t){throw Sr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,pr.c4)(this._delegate,(t=>e(new xr(this,t))))}batch(){return(0,pr.Ws)(this._delegate),new Ar(new pr.GA(this._delegate,(e=>(0,pr.z6)(this._delegate,e))))}loadBundle(e){return(0,pr.po)(this._delegate,e)}namedQuery(e){return(0,pr.St)(this._delegate,e).then((e=>e?new Nr(this,e):null))}}class wr extends pr.fS{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(new pr.Ix(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cr.forKey(t,this.firestore,null)}}class xr{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wr(e)}get(e){const t=Or(e);return this._delegate.get(t).then((e=>new Ir(this._firestore,new pr.Wq(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=Or(e);return n?(fr("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];const s=Or(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Or(e);return this._delegate.delete(t),this}}class Ar{constructor(e){this._delegate=e}set(e,t,n){const i=Or(e);return n?(fr("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];const s=Or(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Or(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kr{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new pr.YQ(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mr(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=kr.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new kr(e,new wr(e),t),i.set(t,r)),r}}kr.INSTANCES=new WeakMap;class Cr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wr(e)}static forPath(e,t,n){if(e.length%2!==0)throw new pr.W6("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Cr(t,new pr.T1(t._delegate,n,new pr.K$(e)))}static forKey(e,t,n){return new Cr(t,new pr.T1(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Pr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pr(this.firestore,(0,pr.rJ)(this._delegate,e))}catch(t){throw Sr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,i.Ku)(e))instanceof pr.T1&&(0,pr.yx)(this._delegate,e)}set(e,t){t=fr("DocumentReference.set",t);try{return t?(0,pr.BN)(this._delegate,e,t):(0,pr.BN)(this._delegate,e)}catch(n){throw Sr(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];try{return 1===arguments.length?(0,pr.mZ)(this._delegate,e):(0,pr.mZ)(this._delegate,e,t,...i)}catch(o){throw Sr(o,"updateDoc()","DocumentReference.update()")}}delete(){return(0,pr.kd)(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Er(t),r=Tr(t,(e=>new Ir(this.firestore,new pr.Wq(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return(0,pr.aQ)(this._delegate,i,r)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,pr.nY)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,pr._e)(this._delegate):(0,pr.x7)(this._delegate),t.then((e=>new Ir(this.firestore,new pr.Wq(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Cr(this.firestore,e?this._delegate.withConverter(kr.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Sr(e,t,n){return e.message=e.message.replace(t,n),e}function Er(e){for(const t of e)if("object"===typeof t&&!yr(t))return t;return{}}function Tr(e,t){var n,i;let r;return r=yr(e[0])?e[0]:yr(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ir{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,pr.lN)(this._delegate,e._delegate)}}class Mr extends Ir{data(e){const t=this._delegate.data(e);return(0,pr.bI)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class Nr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wr(e)}where(e,t,n){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr._M)(e,t,n)))}catch(i){throw Sr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.My)(e,t)))}catch(n){throw Sr(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.AB)(e)))}catch(t){throw Sr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.$1)(e)))}catch(t){throw Sr(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.EO)(...arguments)))}catch(e){throw Sr(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.HM)(...arguments)))}catch(e){throw Sr(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.rf)(...arguments)))}catch(e){throw Sr(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Nr(this.firestore,(0,pr.P)(this._delegate,(0,pr.FD)(...arguments)))}catch(e){throw Sr(e,"endAt()","Query.endAt()")}}isEqual(e){return(0,pr.B)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,pr.kU)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,pr.Rr)(this._delegate):(0,pr.GG)(this._delegate),t.then((e=>new Lr(this.firestore,new pr.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Er(t),r=Tr(t,(e=>new Lr(this.firestore,new pr.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return(0,pr.aQ)(this._delegate,i,r)}withConverter(e){return new Nr(this.firestore,e?this._delegate.withConverter(kr.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Rr{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lr{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Mr(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Rr(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Mr(this._firestore,n))}))}isEqual(e){return(0,pr.lN)(this._delegate,e._delegate)}}class Pr extends Nr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cr(this.firestore,e):null}doc(e){try{return new Cr(this.firestore,void 0===e?(0,pr.H9)(this._delegate):(0,pr.H9)(this._delegate,e))}catch(t){throw Sr(t,"doc()","CollectionReference.doc()")}}add(e){return(0,pr.gS)(this._delegate,e).then((e=>new Cr(this.firestore,e)))}isEqual(e){return(0,pr.yx)(this._delegate,e._delegate)}withConverter(e){return new Pr(this.firestore,e?this._delegate.withConverter(kr.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Or(e){return(0,pr.lo)(e,pr.T1)}class Dr{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new pr.uY(...t)}static documentId(){return new Dr(pr.FA.keyField().canonicalString())}isEqual(e){return(e=(0,i.Ku)(e))instanceof pr.uY&&this._delegate._internalPath.isEqual(e._internalPath)}}class jr{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,pr.O5)();return e._methodName="FieldValue.serverTimestamp",new jr(e)}static delete(){const e=(0,pr.CL)();return e._methodName="FieldValue.delete",new jr(e)}static arrayUnion(){const e=(0,pr.hq)(...arguments);return e._methodName="FieldValue.arrayUnion",new jr(e)}static arrayRemove(){const e=(0,pr.C3)(...arguments);return e._methodName="FieldValue.arrayRemove",new jr(e)}static increment(e){const t=(0,pr.GV)(e);return t._methodName="FieldValue.increment",new jr(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Fr={Firestore:br,GeoPoint:pr.Ci,Timestamp:pr.Dc,Blob:vr,Transaction:xr,WriteBatch:Ar,DocumentReference:Cr,DocumentSnapshot:Ir,Query:Nr,QueryDocumentSnapshot:Mr,QuerySnapshot:Lr,CollectionReference:Pr,FieldPath:Dr,FieldValue:jr,setLogLevel:function(e){(0,pr.He)(e)},CACHE_SIZE_UNLIMITED:pr.H6};!function(e){!function(e,t){e.INTERNAL.registerComponent(new r.uA("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(n,i)}),"PUBLIC").setServiceProps(Object.assign({},Fr)))}(e,((e,t)=>new br(e,t,new _r))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(d);const $r=(e,t)=>t.some((t=>e instanceof t));let Br,Ur;const zr=new WeakMap,Vr=new WeakMap,Wr=new WeakMap,Hr=new WeakMap,qr=new WeakMap;let Kr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Gr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ur||(Ur=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Xr(this),n),Yr(zr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Yr(e.apply(Xr(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=e.call(Xr(this),t,...i);return Wr.set(o,t.sort?t.sort():[t]),Yr(o)}}function Qr(e){return"function"===typeof e?Gr(e):(e instanceof IDBTransaction&&function(e){if(Vr.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));Vr.set(e,t)}(e),$r(e,Br||(Br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Kr):e)}function Yr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(Yr(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&zr.set(t,e)})).catch((()=>{})),qr.set(t,e),t}(e);if(Hr.has(e))return Hr.get(e);const t=Qr(e);return t!==e&&(Hr.set(e,t),qr.set(t,e)),t}const Xr=e=>qr.get(e);const Jr=["get","getKey","getAll","getAllKeys","count"],Zr=["put","add","delete","clear"],eo=new Map;function to(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(eo.get(t))return eo.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Zr.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Jr.includes(n))return;const o=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&t.done]))[0]};return eo.set(t,o),o}Kr=(e=>({...e,get:(t,n,i)=>to(t,n)||e.get(t,n,i),has:(t,n)=>!!to(t,n)||e.has(t,n)}))(Kr);const no="@firebase/installations",io="0.6.4",ro=1e4,oo="w:".concat(io),so="FIS_v2",ao="https://firebaseinstallations.googleapis.com/v1",lo=36e5,co={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uo=new i.FA("installations","Installations",co);function ho(e){return e instanceof i.g&&e.code.includes("request-failed")}function po(e){let{projectId:t}=e;return"".concat(ao,"/projects/").concat(t,"/installations")}function fo(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function go(e,t){const n=(await t.json()).error;return uo.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function mo(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vo(e,t){let{refreshToken:n}=t;const i=mo(e);return i.append("Authorization",function(e){return"".concat(so," ").concat(e)}(n)),i}async function yo(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _o(e){return new Promise((t=>{setTimeout(t,e)}))}const bo=/^[cdef][\w-]{21}$/,wo="";function xo(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return bo.test(t)?t:wo}catch(e){return wo}}function Ao(e){return"".concat(e.appName,"!").concat(e.appId)}const ko=new Map;function Co(e,t){const n=Ao(e);So(n,t),function(e,t){const n=To();n&&n.postMessage({key:e,fid:t});Io()}(n,t)}function So(e,t){const n=ko.get(e);if(n)for(const i of n)i(t)}let Eo=null;function To(){return!Eo&&"BroadcastChannel"in self&&(Eo=new BroadcastChannel("[Firebase] FID Change"),Eo.onmessage=e=>{So(e.data.key,e.data.fid)}),Eo}function Io(){0===ko.size&&Eo&&(Eo.close(),Eo=null)}const Mo="firebase-installations-database",No=1,Ro="firebase-installations-store";let Lo=null;function Po(){return Lo||(Lo=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Yr(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(Yr(s.result),e.oldVersion,e.newVersion,Yr(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}(Mo,No,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ro)}})),Lo}async function Oo(e,t){const n=Ao(e),i=(await Po()).transaction(Ro,"readwrite"),r=i.objectStore(Ro),o=await r.get(n);return await r.put(t,n),await i.done,o&&o.fid===t.fid||Co(e,t.fid),t}async function Do(e){const t=Ao(e),n=(await Po()).transaction(Ro,"readwrite");await n.objectStore(Ro).delete(t),await n.done}async function jo(e,t){const n=Ao(e),i=(await Po()).transaction(Ro,"readwrite"),r=i.objectStore(Ro),o=await r.get(n),s=t(o);return void 0===s?await r.delete(n):await r.put(s,n),await i.done,!s||o&&o.fid===s.fid||Co(e,s.fid),s}async function Fo(e){let t;const n=await jo(e.appConfig,(n=>{const i=function(e){const t=e||{fid:xo(),registrationStatus:0};return Uo(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(uo.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:i}=e,{fid:r}=t;const o=po(n),s=mo(n),a=i.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:r,authVersion:so,appId:n.appId,sdkVersion:oo},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await yo((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:fo(e.authToken)}}throw await go("Create Installation",u)}(e,t);return Oo(e.appConfig,n)}catch(n){throw ho(n)&&409===n.customData.serverCode?await Do(e.appConfig):await Oo(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$o(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}));return n.fid===wo?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $o(e){let t=await Bo(e.appConfig);for(;1===t.registrationStatus;)await _o(100),t=await Bo(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Fo(e);return n||t}return t}function Bo(e){return jo(e,(e=>{if(!e)throw uo.create("installation-not-found");return Uo(e)}))}function Uo(e){return 1===(t=e).registrationStatus&&t.registrationTime+ro<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function zo(e,t){let{appConfig:n,heartbeatServiceProvider:i}=e;const r=function(e,t){let{fid:n}=t;return"".concat(po(e),"/").concat(n,"/authTokens:generate")}(n,t),o=vo(n,t),s=i.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:oo,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await yo((()=>fetch(r,l)));if(c.ok){return fo(await c.json())}throw await go("Generate Auth Token",c)}async function Vo(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await jo(e.appConfig,(i=>{if(!Ho(i))throw uo.create("not-registered");const r=i.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lo}(e)}(r))return i;if(1===r.requestStatus)return t=async function(e,t){let n=await Wo(e.appConfig);for(;1===n.authToken.requestStatus;)await _o(100),n=await Wo(e.appConfig);const i=n.authToken;return 0===i.requestStatus?Vo(e,t):i}(e,n),i;{if(!navigator.onLine)throw uo.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return t=async function(e,t){try{const n=await zo(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Oo(e.appConfig,i),n}catch(n){if(!ho(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Oo(e.appConfig,n)}else await Do(e.appConfig);throw n}}(e,n),n}}));return t?await t:i.authToken}function Wo(e){return jo(e,(e=>{if(!Ho(e))throw uo.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ro<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Ho(e){return void 0!==e&&2===e.registrationStatus}async function qo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Fo(e);t&&await t}(n);return(await Vo(n,t)).token}function Ko(e){return uo.create("missing-app-config-values",{valueName:e})}const Go="installations",Qo=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ko("App Configuration");if(!e.name)throw Ko("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ko(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,o._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},Yo=e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,Go).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await Fo(t);return i?i.catch(console.error):Vo(t).catch(console.error),n.fid}(n),getToken:e=>qo(n,e)}};(0,o._registerComponent)(new r.uA(Go,Qo,"PUBLIC")),(0,o._registerComponent)(new r.uA("installations-internal",Yo,"PRIVATE")),(0,o.registerVersion)(no,io),(0,o.registerVersion)(no,io,"esm2017");const Xo="analytics",Jo="firebase_id",Zo="origin",es=6e4,ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ns="https://www.googletagmanager.com/gtag/js",is=new s.Vy("@firebase/analytics"),rs={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},os=new i.FA("analytics","Analytics",rs);function ss(e){if(!e.startsWith(ns)){const t=os.create("invalid-gtag-resource",{gtagURL:e});return is.warn(t.message),""}return e}function as(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function ls(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:ss}),i=document.createElement("script"),r="".concat(ns,"?l=").concat(e,"&id=").concat(t);i.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function cs(e,t,n,i){return async function(r){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===r){const[i,r]=s;await async function(e,t,n,i,r){try{let o=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=await as(n);for(const n of e){const e=i.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){o=[];break}o.push(r)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",i,r||{})}catch(o){is.error(o)}}(e,t,n,i,r)}else if("config"===r){const[r,o]=s;await async function(e,t,n,i,r,o){const s=i[r];try{if(s)await t[s];else{const e=(await as(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(a){is.error(a)}e("config",r,o)}(e,t,n,i,r,o)}else if("consent"===r){const[t]=s;e("consent","update",t)}else if("get"===r){const[t,n,i]=s;e("get",t,n,i)}else if("set"===r){const[t]=s;e("set",t)}else e(r,...s)}catch(l){is.error(l)}}}const us=30;const hs=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ds(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ps(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hs,n=arguments.length>2?arguments[2]:void 0;const{appId:i,apiKey:r,measurementId:o}=e.options;if(!i)throw os.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw os.create("no-api-key")}const s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gs;return setTimeout((async()=>{a.abort()}),void 0!==n?n:es),fs({appId:i,apiKey:r,measurementId:o},s,a,t)}async function fs(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hs;var a;const{appId:l,measurementId:c}=e;try{await function(e,t){return new Promise(((n,i)=>{const r=Math.max(t-Date.now(),0),o=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(o),i(os.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(u){if(c)return is.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===u||void 0===u?void 0:u.message,"]")),{appId:l,measurementId:c};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:ds(i)},o=ts.replace("{app-id}",n),s=await fetch(o,r);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw os.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return s.deleteThrottleMetadata(l),t}catch(u){const t=u;if(!function(e){if(!(e instanceof i.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(l),c)return is.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:l,measurementId:c};throw u}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?(0,i.p9)(o,s.intervalMillis,us):(0,i.p9)(o,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+r,backoffCount:o+1};return s.setThrottleMetadata(l,h),is.debug("Calling attemptFetch again in ".concat(r," millis")),fs(e,h,n,s)}}class gs{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let ms,vs;function ys(e){vs=e}function _s(e){ms=e}async function bs(e,t,n,r,o,s,a){var l;const c=ps(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&is.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>is.error(e))),t.push(c);const u=async function(){if(!(0,i.zW)())return is.warn(os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,i.eX)()}catch(e){return is.warn(os.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[h,d]=await Promise.all([c,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ns)&&n.src.includes(e))return n;return null})(s)||ls(s,h.measurementId),vs&&(o("consent","default",vs),ys(void 0)),o("js",new Date);const p=null!==(l=null===a||void 0===a?void 0:a.config)&&void 0!==l?l:{};return p[Zo]="firebase",p.update=!0,null!=d&&(p[Jo]=d),o("config",h.measurementId,p),ms&&(o("set",ms),_s(void 0)),h.measurementId}class ws{constructor(e){this.app=e}_delete(){return delete xs[this.app.options.appId],Promise.resolve()}}let xs={},As=[];const ks={};let Cs,Ss,Es="dataLayer",Ts="gtag",Is=!1;function Ms(e){if(Is)throw os.create("already-initialized");e.dataLayerName&&(Es=e.dataLayerName),e.gtagName&&(Ts=e.gtagName)}function Ns(e,t,n){!function(){const e=[];if((0,i.sr)()&&e.push("This is a browser extension environment."),(0,i.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=os.create("invalid-analytics-context",{errorInfo:t});is.warn(n.message)}}();const r=e.options.appId;if(!r)throw os.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw os.create("no-api-key");is.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xs[r])throw os.create("already-exists",{id:r});if(!Is){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Es);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(o=window[r]),window[r]=cs(o,e,t,n),{gtagCore:o,wrappedGtag:window[r]}}(xs,As,ks,Es,Ts);Ss=e,Cs=t,Is=!0}xs[r]=bs(e,As,ks,t,Cs,Es,n);return new ws(e)}async function Rs(){if((0,i.sr)())return!1;if(!(0,i.dM)())return!1;if(!(0,i.zW)())return!1;try{return await(0,i.eX)()}catch(e){return!1}}function Ls(e,t,n){e=(0,i.Ku)(e),async function(e,t,n,i){if(i&&i.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(Ss,xs[e.app.options.appId],t,n).catch((e=>is.error(e)))}function Ps(e,t,n){e=(0,i.Ku)(e),async function(e,t,n,i){if(i&&i.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(Ss,xs[e.app.options.appId],t,n).catch((e=>is.error(e)))}function Os(e,t,n){e=(0,i.Ku)(e),async function(e,t,n,i){if(i&&i.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ss,xs[e.app.options.appId],t,n).catch((e=>is.error(e)))}function Ds(e,t){e=(0,i.Ku)(e),async function(e,t){const n=await e;window["ga-disable-".concat(n)]=!t}(xs[e.app.options.appId],t).catch((e=>is.error(e)))}function js(e,t,n,r){e=(0,i.Ku)(e),async function(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=await t;e("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Ss,xs[e.app.options.appId],t,n,r).catch((e=>is.error(e)))}const Fs="@firebase/analytics",$s="0.10.0";(0,o._registerComponent)(new r.uA(Xo,((e,t)=>{let{options:n}=t;return Ns(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),(0,o._registerComponent)(new r.uA("analytics-internal",(function(e){try{const t=e.getProvider(Xo).getImmediate();return{logEvent:(e,n,i)=>js(t,e,n,i)}}catch(t){throw os.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),(0,o.registerVersion)(Fs,$s),(0,o.registerVersion)(Fs,$s,"esm2017");class Bs{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,n){js(this._delegate,e,t,n)}setCurrentScreen(e,t){Ls(this._delegate,e,t)}setUserId(e,t){Ps(this._delegate,e,t)}setUserProperties(e,t){Os(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){Ds(this._delegate,e)}}var Us;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Us||(Us={}));const zs=e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Bs(t,n)};!function(){const e={Analytics:Bs,settings:Ms,isSupported:Rs,EventName:Us};d.INTERNAL.registerComponent(new r.uA("analytics-compat",zs,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),d.registerVersion("@firebase/analytics-compat","0.2.6"),console.log("coganh-6ab73");const Vs=d.initializeApp({type:"service_account",projectId:"coganh-6ab73",private_key_id:"dddd05f9028fb8f7e1a73a08e9376e5387deaf8b",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCS9RGZ3mVBHQl/\n/JqIhrbRQcIXnwTGsHGRBG1QyaKL3CboDQVvyCCGiMIcNU+77VpP5Sibh3x4Rezt\njjfJoXtDF/LlQedbCaY8pWYsRtotI74UrSxJJ9RxV/jv9Fw4/5e7v1mZe3VysN59\n0G8VygllOtdXCqjeZdiPSACCzirOy3EcIp9qoMMuwn+fWeV01KnASn62qjPZ9TSj\nDB8RtesBqlL1ACahCedFdRqgSrsEXQPfautNWKlEHiENRUiQBB7os03mblGmCEtB\nGLljB+OT7Cyu6dDnV26AztvB8P71AdAuwXHmMWn9ABOXLj7iT8t56YA4eF5y3nEQ\nTkWeaFoPAgMBAAECggEALI3zg6iLH1Yr4qtVuM3LEJ90to+mNY0aKWLjt6oiR2/8\nNb945f6Raeh9nWrGXU4lYvKxwJGvuZFNt2o2XMHCKsHQiRRVjeLbjSiCVSs4C5Z6\nEy+7rQRP4vtOhIWcDkXjnW7yvddR8O9RzWhLvZnvBkt0LTYUo7TSFwK38PCLxv0u\nj0LxZad8roOiKTMLhTi+JAjl7Cda8wEk0vc4WZXEpgPihObMONIN42wpD+0TS5Aa\n7diawg1ZlbqO+plduiZWdiwHUjz0HZI9npmyimqpv8ipm4n4wTteW8zjLkuufaVm\nYSzI1b9XZsjqoTvHeotIPCDQTHNGepk3EmhW5f2d3QKBgQDF/jvt7x7lTY/xsoeF\n8iGJTnFgigD4OsrSM+CyeQAE3cJT3mtWqXqKQNWy+09HuwssH2xp9Vakx7h8AVZh\nSb/4MRaM+O3BfPoXN72UgvIdc9/44PcFwNq5xvIiexXCEYZOJA2SeAHhbwM0tEzI\nXklnjaM44XTK99ncKqkPlgfk8wKBgQC+AxOUT8llDYiwRrLI80ikRVvioUwFkytX\nE1Z92CgYCwUtrF4NsW2wKmreyezu/1jbtmN+5M9eVPubLOYrleopORqRD1ulTYTt\ncLouepuFdEw3342wQJHAPFr2Sxp9DbErd2JSq+rcAnL/1DGtKnBM2uztuKr128Sv\n9V10q7otdQKBgQCei/dxkQoslO+vnEbp+/re+PHRXLFqFapUqTZFtJ9PRkVW48UQ\noKaAD2sQ6C2UQzOvIXqvXscDLOuOYYPKZERVevmT6cJ6LpoV/YzSYAmBjEjOA1fM\nQ6LjIWzEL8w8m8vwxu4XXAIlg8ANdFQIH3ioc8NAyUm9Prw2kfLPiFTKAQKBgAF+\n/LR6PFezV5QrulSitbu1YBfUtUiF9B1nZZLwFMC7tXq6lLL+5qIwc071wAvRrt1r\n/jSNkKRpfuGl5NoLACD69h6WRF500csczBp5lKfkVoVKGU998qfU0dKGnNrHNNHm\nyrtj5yF8U3N4NDvszZ2NS7hDb/UnmdDY2beFcp3RAoGBALiPTzSSTBWcHKHw6bcj\ngpRIPU7kh/sDWUOTL69TZJasXPEvWztPm8L9ecBO2n7rAHbbZrzDDuV0kOv/qIS1\nNa8gPnqBa+PwdzFYP6s7ZuTtysetKoiCC+KCPBF+9zsNI2je4gJj6NyoEHfp6Ttg\nS0bUwRToQ78eUsL4WQGzuPtI\n-----END PRIVATE KEY-----\n",client_email:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",client_id:"104641237597418563396",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-354yy%40coganh-6ab73.iam.gserviceaccount.com",universe_domain:"googleapis.com",databaseURL:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",storageBucket:"coganh-6ab73.appspot.com"}),Ws=d.firestore()},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>re});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),r=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function d(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var g=1,m=1,v=0,y=0,_=0,b="";function w(e,t,n,i,r,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:g,column:m,length:s,return:""}}function x(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return _=y>0?u(b,--y):0,m--,10===_&&(m=1,g--),_}function k(){return _=y<v?u(b,y++):0,m++,10===_&&(m=1,g++),_}function C(){return u(b,y)}function S(){return y}function E(e,t){return h(b,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return g=m=1,v=d(b=e),y=0,[]}function M(e){return b="",e}function N(e){return a(E(y-1,P(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(_=C())&&_<33;)k();return T(e)>2||T(_)>3?"":" "}function L(e,t){for(;--t&&k()&&!(_<48||_>102||_>57&&_<65||_>70&&_<97););return E(e,S()+(t<6&&32==C()&&32==k()))}function P(e){for(;k();)switch(_){case e:return y;case 34:case 39:34!==e&&39!==e&&P(_);break;case 40:41===e&&P(e);break;case 92:k()}return y}function O(e,t){for(;k()&&e+_!==57&&(e+_!==84||47!==C()););return"/*"+E(t,y-1)+"*"+o(47===e?e:k())}function D(e){for(;!T(C());)k();return E(e,y)}var j="-ms-",F="-moz-",$="-webkit-",B="comm",U="rule",z="decl",V="@keyframes";function W(e,t){for(var n="",i=p(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function H(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case z:return e.return=e.return||e.value;case B:return"";case V:return e.return=e.value+"{"+W(e.children,i)+"}";case U:e.value=e.props.join(",")}return d(n=W(e.children,i))?e.return=e.value+"{"+n+"}":""}function q(e){return M(K("",null,null,null,[""],e=I(e),0,[0],e))}function K(e,t,n,i,r,s,a,h,p){for(var g=0,m=0,v=a,y=0,_=0,b=0,w=1,x=1,E=1,T=0,I="",M=r,P=s,j=i,F=I;x;)switch(b=T,T=k()){case 40:if(108!=b&&58==u(F,v-1)){-1!=c(F+=l(N(T),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:F+=N(T);break;case 9:case 10:case 13:case 32:F+=R(b);break;case 92:F+=L(S()-1,7);continue;case 47:switch(C()){case 42:case 47:f(Q(O(k(),S()),t,n),p);break;default:F+="/"}break;case 123*w:h[g++]=d(F)*E;case 125*w:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+m:-1==E&&(F=l(F,/\f/g,"")),_>0&&d(F)-v&&f(_>32?Y(F+";",i,n,v-1):Y(l(F," ","")+";",i,n,v-2),p);break;case 59:F+=";";default:if(f(j=G(F,t,n,g,m,r,h,I,M=[],P=[],v),s),123===T)if(0===m)K(F,t,j,j,M,s,v,h,P);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:K(e,j,j,i&&f(G(e,j,j,0,0,r,h,I,r,M=[],v),P),r,P,v,h,i?M:P);break;default:K(F,j,j,j,[""],P,0,h,P)}}g=m=_=0,w=E=1,I=F="",v=a;break;case 58:v=1+d(F),_=b;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==A())continue;switch(F+=o(T),T*w){case 38:E=m>0?1:(F+="\f",-1);break;case 44:h[g++]=(d(F)-1)*E,E=1;break;case 64:45===C()&&(F+=N(k())),y=C(),m=v=d(I=F+=D(S())),T++;break;case 45:45===b&&2==d(F)&&(w=0)}}return s}function G(e,t,n,i,o,s,c,u,d,f,g){for(var m=o-1,v=0===o?s:[""],y=p(v),_=0,b=0,x=0;_<i;++_)for(var A=0,k=h(e,m+1,m=r(b=c[_])),C=e;A<y;++A)(C=a(b>0?v[A]+" "+k:l(k,/&\f/g,v[A])))&&(d[x++]=C);return w(e,t,n,0===o?U:u,d,f,g)}function Q(e,t,n){return w(e,t,n,B,o(_),h(e,2,-2),0)}function Y(e,t,n,i){return w(e,t,n,z,h(e,0,i),h(e,i+1,-1),i)}var X=function(e,t,n){for(var i=0,r=0;i=r,r=C(),38===i&&12===r&&(t[n]=1),!T(r);)k();return E(e,y)},J=function(e,t){return M(function(e,t){var n=-1,i=44;do{switch(T(i)){case 0:38===i&&12===C()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=N(i);break;case 4:if(44===i){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(i)}}while(i=k());return e}(I(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!i){Z.set(e,!0);for(var r=[],o=J(t,r),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=r[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return $+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $+e+F+e+j+e+e;case 6828:case 4268:return $+e+j+e+e;case 6165:return $+e+j+"flex-"+e+e;case 5187:return $+e+l(e,/(\w+).+(:[^]+)/,$+"box-$1$2"+j+"flex-$1$2")+e;case 5443:return $+e+j+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return $+e+j+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return $+e+j+l(e,"shrink","negative")+e;case 5292:return $+e+j+l(e,"basis","preferred-size")+e;case 6060:return $+"box-"+l(e,"-grow","")+$+e+j+l(e,"grow","positive")+e;case 4554:return $+l(e,/([^-])(transform)/g,"$1"+$+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,$+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+$+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,d(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+$)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(45===u(e,14)?"inline-":"")+"box$3$1"+$+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return $+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $+e+j+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $+e+j+e+e}return e}var ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case V:return W([x(e,{value:l(e.value,"@","@"+$)})],i);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return W([x(e,{props:[l(t,/:(plac\w+)/,":"+$+"input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,j+"input-$1")]})],i)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,s=e.stylisPlugins||ie,a={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,h=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=p(e);return function(n,i,r,o){for(var s="",a=0;a<t;a++)s+=e[a](n,i,r,o)||"";return s}}([ee,te].concat(s,h));o=function(e,t,n,i){c=n,W(q(e?e+"{"+t.styles+"}":t.styles),d),i&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new i({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(l),f}},918:(e,t,n)=>{"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>i})},4575:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>l,w:()=>a});var i=n(5043),r=n(3803),o=(n(6598),n(9436),i.createContext("undefined"!==typeof HTMLElement?(0,r.A)({key:"css"}):null)),s=o.Provider,a=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},l=i.createContext({})},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>m});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r=n(918),o=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,r.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},d="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=p(e,t,n[r])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?i+=s+"{"+t[l]+"}":c(l)&&(i+=u(s)+":"+h(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&o)throw new Error(d);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":i+=u(s)+":"+f+";";break;default:i+=s+"{"+f+"}"}}else for(var g=0;g<a.length;g++)c(a[g])&&(i+=u(s)+":"+h(s,a[g])+";")}}return i}(e,t,n);case"function":if(void 0!==e){var l=f,g=n(e);return f=l,p(e,t,g)}}var m=n;if(null==t)return m;var v=t[m];return void 0!==v?v:m}var f,g=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function m(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";f=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=p(n,t,o)):r+=o[0];for(var s=1;s<e.length;s++){if(r+=p(n,t,e[s]),i)r+=o[s]}g.lastIndex=0;for(var a,l="";null!==(a=g.exec(r));)l+="-"+a[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:f}}},9436:(e,t,n)=>{"use strict";var i;n.d(t,{i:()=>a,s:()=>s});var r=n(5043),o=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,s=o||function(e){return e()},a=o||r.useLayoutEffect},9085:(e,t,n)=>{"use strict";n.d(t,{fS:()=>dg,Ix:()=>uf,H6:()=>Qp,T1:()=>Fp,Wq:()=>mg,uY:()=>hf,W6:()=>Vi,Ci:()=>pf,YQ:()=>vg,NJ:()=>yg,Dc:()=>rr,GA:()=>jg,cm:()=>Do,K$:()=>ur,FA:()=>cr,lo:()=>Lp,bI:()=>Bi,qG:()=>So,qi:()=>Di,c8:()=>Ip,gS:()=>Ng,C3:()=>Wg,hq:()=>Vg,me:()=>nf,rJ:()=>Up,Cs:()=>zp,vN:()=>jp,kd:()=>Mg,CL:()=>Ug,LA:()=>sf,H9:()=>Vp,ol:()=>Zp,Q5:()=>ef,Os:()=>of,FD:()=>sg,rf:()=>og,Ws:()=>Xp,z6:()=>Pg,x7:()=>wg,nY:()=>Ag,_e:()=>kg,GG:()=>Cg,kU:()=>Sg,Rr:()=>Eg,GV:()=>Hg,AB:()=>Zf,$1:()=>eg,po:()=>af,St:()=>lf,aQ:()=>Rg,FC:()=>Lg,My:()=>Xf,P:()=>qf,B:()=>Hp,yx:()=>Wp,c4:()=>Bg,O5:()=>zg,BN:()=>Tg,He:()=>Li,lN:()=>bg,HM:()=>ig,EO:()=>ng,mZ:()=>Ig,iB:()=>rf,_M:()=>Gf});var i,r=n(7150),o=n(8812),s=n(443),a=n(7700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={},u=u||{},h=l||self;function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function w(){this.s=this.s,this.o=this.o}w.prototype.s=!1,w.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++g))},w.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function A(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(d(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",(()=>{}),t),h.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=h.navigator;return e&&(e=e.userAgent)?e:""}function I(e){return-1!=T().indexOf(e)}function M(e){return M[" "](e),e}M[" "]=function(){};var N,R,L=I("Opera"),P=I("Trident")||I("MSIE"),O=I("Edge"),D=O||P,j=I("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&!I("Edge"))&&!(I("Trident")||I("MSIE"))&&!I("Edge"),F=-1!=T().toLowerCase().indexOf("webkit")&&!I("Edge");function $(){var e=h.document;return e?e.documentMode:void 0}e:{var B="",U=function(){var e=T();return j?/rv:([^\);]+)(\)|;)/.exec(e):O?/Edge\/([\d\.]+)/.exec(e):P?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):F?/WebKit\/(\S+)/.exec(e):L?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(U&&(B=U?U[1]:""),P){var z=$();if(null!=z&&z>parseFloat(B)){N=String(z);break e}}N=B}if(h.document&&P){var V=$();R=V||(parseInt(N,10)||void 0)}else R=void 0;var W=R;function H(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{M(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.$.h.call(this)}}b(H,C);var q={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),G=0;function Q(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++G,this.fa=this.ia=!1}function Y(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function X(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function J(e){const t={};for(const n in e)t[n]=e[n];return t}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<Z.length;t++)n=Z[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],o=x(r,t);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ie(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==i)return r}return-1}te.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ie(e,t,i,r);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Q(t,this.src,o,!!i,r)).ia=n,e.push(t)),t};var re="closure_lm_"+(1e6*Math.random()|0),oe={};function se(e,t,n,i,r){if(i&&i.once)return le(e,t,n,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,i,r);return null}return n=ge(n),e&&e[K]?e.O(t,n,p(i)?!!i.capture:!!i,r):ae(e,t,n,!1,i,r)}function ae(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var s=p(r)?!!r.capture:!!r,a=pe(e);if(a||(e[re]=a=new te(e)),(n=a.add(t,n,i,s,o)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=de;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)S||(r=s),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(he(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function le(e,t,n,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,i,r);return null}return n=ge(n),e&&e[K]?e.P(t,n,p(i)?!!i.capture:!!i,r):ae(e,t,n,!0,i,r)}function ce(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)ce(e,t[o],n,i,r);else i=p(i)?!!i.capture:!!i,n=ge(n),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ie(o=e.g[t],n,i,r))&&(Y(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ie(t,n,i,r)),(n=-1<e?t[e]:null)&&ue(n))}function ue(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[K])ne(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(he(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=pe(t))?(ne(n,e),0==n.h&&(n.src=null,t[re]=null)):Y(e)}}}function he(e){return e in oe?oe[e]:oe[e]="on"+e}function de(e,t){if(e.fa)e=!0;else{t=new H(t,this);var n=e.listener,i=e.la||e.src;e.ia&&ue(e),e=n.call(i,t)}return e}function pe(e){return(e=e[re])instanceof te?e:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(e){return"function"===typeof e?e:(e[fe]||(e[fe]=function(t){return e.handleEvent(t)}),e[fe])}function me(){w.call(this),this.i=new te(this),this.S=this,this.J=null}function ve(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var r=t;ee(t=new C(i,e),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];r=ye(s,i,!0,t)&&r}if(r=ye(s=t.g=e,i,!0,t)&&r,r=ye(s,i,!1,t)&&r,n)for(o=0;o<n.length;o++)r=ye(s=t.g=n[o],i,!1,t)&&r}function ye(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ne(e.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}b(me,w),me.prototype[K]=!0,me.prototype.removeEventListener=function(e,t,n,i){ce(this,e,t,n,i)},me.prototype.N=function(){if(me.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Y(n[i]);delete t.g[e],t.h--}}this.J=null},me.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},me.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var _e=h.JSON.stringify;function be(){var e=Ee;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var we=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new xe),(e=>e.reset()));class xe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ae(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ke(e){h.setTimeout((()=>{throw e}),0)}let Ce,Se=!1,Ee=new class{constructor(){this.h=this.g=null}add(e,t){const n=we.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Te=()=>{const e=h.Promise.resolve(void 0);Ce=()=>{e.then(Ie)}};var Ie=()=>{for(var e;e=be();){try{e.h.call(e.g)}catch(n){ke(n)}var t=we;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Se=!1};function Me(e,t){me.call(this),this.h=e||1,this.g=t||h,this.j=y(this.qb,this),this.l=Date.now()}function Ne(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Re(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Le(e){e.g=Re((()=>{e.g=null,e.i&&(e.i=!1,Le(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}b(Me,me),(i=Me.prototype).ga=!1,i.T=null,i.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Ne(this),this.start()))}},i.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.N=function(){Me.$.N.call(this),Ne(this),delete this.g};class Pe extends w{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(e){w.call(this),this.h=e,this.g={}}b(Oe,w);var De=[];function je(e,t,n,i){Array.isArray(n)||(n&&(De[0]=n.toString()),n=De);for(var r=0;r<n.length;r++){var o=se(t,n[r],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Fe(e){X(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}function $e(){this.g=!0}function Be(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return _e(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}Oe.prototype.N=function(){Oe.$.N.call(this),Fe(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Ea=function(){this.g=!1},$e.prototype.info=function(){};var Ue={},ze=null;function Ve(){return ze=ze||new me}function We(e){C.call(this,Ue.Ta,e)}function He(e){const t=Ve();ve(t,new We(t))}function qe(e,t){C.call(this,Ue.STAT_EVENT,e),this.stat=t}function Ke(e){const t=Ve();ve(t,new qe(t,e))}function Ge(e,t){C.call(this,Ue.Ua,e),this.size=t}function Qe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Ue.Ta="serverreachability",b(We,C),Ue.STAT_EVENT="statevent",b(qe,C),Ue.Ua="timingevent",b(Ge,C);var Ye={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Je(){}function Ze(e){return e.h||(e.h=e.i())}function et(){}Je.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function it(){C.call(this,"d")}function rt(){C.call(this,"c")}function ot(){}function st(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Oe(this),this.P=lt,e=D?125:void 0,this.V=new Me(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}b(it,C),b(rt,C),b(ot,Je),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},tt=new ot;var lt=45e3,ct={},ut={};function ht(e,t,n){e.L=1,e.v=Mt(Ct(t)),e.s=n,e.S=!0,dt(e,null)}function dt(e,t){e.G=Date.now(),mt(e),e.A=Ct(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),Vt(n.i,"t",i),e.C=0,n=e.l.J,e.h=new at,e.g=Hn(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Pe(y(e.Pa,e,e.g),e.O)),je(e.U,e.g,"readystatechange",e.nb),t=e.I?J(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),He(),function(e,t,n,i,r,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function pt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ft(e,t,n){let i,r=!0;for(;!e.J&&e.C<n.length;){if(i=gt(e,n),i==ut){4==t&&(e.o=4,Ke(14),r=!1),Be(e.j,e.m,null,"[Incomplete Response]");break}if(i==ct){e.o=4,Ke(15),Be(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Be(e.j,e.m,i,null),wt(e,i)}pt(e)&&i!=ut&&i!=ct&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ke(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jn(t),t.M=!0,Ke(11))):(Be(e.j,e.m,n,"[Invalid Chunked Response]"),bt(e),_t(e))}function gt(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?ut:(n=Number(t.substring(n,i)),isNaN(n)?ct:(i+=1)+n>t.length?ut:(t=t.slice(i,i+n),e.C=i+n,t))}function mt(e){e.Y=Date.now()+e.P,vt(e,e.P)}function vt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qe(y(e.lb,e),t)}function yt(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function _t(e){0==e.l.H||e.J||Bn(e.l,e)}function bt(e){yt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ne(e.V),Fe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Yt(n.i,e)))if(!e.K&&Yt(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;$n(n),In(n)}Dn(n),Ke(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qe(y(n.ib,n),6e3));if(1>=Qt(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else zn(n,11)}else if((e.K||n.g==e)&&$n(n),!E(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Xt(o,o.h),o.h=null))}if(i.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,It(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((i=n).wa=Wn(i,i.J?i.pa:null,i.Y),s.K){Jt(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(yt(a),mt(a)),i.g=s}else On(i);0<n.j.length&&Nn(n)}else"stop"!=c[0]&&"close"!=c[0]||zn(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zn(n,7):Tn(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}He()}catch(c){}}function xt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}(i=st.prototype).setTimeout=function(e){this.P=e},i.nb=function(e){e=e.target;const t=this.M;t&&3==xn(e)?t.l():this.Pa(e)},i.Pa=function(e){try{if(e==this.g)e:{const u=xn(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||D||this.g&&(this.h.h||this.g.ja()||An(this.g)))){this.J||4!=u||7==t||He(),yt(this);var n=this.g.da();this.ca=n;t:if(pt(this)){var i=An(this.g);e="";var r=i.length,o=4==xn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bt(this),_t(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,i,r,o,s){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ke(12),bt(this),_t(this);break e}Be(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wt(this,n)}this.S?(ft(this,u,s),D&&this.i&&3==u&&(je(this.U,this.V,"tick",this.mb),this.V.start())):(Be(this.j,this.m,s,null),wt(this,s)),4==u&&bt(this),this.i&&!this.J&&(4==u?Bn(this.l,this):(this.i=!1,mt(this)))}else(function(e){const t={};e=(e.g&&2<=xn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(E(e[i]))continue;var n=Ae(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[r]||[];t[r]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ke(12)):(this.o=0,Ke(13)),bt(this),_t(this)}}}catch(u){}},i.mb=function(){if(this.g){var e=xn(this.g),t=this.g.ja();this.C<t.length&&(yt(this),ft(this,e,t),this.i&&4!=e&&mt(this))}},i.cancel=function(){this.J=!0,bt(this)},i.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(He(),Ke(17)),bt(this),this.o=2,_t(this)):vt(this,this.Y-e)};var At=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kt(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof kt){this.h=e.h,St(this,e.j),this.s=e.s,this.g=e.g,Et(this,e.m),this.l=e.l;var t=e.i,n=new $t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tt(this,n),this.o=e.o}else e&&(t=String(e).match(At))?(this.h=!1,St(this,t[1]||"",!0),this.s=Nt(t[2]||""),this.g=Nt(t[3]||"",!0),Et(this,t[4]),this.l=Nt(t[5]||"",!0),Tt(this,t[6]||"",!0),this.o=Nt(t[7]||"")):(this.h=!1,this.i=new $t(null,this.h))}function Ct(e){return new kt(e)}function St(e,t,n){e.j=n?Nt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Et(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tt(e,t,n){t instanceof $t?(e.i=t,function(e,t){t&&!e.j&&(Bt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ut(this,t),Vt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Rt(t,jt)),e.i=new $t(t,e.h))}function It(e,t,n){e.i.set(t,n)}function Mt(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rt(t,Pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rt(t,Pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rt(n,"/"==n.charAt(0)?Dt:Ot,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rt(n,Ft)),e.join("")};var Pt=/[#\/\?@]/g,Ot=/[#\?:]/g,Dt=/[#\?]/g,jt=/[#\?@]/g,Ft=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ut(e,t){Bt(e),t=Wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zt(e,t){return Bt(e),t=Wt(e,t),e.g.has(t)}function Vt(e,t,n){Ut(e,t),0<n.length&&(e.i=null,e.g.set(Wt(e,t),A(n)),e.h+=n.length)}function Wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(i=$t.prototype).add=function(e,t){Bt(this),this.i=null,e=Wt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){Bt(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},i.ta=function(){Bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},i.Z=function(e){Bt(this);let t=[];if("string"===typeof e)zt(this,e)&&(t=t.concat(this.g.get(Wt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},i.set=function(e,t){return Bt(this),this.i=null,zt(this,e=Wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),e.push(r)}}return this.i=e.join("&")};var Ht=class{constructor(e,t){this.g=e,this.map=t}};function qt(e){this.l=e||Kt,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kt=10;function Gt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qt(e){return e.h?1:e.g?e.g.size:0}function Yt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xt(e,t){e.g?e.g.add(t):e.h=t}function Jt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zt(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return A(e.i)}qt.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var en,tn=class{stringify(e){return h.JSON.stringify(e,void 0)}parse(e){return h.JSON.parse(e,void 0)}};function nn(){this.g=new tn}function rn(e,t,n){const i=n||"";try{xt(e,(function(e,n){let r=e;p(e)&&(r=_e(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function on(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function sn(e){this.l=e.fc||null,this.j=e.ob||!1}function an(e,t){me.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ln,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b(sn,Je),sn.prototype.g=function(){return new an(this.l,this.j)},sn.prototype.i=(en={},function(){return en}),b(an,me);var ln=0;function cn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function un(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hn(e)}function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=an.prototype).open=function(e,t){if(this.readyState!=ln)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hn(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||h).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,un(this)),this.readyState=ln},i.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},i.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?un(this):hn(this),3==this.readyState&&cn(this)}},i.Za=function(e){this.g&&(this.response=this.responseText=e,un(this))},i.Ya=function(e){this.g&&(this.response=e,un(this))},i.ka=function(){this.g&&un(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(an.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dn=h.JSON.parse;function pn(e){me.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fn,this.L=this.M=!1}b(pn,me);var fn="",gn=/^https?$/i,mn=["POST","PUT"];function vn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yn(e),bn(e)}function yn(e){e.F||(e.F=!0,ve(e,"complete"),ve(e,"error"))}function _n(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=xn(e)||2!=e.da()))if(e.v&&4==xn(e))Re(e.La,0,e);else if(ve(e,"readystatechange"),4==xn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===a){var r=String(e.I).match(At)[1]||null;!r&&h.self&&h.self.location&&(r=h.self.location.protocol.slice(0,-1)),i=!gn.test(r?r.toLowerCase():"")}n=i}if(n)ve(e,"complete"),ve(e,"success");else{e.m=6;try{var o=2<xn(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",yn(e)}}finally{bn(e)}}}function bn(e,t){if(e.g){wn(e);const i=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ve(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function wn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function xn(e){return e.g?e.g.readyState:0}function An(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ti){return null}}function kn(e){let t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cn(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=kn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):It(e,t,n))}function Sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function En(e){this.Ga=0,this.j=[],this.l=new $e,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sn("baseRetryDelayMs",5e3,e),this.hb=Sn("retryDelaySeedMs",1e4,e),this.eb=Sn("forwardChannelMaxRetries",2,e),this.xa=Sn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qt(e&&e.concurrentRequestLimit),this.Ja=new nn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Tn(e){if(Mn(e),3==e.H){var t=e.W++,n=Ct(e.I);if(It(n,"SID",e.K),It(n,"RID",t),It(n,"TYPE","terminate"),Ln(e,n),(t=new st(e,e.l,t)).L=2,t.v=Mt(Ct(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hn(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mt(t)}Vn(e)}function In(e){e.g&&(jn(e),e.g.cancel(),e.g=null)}function Mn(e){In(e),e.u&&(h.clearTimeout(e.u),e.u=null),$n(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function Nn(e){if(!Gt(e.i)&&!e.m){e.m=!0;var t=e.Na;Ce||Te(),Se||(Ce(),Se=!0),Ee.add(t,e),e.C=0}}function Rn(e,t){var n;n=t?t.m:e.W++;const i=Ct(e.I);It(i,"SID",e.K),It(i,"RID",n),It(i,"AID",e.V),Ln(e,i),e.o&&e.s&&Cn(i,e.o,e.s),n=new st(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Pn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Xt(e.i,n),ht(n,i,t)}function Ln(e,t){e.na&&X(e.na,(function(e,n){It(t,n,e)})),e.h&&xt({},(function(e,n){It(t,n,e)}))}function Pn(e,t,n){n=Math.min(e.j.length,n);var i=e.h?y(e.h.Va,e.h,e):null;e:{var r=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=r[s].g;const a=r[s].map;if(n-=t,0>n)t=Math.max(0,r[s].g-100),o=!1;else try{rn(a,e,"req"+n+"_")}catch(Ui){i&&i(a)}}if(o){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}function On(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ce||Te(),Se||(Ce(),Se=!0),Ee.add(t,e),e.A=0}}function Dn(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Qe(y(e.Ma,e),Un(e,e.A)),e.A++,!0)}function jn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Fn(e){e.g=new st(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ct(e.wa);It(t,"RID","rpc"),It(t,"SID",e.K),It(t,"AID",e.V),It(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&It(t,"TO",e.qa),It(t,"TYPE","xmlhttp"),Ln(e,t),e.o&&e.s&&Cn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Mt(Ct(t)),n.s=null,n.S=!0,dt(n,e)}function $n(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function Bn(e,t){var n=null;if(e.g==t){$n(e),jn(e),e.g=null;var i=2}else{if(!Yt(e.i,t))return;n=t.F,Jt(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;ve(i=Ve(),new Ge(i,n)),Nn(e)}else On(e);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(e,t){return!(Qt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Qe(y(e.Na,e,t),Un(e,e.C)),e.C++,!0))}(e,t)||2==i&&Dn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}function Un(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=y(e.pb,e);n||(n=new kt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||St(n,"https"),Mt(n)),function(e,t){const n=new $e;if(h.Image){const i=new Image;i.onload=_(on,n,i,"TestLoadImage: loaded",!0,t),i.onerror=_(on,n,i,"TestLoadImage: error",!1,t),i.onabort=_(on,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=_(on,n,i,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else Ke(2);e.H=0,e.h&&e.h.za(t),Vn(e),Mn(e)}function Vn(e){if(e.H=0,e.ma=[],e.h){const t=Zt(e.i);0==t.length&&0==e.j.length||(k(e.ma,t),k(e.ma,e.j),e.i.i.length=0,A(e.j),e.j.length=0),e.h.ya()}}function Wn(e,t,n){var i=n instanceof kt?Ct(n):new kt(n);if(""!=i.g)t&&(i.g=t+"."+i.g),Et(i,i.m);else{var r=h.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new kt(null);i&&St(o,i),t&&(o.g=t),r&&Et(o,r),n&&(o.l=n),i=o}return n=e.F,t=e.Da,n&&t&&It(i,n,t),It(i,"VER",e.ra),Ln(e,i),i}function Hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new pn(new sn({ob:!0})):new pn(e.va)).Oa(e.J),t}function qn(){}function Kn(){if(P&&!(10<=Number(W)))throw Error("Environmental error: no available transport.")}function Gn(e,t){me.call(this),this.g=new En(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!E(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xn(this)}function Qn(e){it.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yn(){rt.call(this),this.status=1}function Xn(e){this.g=e}function Jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zn(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var o=e.g[3],s=t+(o^n&(r^o))+i[0]+3614090360&4294967295;s=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+o&4294967295}function ei(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var o=0|e[r];i&&o==t||(n[r]=o,i=!1)}this.g=n}(i=pn.prototype).Oa=function(e){this.M=e},i.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?Ze(this.u):Ze(tt),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void vn(this,o)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=h.FormData&&e instanceof h.FormData,!(0<=x(mn,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wn(this),0<this.B&&((this.L=function(e){return P&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=Re(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){vn(this,o)}},i.ua=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ve(this,"complete"),ve(this,"abort"),bn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bn(this,!0)),pn.$.N.call(this)},i.La=function(){this.s||(this.G||this.v||this.l?_n(this):this.kb())},i.kb=function(){_n(this)},i.isActive=function(){return!!this.g},i.da=function(){try{return 2<xn(this)?this.g.status:-1}catch(en){return-1}},i.ja=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},i.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dn(t)}},i.Ia=function(){return this.m},i.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=En.prototype).ra=8,i.H=1,i.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new st(this,this.l,e);let o=this.s;if(this.U&&(o?(o=J(o),ee(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Pn(this,r,t),It(n=Ct(this.I),"RID",e),It(n,"CVER",22),this.F&&It(n,"X-HTTP-Session-Id",this.F),Ln(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(kn(o)))+"&"+t:this.o&&Cn(n,this.o,o)),Xt(this.i,r),this.bb&&It(n,"TYPE","init"),this.P?(It(n,"$req",t),It(n,"SID","null"),r.aa=!0,ht(r,n,null)):ht(r,n,t),this.H=2}}else 3==this.H&&(e?Rn(this,e):0==this.j.length||Gt(this.i)||Rn(this))},i.Ma=function(){if(this.u=null,Fn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Qe(y(this.jb,this),e)}},i.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ke(10),In(this),Fn(this))},i.ib=function(){null!=this.v&&(this.v=null,In(this),Dn(this),Ke(19))},i.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ke(2)):(this.l.info("Failed to ping google.com"),Ke(1))},i.isActive=function(){return!!this.h&&this.h.isActive(this)},(i=qn.prototype).Ba=function(){},i.Aa=function(){},i.za=function(){},i.ya=function(){},i.isActive=function(){return!0},i.Va=function(){},Kn.prototype.g=function(e,t){return new Gn(e,t)},b(Gn,me),Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ke(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Wn(e,null,e.Y),Nn(e)},Gn.prototype.close=function(){Tn(this.g)},Gn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_e(e),e=n);t.j.push(new Ht(t.fb++,e)),3==t.H&&Nn(t)},Gn.prototype.N=function(){this.g.h=null,delete this.j,Tn(this.g),delete this.g,Gn.$.N.call(this)},b(Qn,it),b(Yn,rt),b(Xn,qn),Xn.prototype.Ba=function(){ve(this.g,"a")},Xn.prototype.Aa=function(e){ve(this.g,new Qn(e))},Xn.prototype.za=function(e){ve(this.g,new Yn)},Xn.prototype.ya=function(){ve(this.g,"b")},b(Jn,(function(){this.blockSize=-1})),Jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=n;)Zn(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[r++]=e.charCodeAt(o++),r==this.blockSize){Zn(this,i),r=0;break}}else for(;o<t;)if(i[r++]=e[o++],r==this.blockSize){Zn(this,i),r=0;break}}this.h=r,this.i+=t},Jn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var ti={};function ni(e){return-128<=e&&128>e?function(e,t){var n=ti;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ei([0|e],0>e?-1:0)})):new ei([0|e],0>e?-1:0)}function ii(e){if(isNaN(e)||!isFinite(e))return oi;if(0>e)return ui(ii(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=ri;return new ei(t,0)}var ri=4294967296,oi=ni(0),si=ni(1),ai=ni(16777216);function li(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ci(e){return-1==e.h}function ui(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new ei(n,~e.h).add(si)}function hi(e,t){return e.add(ui(t))}function di(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function pi(e,t){this.g=e,this.h=t}function fi(e,t){if(li(t))throw Error("division by zero");if(li(e))return new pi(oi,oi);if(ci(e))return t=fi(ui(e),t),new pi(ui(t.g),ui(t.h));if(ci(t))return t=fi(e,ui(t)),new pi(ui(t.g),t.h);if(30<e.g.length){if(ci(e)||ci(t))throw Error("slowDivide_ only works with positive integers.");for(var n=si,i=t;0>=i.X(e);)n=gi(n),i=gi(i);var r=mi(n,1),o=mi(i,1);for(i=mi(i,2),n=mi(n,2);!li(i);){var s=o.add(i);0>=s.X(e)&&(r=r.add(n),o=s),i=mi(i,1),n=mi(n,1)}return t=hi(e,r.R(t)),new pi(r,t)}for(r=oi;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),s=(o=ii(n)).R(t);ci(s)||0<s.X(e);)s=(o=ii(n-=i)).R(t);li(o)&&(o=si),r=r.add(o),e=hi(e,s)}return new pi(r,e)}function gi(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new ei(n,e.h)}function mi(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],o=0;o<i;o++)r[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ei(r,e.h)}(i=ei.prototype).ea=function(){if(ci(this))return-ui(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:ri+i)*t,t*=ri}return e},i.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(li(this))return"0";if(ci(this))return"-"+ui(this).toString(e);for(var t=ii(Math.pow(e,6)),n=this,i="";;){var r=fi(n,t).g,o=((0<(n=hi(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(li(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},i.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},i.X=function(e){return ci(e=hi(this,e))?-1:li(e)?0:1},i.abs=function(){return ci(this)?ui(this):this},i.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&e.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new ei(n,-2147483648&n[n.length-1]?-1:0)},i.R=function(e){if(li(this)||li(e))return oi;if(ci(this))return ci(e)?ui(this).R(ui(e)):ui(ui(this).R(e));if(ci(e))return ui(this.R(ui(e)));if(0>this.X(ai)&&0>e.X(ai))return ii(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=e.D(r)>>>16,l=65535&e.D(r);n[2*i+2*r]+=s*l,di(n,2*i+2*r),n[2*i+2*r+1]+=o*l,di(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,di(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,di(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new ei(n,0)},i.gb=function(e){return fi(this,e).h},i.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new ei(n,this.h&e.h)},i.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new ei(n,this.h|e.h)},i.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new ei(n,this.h^e.h)},Kn.prototype.createWebChannel=Kn.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,Xe.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",me.prototype.listen=me.prototype.O,pn.prototype.listenOnce=pn.prototype.P,pn.prototype.getLastError=pn.prototype.Sa,pn.prototype.getLastErrorCode=pn.prototype.Ia,pn.prototype.getStatus=pn.prototype.da,pn.prototype.getResponseJson=pn.prototype.Wa,pn.prototype.getResponseText=pn.prototype.ja,pn.prototype.send=pn.prototype.ha,pn.prototype.setWithCredentials=pn.prototype.Oa,Jn.prototype.digest=Jn.prototype.l,Jn.prototype.reset=Jn.prototype.reset,Jn.prototype.update=Jn.prototype.j,ei.prototype.add=ei.prototype.add,ei.prototype.multiply=ei.prototype.R,ei.prototype.modulo=ei.prototype.gb,ei.prototype.compare=ei.prototype.X,ei.prototype.toNumber=ei.prototype.ea,ei.prototype.toString=ei.prototype.toString,ei.prototype.getBits=ei.prototype.D,ei.fromNumber=ii,ei.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ui(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=ii(Math.pow(n,8)),r=oi,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=ii(Math.pow(n,s)),r=r.R(s).add(ii(a))):r=(r=r.R(i)).add(ii(a))}return r};var vi=c.createWebChannelTransport=function(){return new Kn},yi=c.getStatEventTarget=function(){return Ve()},_i=c.ErrorCode=Ye,bi=c.EventType=Xe,wi=c.Event=Ue,xi=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ai=c.FetchXmlHttpFactory=sn,ki=c.WebChannel=et,Ci=c.XhrIo=pn,Si=c.Md5=Jn,Ei=c.Integer=ei;const Ti="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Mi="9.23.0";const Ni=new s.Vy("@firebase/firestore");function Ri(){return Ni.logLevel}function Li(e){Ni.setLogLevel(e)}function Pi(e){if(Ni.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(ji);Ni.debug("Firestore (".concat(Mi,"): ").concat(e),...r)}}function Oi(e){if(Ni.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(ji);Ni.error("Firestore (".concat(Mi,"): ").concat(e),...r)}}function Di(e){if(Ni.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(ji);Ni.warn("Firestore (".concat(Mi,"): ").concat(e),...r)}}function ji(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Mi,") INTERNAL ASSERTION FAILED: ")+e;throw Oi(t),new Error(t)}function $i(e,t){e||Fi()}function Bi(e,t){e||Fi()}function Ui(e,t){return e}const zi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vi extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Wi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Hi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class qi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ii.UNAUTHENTICATED)))}shutdown(){}}class Ki{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gi{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Wi,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},s=e=>{Pi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Pi("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Wi)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($i("string"==typeof t.accessToken),new Hi(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $i(null===e||"string"==typeof e),new Ii(e)}}class Qi{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yi{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Qi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Ii.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ji{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Pi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Pi("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Pi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?i(e):Pi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?($i("string"==typeof e.token),this.T=e.token,new Xi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class er{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Zi(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function tr(e,t){return e<t?-1:e>t?1:0}function nr(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function ir(e){return e+"\0"}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vi(zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vi(zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vi(zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vi(zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new rr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tr(this.nanoseconds,e.nanoseconds):tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class or{constructor(e){this.timestamp=e}static fromTimestamp(e){return new or(e)}static min(){return new or(new rr(0,0))}static max(){return new or(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fi(),void 0===n?n=e.length-t:n>e.length-t&&Fi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends sr{construct(e,t,n){return new ar(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Vi(zi.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new ar(e)}static emptyPath(){return new ar([])}}const lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends sr{construct(e,t,n){return new cr(e,t,n)}static isValidIdentifier(e){return lr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Vi(zi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Vi(zi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vi(zi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(o=!o,i++):"."!==t||o?(n+=t,i++):(r(),i++)}if(r(),o)throw new Vi(zi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class ur{constructor(e){this.path=e}static fromPath(e){return new ur(ar.fromString(e))}static fromName(e){return new ur(ar.fromString(e).popFirst(5))}static empty(){return new ur(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ur(new ar(e.slice()))}}class hr{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function dr(e){return e.fields.find((e=>2===e.kind))}function pr(e){return e.fields.filter((e=>2!==e.kind))}hr.UNKNOWN_ID=-1;class fr{constructor(e,t){this.fieldPath=e,this.kind=t}}class gr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gr(0,yr.min())}}function mr(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=or.fromTimestamp(1e9===i?new rr(n+1,0):new rr(n,i));return new yr(r,ur.empty(),t)}function vr(e){return new yr(e.readTime,e.key,-1)}class yr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yr(or.min(),ur.empty(),-1)}static max(){return new yr(or.max(),ur.empty(),-1)}}function _r(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ur.comparator(e.documentKey,t.documentKey),0!==n?n:tr(e.largestBatchId,t.largestBatchId))}const br="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xr(e){if(e.code!==zi.FAILED_PRECONDITION||e.message!==br)throw e;Pi("LocalStore","Unexpectedly lost primary lease")}class Ar{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ar(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ar?t:Ar.resolve(t)}catch(e){return Ar.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ar.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ar.reject(t)}static resolve(e){return new Ar(((t,n)=>{t(e)}))}static reject(e){return new Ar(((t,n)=>{n(e)}))}static waitFor(e){return new Ar(((t,n)=>{let i=0,r=0,o=!1;e.forEach((e=>{++i,e.next((()=>{++r,o&&r===i&&t()}),(e=>n(e)))})),o=!0,r===i&&t()}))}static or(e){let t=Ar.resolve(!1);for(const n of e)t=t.next((e=>e?Ar.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Ar(((n,i)=>{const r=e.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===r&&n(o)}),(e=>i(e)))}}))}static doWhile(e,t){return new Ar(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}class kr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Wi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Er(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Rr(t.target.error);this.v.reject(new Er(e,n))}}static open(e,t,n,i){try{return new kr(t,e.transaction(i,n))}catch(e){throw new Er(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Pi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ir(t)}}class Cr{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Cr.S((0,a.ZQ)())&&Oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pi("SimpleDb","Removing database:",e),Mr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.zW)())return!1;if(Cr.C())return!0;const e=(0,a.ZQ)(),t=Cr.S(e),n=0<t&&t<10,i=Cr.N(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",REACT_APP_auth_uri:"https://accounts.google.com/o/oauth2/auth",REACT_APP_client_email:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",REACT_APP_client_id:"104641237597418563396",REACT_APP_client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-354yy%40coganh-6ab73.iam.gserviceaccount.com",REACT_APP_databaseURL:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",REACT_APP_private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCS9RGZ3mVBHQl/\n/JqIhrbRQcIXnwTGsHGRBG1QyaKL3CboDQVvyCCGiMIcNU+77VpP5Sibh3x4Rezt\njjfJoXtDF/LlQedbCaY8pWYsRtotI74UrSxJJ9RxV/jv9Fw4/5e7v1mZe3VysN59\n0G8VygllOtdXCqjeZdiPSACCzirOy3EcIp9qoMMuwn+fWeV01KnASn62qjPZ9TSj\nDB8RtesBqlL1ACahCedFdRqgSrsEXQPfautNWKlEHiENRUiQBB7os03mblGmCEtB\nGLljB+OT7Cyu6dDnV26AztvB8P71AdAuwXHmMWn9ABOXLj7iT8t56YA4eF5y3nEQ\nTkWeaFoPAgMBAAECggEALI3zg6iLH1Yr4qtVuM3LEJ90to+mNY0aKWLjt6oiR2/8\nNb945f6Raeh9nWrGXU4lYvKxwJGvuZFNt2o2XMHCKsHQiRRVjeLbjSiCVSs4C5Z6\nEy+7rQRP4vtOhIWcDkXjnW7yvddR8O9RzWhLvZnvBkt0LTYUo7TSFwK38PCLxv0u\nj0LxZad8roOiKTMLhTi+JAjl7Cda8wEk0vc4WZXEpgPihObMONIN42wpD+0TS5Aa\n7diawg1ZlbqO+plduiZWdiwHUjz0HZI9npmyimqpv8ipm4n4wTteW8zjLkuufaVm\nYSzI1b9XZsjqoTvHeotIPCDQTHNGepk3EmhW5f2d3QKBgQDF/jvt7x7lTY/xsoeF\n8iGJTnFgigD4OsrSM+CyeQAE3cJT3mtWqXqKQNWy+09HuwssH2xp9Vakx7h8AVZh\nSb/4MRaM+O3BfPoXN72UgvIdc9/44PcFwNq5xvIiexXCEYZOJA2SeAHhbwM0tEzI\nXklnjaM44XTK99ncKqkPlgfk8wKBgQC+AxOUT8llDYiwRrLI80ikRVvioUwFkytX\nE1Z92CgYCwUtrF4NsW2wKmreyezu/1jbtmN+5M9eVPubLOYrleopORqRD1ulTYTt\ncLouepuFdEw3342wQJHAPFr2Sxp9DbErd2JSq+rcAnL/1DGtKnBM2uztuKr128Sv\n9V10q7otdQKBgQCei/dxkQoslO+vnEbp+/re+PHRXLFqFapUqTZFtJ9PRkVW48UQ\noKaAD2sQ6C2UQzOvIXqvXscDLOuOYYPKZERVevmT6cJ6LpoV/YzSYAmBjEjOA1fM\nQ6LjIWzEL8w8m8vwxu4XXAIlg8ANdFQIH3ioc8NAyUm9Prw2kfLPiFTKAQKBgAF+\n/LR6PFezV5QrulSitbu1YBfUtUiF9B1nZZLwFMC7tXq6lLL+5qIwc071wAvRrt1r\n/jSNkKRpfuGl5NoLACD69h6WRF500csczBp5lKfkVoVKGU998qfU0dKGnNrHNNHm\nyrtj5yF8U3N4NDvszZ2NS7hDb/UnmdDY2beFcp3RAoGBALiPTzSSTBWcHKHw6bcj\ngpRIPU7kh/sDWUOTL69TZJasXPEvWztPm8L9ecBO2n7rAHbbZrzDDuV0kOv/qIS1\nNa8gPnqBa+PwdzFYP6s7ZuTtysetKoiCC+KCPBF+9zsNI2je4gJj6NyoEHfp6Ttg\nS0bUwRToQ78eUsL4WQGzuPtI\n-----END PRIVATE KEY-----\n",REACT_APP_private_key_id:"dddd05f9028fb8f7e1a73a08e9376e5387deaf8b",REACT_APP_project_id:"coganh-6ab73",REACT_APP_storageBucket:"coganh-6ab73.appspot.com",REACT_APP_token_uri:"https://oauth2.googleapis.com/token",REACT_APP_type:"service_account",REACT_APP_universe_domain:"googleapis.com"})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Pi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Er(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Vi(zi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Vi(zi.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Er(e,i))},i.onupgradeneeded=e=>{Pi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,i.transaction,e.oldVersion,this.version).next((()=>{Pi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=kr.open(this.db,e,r?"readonly":"readwrite",n),o=i(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Ar.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Pi("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Sr{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Mr(this.L.delete())}}class Er extends Vi{constructor(e,t){super(zi.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Tr(e){return"IndexedDbTransactionError"===e.name}class Ir{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Pi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mr(n)}add(e){return Pi("SimpleDb","ADD",this.store.name,e,e),Mr(this.store.add(e))}get(e){return Mr(this.store.get(e)).next((t=>(void 0===t&&(t=null),Pi("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Pi("SimpleDb","DELETE",this.store.name,e),Mr(this.store.delete(e))}count(){return Pi("SimpleDb","COUNT",this.store.name),Mr(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Ar(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ar(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Pi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const i=this.cursor(n);return this.W(i,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ar(((n,i)=>{t.onerror=e=>{const t=Rr(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}W(e,t){const n=[];return new Ar(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const o=new Sr(r),s=t(r.primaryKey,r.value,o);if(s instanceof Ar){const e=s.catch((e=>(o.done(),Ar.reject(e))));n.push(e)}o.isDone?i():null===o.K?r.continue():r.continue(o.K)}})).next((()=>Ar.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mr(e){return new Ar(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Rr(e.target.error);n(t)}}))}let Nr=!1;function Rr(e){const t=Cr.S((0,a.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Vi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Nr||(Nr=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Lr{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Pi("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Pi("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Tr(e)?Pi("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await xr(e)}await this.et(6e4)}))}}class Pr{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let i=t,r=!0;return Ar.doWhile((()=>!0===r&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Pi("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,i).next((e=>{i-=e,n.add(t)}));r=!1})))).next((()=>t-i))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next((()=>this.rt(i,n))).next((n=>(Pi("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>r.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const i=vr(t);_r(i,n)>0&&(n=i)})),new yr(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Or{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Dr(e){return null==e}function jr(e){return 0===e&&1/e==-1/0}function Fr(e){return"number"==typeof e&&Number.isInteger(e)&&!jr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function $r(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ur(t)),t=Br(e.get(n),t);return Ur(t)}function Br(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ur(e){return e+"\x01\x01"}function zr(e){const t=e.length;if($i(t>=2),2===t)return $i("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ar.emptyPath();const n=t-2,i=[];let r="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Fi(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===r.length?s=n:(r+=n,s=r,r=""),i.push(s);break;case"\x10":r+=e.substring(o,t),r+="\0";break;case"\x11":r+=e.substring(o,t+1);break;default:Fi()}o=t+2}return new ar(i)}Or.ct=-1;const Vr=["userId","batchId"];function Wr(e,t){return[e,$r(t)]}function Hr(e,t,n){return[e,$r(t),n]}const qr={},Kr=["prefixPath","collectionGroup","readTime","documentId"],Gr=["prefixPath","collectionGroup","documentId"],Qr=["collectionGroup","readTime","prefixPath","documentId"],Yr=["canonicalId","targetId"],Xr=["targetId","path"],Jr=["path","targetId"],Zr=["collectionId","parent"],eo=["indexId","uid"],to=["uid","sequenceNumber"],no=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],io=["indexId","uid","orderedDocumentKey"],ro=["userId","collectionPath","documentId"],oo=["userId","collectionPath","largestBatchId"],so=["userId","collectionGroup","largestBatchId"],ao=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lo=[...ao,"documentOverlays"],co=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uo=co,ho=[...uo,"indexConfiguration","indexState","indexEntries"];class po extends wr{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function fo(e,t){const n=Ui(e);return Cr.M(n.ht,t)}function go(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class yo{constructor(e,t){this.comparator=e,this.root=t||bo.EMPTY}insert(e,t){return new yo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(e){return new yo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _o(this.root,e,this.comparator,!1)}getReverseIterator(){return new _o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _o(this.root,e,this.comparator,!0)}}class _o{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bo{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:bo.RED,this.left=null!=i?i:bo.EMPTY,this.right=null!=r?r:bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new bo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return bo.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fi();if(this.right.isRed())throw Fi();const e=this.left.check();if(e!==this.right.check())throw Fi();return e+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw Fi()}get value(){throw Fi()}get color(){throw Fi()}get left(){throw Fi()}get right(){throw Fi()}copy(e,t,n,i,r){return this}insert(e,t,n){return new bo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wo{constructor(e){this.comparator=e,this.data=new yo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xo(this.data.getIterator())}getIteratorFrom(e){return new xo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof wo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wo(this.comparator);return t.data=e,t}}class xo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(e){return e.hasNext()?e.getNext():void 0}class ko{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ko([])}unionWith(e){let t=new wo(cr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Co extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function So(){return"undefined"!=typeof atob}class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Co("Invalid base64 string: "+e):e}}(e);return new Eo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const To=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(e){if($i(!!e),"string"==typeof e){let t=0;const n=To.exec(e);if($i(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mo(e.seconds),nanos:Mo(e.nanos)}}function Mo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function No(e){return"string"==typeof e?Eo.fromBase64String(e):Eo.fromUint8Array(e)}function Ro(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lo(e){const t=e.mapValue.fields.__previous_value__;return Ro(t)?Lo(t):t}function Po(e){const t=Io(e.mapValue.fields.__local_write_time__.timestampValue);return new rr(t.seconds,t.nanos)}class Oo{constructor(e,t,n,i,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Do{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Do("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fo={nullValue:"NULL_VALUE"};function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ro(e)?4:Zo(e)?9007199254740991:10:Fi()}function Bo(e,t){if(e===t)return!0;const n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Po(e).isEqual(Po(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Io(e.timestampValue),i=Io(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return No(e.bytesValue).isEqual(No(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mo(e.geoPointValue.latitude)===Mo(t.geoPointValue.latitude)&&Mo(e.geoPointValue.longitude)===Mo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mo(e.integerValue)===Mo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mo(e.doubleValue),i=Mo(t.doubleValue);return n===i?jr(n)===jr(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return nr(e.arrayValue.values||[],t.arrayValue.values||[],Bo);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(go(n)!==go(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Bo(n[r],i[r])))return!1;return!0}(e,t);default:return Fi()}}function Uo(e,t){return void 0!==(e.values||[]).find((e=>Bo(e,t)))}function zo(e,t){if(e===t)return 0;const n=$o(e),i=$o(t);if(n!==i)return tr(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mo(e.integerValue||e.doubleValue),i=Mo(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Vo(e.timestampValue,t.timestampValue);case 4:return Vo(Po(e),Po(t));case 5:return tr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=No(e),i=No(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=tr(n[r],i[r]);if(0!==e)return e}return tr(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tr(Mo(e.latitude),Mo(t.latitude));return 0!==n?n:tr(Mo(e.longitude),Mo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=zo(n[r],i[r]);if(e)return e}return tr(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jo.mapValue&&t===jo.mapValue)return 0;if(e===jo.mapValue)return 1;if(t===jo.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const e=tr(i[s],o[s]);if(0!==e)return e;const t=zo(n[i[s]],r[o[s]]);if(0!==t)return t}return tr(i.length,o.length)}(e.mapValue,t.mapValue);default:throw Fi()}}function Vo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tr(e,t);const n=Io(e),i=Io(t),r=tr(n.seconds,i.seconds);return 0!==r?r:tr(n.nanos,i.nanos)}function Wo(e){return Ho(e)}function Ho(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Io(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?No(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ur.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Ho(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(Ho(e.fields[r]));return n+"}"}(e.mapValue):Fi();var t,n}function qo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ko(e){return!!e&&"integerValue"in e}function Go(e){return!!e&&"arrayValue"in e}function Qo(e){return!!e&&"nullValue"in e}function Yo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xo(e){return!!e&&"mapValue"in e}function Jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Jo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function es(e){return"nullValue"in e?Fo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?qo(Do.empty(),ur.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Fi()}function ts(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?qo(Do.empty(),ur.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jo:Fi()}function ns(e,t){const n=zo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function is(e,t){const n=zo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(t)}setAll(e){let t=cr.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Jo(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Xo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Xo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){mo(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new rs(Jo(this.value))}}function os(e){const t=[];return mo(e.fields,((e,n)=>{const i=new cr([e]);if(Xo(n)){const e=os(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new ko(t)}class ss{constructor(e,t,n,i,r,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ss(e,0,or.min(),or.min(),or.min(),rs.empty(),0)}static newFoundDocument(e,t,n,i){return new ss(e,1,t,or.min(),n,i,0)}static newNoDocument(e,t){return new ss(e,2,t,or.min(),or.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new ss(e,3,t,or.min(),or.min(),rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(or.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=or.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ss&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class as{constructor(e,t){this.position=e,this.inclusive=t}}function ls(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],s=e.position[r];if(i=o.field.isKeyField()?ur.comparator(ur.fromName(s.referenceValue),n.key):zo(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function cs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bo(e.position[n],t.position[n]))return!1;return!0}class us{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ds{}class ps extends ds{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new As(e,t,n):"array-contains"===t?new Es(e,n):"in"===t?new Ts(e,n):"not-in"===t?new Is(e,n):"array-contains-any"===t?new Ms(e,n):new ps(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ks(e,n):new Cs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zo(t,this.value)):null!==t&&$o(this.value)===$o(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fs extends ds{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fs(e,t)}matches(e){return gs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gs(e){return"and"===e.op}function ms(e){return"or"===e.op}function vs(e){return ys(e)&&gs(e)}function ys(e){for(const t of e.filters)if(t instanceof fs)return!1;return!0}function _s(e){if(e instanceof ps)return e.field.canonicalString()+e.op.toString()+Wo(e.value);if(vs(e))return e.filters.map((e=>_s(e))).join(",");{const t=e.filters.map((e=>_s(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function bs(e,t){return e instanceof ps?function(e,t){return t instanceof ps&&e.op===t.op&&e.field.isEqual(t.field)&&Bo(e.value,t.value)}(e,t):e instanceof fs?function(e,t){return t instanceof fs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&bs(n,t.filters[i])),!0)}(e,t):void Fi()}function ws(e,t){const n=e.filters.concat(t);return fs.create(n,e.op)}function xs(e){return e instanceof ps?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wo(e.value))}(e):e instanceof fs?function(e){return e.op.toString()+" {"+e.getFilters().map(xs).join(" ,")+"}"}(e):"Filter"}class As extends ps{constructor(e,t,n){super(e,t,n),this.key=ur.fromName(n.referenceValue)}matches(e){const t=ur.comparator(e.key,this.key);return this.matchesComparison(t)}}class ks extends ps{constructor(e,t){super(e,"in",t),this.keys=Ss("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Cs extends ps{constructor(e,t){super(e,"not-in",t),this.keys=Ss("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ss(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ur.fromName(e.referenceValue)))}class Es extends ps{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Go(t)&&Uo(t.arrayValue,this.value)}}class Ts extends ps{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Uo(this.value.arrayValue,t)}}class Is extends ps{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Uo(this.value.arrayValue,t)}}class Ms extends ps{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Go(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Uo(this.value.arrayValue,e)))}}class Ns{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.dt=null}}function Rs(e){return new Ns(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ls(e){const t=Ui(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>_s(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Dr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Wo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Wo(e))).join(",")),t.dt=e}return t.dt}function Ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cs(e.startAt,t.startAt)&&cs(e.endAt,t.endAt)}function Os(e){return ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ds(e,t){return e.filters.filter((e=>e instanceof ps&&e.field.isEqual(t)))}function js(e,t,n){let i=Fo,r=!0;for(const o of Ds(e,t)){let e=Fo,t=!0;switch(o.op){case"<":case"<=":e=es(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Fo}ns({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ns({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Fs(e,t,n){let i=jo,r=!0;for(const o of Ds(e,t)){let e=jo,t=!0;switch(o.op){case">=":case">":e=ts(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=jo}is({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];is({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class $s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Bs(e,t,n,i,r,o,s,a){return new $s(e,t,n,i,r,o,s,a)}function Us(e){return new $s(e)}function zs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ws(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Hs(e){return null!==e.collectionGroup}function qs(e){const t=Ui(e);if(null===t.wt){t.wt=[];const e=Ws(t),n=Vs(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new us(e)),t.wt.push(new us(cr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new us(cr.keyField(),e))}}}return t.wt}function Ks(e){const t=Ui(e);if(!t._t)if("F"===t.limitType)t._t=Rs(t.path,t.collectionGroup,qs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of qs(t)){const t="desc"===r.dir?"asc":"desc";e.push(new us(r.field,t))}const n=t.endAt?new as(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new as(t.startAt.position,t.startAt.inclusive):null;t._t=Rs(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function Gs(e,t){t.getFirstInequalityField(),Ws(e);const n=e.filters.concat([t]);return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qs(e,t,n){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ys(e,t){return Ps(Ks(e),Ks(t))&&e.limitType===t.limitType}function Xs(e){return"".concat(Ls(Ks(e)),"|lt:").concat(e.limitType)}function Js(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>xs(e))).join(", "),"]")),Dr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Wo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Wo(e))).join(",")),"Target(".concat(t,")")}(Ks(e)),"; limitType=").concat(e.limitType,")")}function Zs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ur.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=ls(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,qs(e),t))&&!(e.endAt&&!function(e,t,n){const i=ls(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,qs(e),t))}(e,t)}function ea(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ta(e){return(t,n)=>{let i=!1;for(const r of qs(e)){const e=na(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function na(e,t,n){const i=e.field.isKeyField()?ur.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?zo(i,r):Fi()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Fi()}}class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return vo(this.inner)}size(){return this.innerSize}}const ra=new yo(ur.comparator);function oa(){return ra}const sa=new yo(ur.comparator);function aa(){let e=sa;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function la(e){let t=sa;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ca(){return ha()}function ua(){return ha()}function ha(){return new ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}const da=new yo(ur.comparator),pa=new wo(ur.comparator);function fa(){let e=pa;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const ga=new wo(tr);function ma(){return ga}function va(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jr(t)?"-0":t}}function ya(e){return{integerValue:""+e}}function _a(e,t){return Fr(t)?ya(t):va(e,t)}class ba{constructor(){this._=void 0}}function wa(e,t,n){return e instanceof ka?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ro(t)&&(t=Lo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ca?Sa(e,t):e instanceof Ea?Ta(e,t):function(e,t){const n=Aa(e,t),i=Ma(n)+Ma(e.gt);return Ko(n)&&Ko(e.gt)?ya(i):va(e.serializer,i)}(e,t)}function xa(e,t,n){return e instanceof Ca?Sa(e,t):e instanceof Ea?Ta(e,t):n}function Aa(e,t){return e instanceof Ia?Ko(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ka extends ba{}class Ca extends ba{constructor(e){super(),this.elements=e}}function Sa(e,t){const n=Na(t);for(const i of e.elements)n.some((e=>Bo(e,i)))||n.push(i);return{arrayValue:{values:n}}}class Ea extends ba{constructor(e){super(),this.elements=e}}function Ta(e,t){let n=Na(t);for(const i of e.elements)n=n.filter((e=>!Bo(e,i)));return{arrayValue:{values:n}}}class Ia extends ba{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ma(e){return Mo(e.integerValue||e.doubleValue)}function Na(e){return Go(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ra{constructor(e,t){this.field=e,this.transform=t}}class La{constructor(e,t){this.version=e,this.transformResults=t}}class Pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pa}static exists(e){return new Pa(void 0,e)}static updateTime(e){return new Pa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Da{}function ja(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ka(e.key,Pa.none()):new za(e.key,e.data,Pa.none());{const n=e.data,i=rs.empty();let r=new wo(cr.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Va(e.key,i,new ko(r.toArray()),Pa.none())}}function Fa(e,t,n){e instanceof za?function(e,t,n){const i=e.value.clone(),r=Ha(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Va?function(e,t,n){if(!Oa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Ha(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Wa(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $a(e,t,n,i){return e instanceof za?function(e,t,n,i){if(!Oa(e.precondition,t))return n;const r=e.value.clone(),o=qa(e.fieldTransforms,i,t);return r.setAll(o),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Va?function(e,t,n,i){if(!Oa(e.precondition,t))return n;const r=qa(e.fieldTransforms,i,t),o=t.data;return o.setAll(Wa(e)),o.setAll(r),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return Oa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ba(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Aa(i.transform,e||null);null!=r&&(null===n&&(n=rs.empty()),n.set(i.field,r))}return n||null}function Ua(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ca&&t instanceof Ca||e instanceof Ea&&t instanceof Ea?nr(e.elements,t.elements,Bo):e instanceof Ia&&t instanceof Ia?Bo(e.gt,t.gt):e instanceof ka&&t instanceof ka}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class za extends Da{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Va extends Da{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Wa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Ha(e,t,n){const i=new Map;$i(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,xa(s,a,n[r]))}return i}function qa(e,t,n){const i=new Map;for(const r of e){const e=r.transform,o=n.data.field(r.field);i.set(r.field,wa(e,o,t))}return i}class Ka extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ga extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qa{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Fa(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=$a(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=$a(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ua();return this.mutations.forEach((i=>{const r=e.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=t.has(i.key)?null:s;const a=ja(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(or.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fa())}isEqual(e){return this.batchId===e.batchId&&nr(this.mutations,e.mutations,((e,t)=>Ua(e,t)))&&nr(this.baseMutations,e.baseMutations,((e,t)=>Ua(e,t)))}}class Ya{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){$i(e.mutations.length===n.length);let i=da;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new Ya(e,t,n,i)}}class Xa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ja{constructor(e,t){this.count=e,this.unchangedNames=t}}var Za,el;function tl(e){switch(e){default:return Fi();case zi.CANCELLED:case zi.UNKNOWN:case zi.DEADLINE_EXCEEDED:case zi.RESOURCE_EXHAUSTED:case zi.INTERNAL:case zi.UNAVAILABLE:case zi.UNAUTHENTICATED:return!1;case zi.INVALID_ARGUMENT:case zi.NOT_FOUND:case zi.ALREADY_EXISTS:case zi.PERMISSION_DENIED:case zi.FAILED_PRECONDITION:case zi.ABORTED:case zi.OUT_OF_RANGE:case zi.UNIMPLEMENTED:case zi.DATA_LOSS:return!0}}function nl(e){if(void 0===e)return Oi("GRPC error has no .code"),zi.UNKNOWN;switch(e){case Za.OK:return zi.OK;case Za.CANCELLED:return zi.CANCELLED;case Za.UNKNOWN:return zi.UNKNOWN;case Za.DEADLINE_EXCEEDED:return zi.DEADLINE_EXCEEDED;case Za.RESOURCE_EXHAUSTED:return zi.RESOURCE_EXHAUSTED;case Za.INTERNAL:return zi.INTERNAL;case Za.UNAVAILABLE:return zi.UNAVAILABLE;case Za.UNAUTHENTICATED:return zi.UNAUTHENTICATED;case Za.INVALID_ARGUMENT:return zi.INVALID_ARGUMENT;case Za.NOT_FOUND:return zi.NOT_FOUND;case Za.ALREADY_EXISTS:return zi.ALREADY_EXISTS;case Za.PERMISSION_DENIED:return zi.PERMISSION_DENIED;case Za.FAILED_PRECONDITION:return zi.FAILED_PRECONDITION;case Za.ABORTED:return zi.ABORTED;case Za.OUT_OF_RANGE:return zi.OUT_OF_RANGE;case Za.UNIMPLEMENTED:return zi.UNIMPLEMENTED;case Za.DATA_LOSS:return zi.DATA_LOSS;default:return Fi()}}(el=Za||(Za={}))[el.OK=0]="OK",el[el.CANCELLED=1]="CANCELLED",el[el.UNKNOWN=2]="UNKNOWN",el[el.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",el[el.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",el[el.NOT_FOUND=5]="NOT_FOUND",el[el.ALREADY_EXISTS=6]="ALREADY_EXISTS",el[el.PERMISSION_DENIED=7]="PERMISSION_DENIED",el[el.UNAUTHENTICATED=16]="UNAUTHENTICATED",el[el.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",el[el.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",el[el.ABORTED=10]="ABORTED",el[el.OUT_OF_RANGE=11]="OUT_OF_RANGE",el[el.UNIMPLEMENTED=12]="UNIMPLEMENTED",el[el.INTERNAL=13]="INTERNAL",el[el.UNAVAILABLE=14]="UNAVAILABLE",el[el.DATA_LOSS=15]="DATA_LOSS";class il{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rl}static getOrCreateInstance(){return null===rl&&(rl=new il),rl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let rl=null;function ol(){return new TextEncoder}const sl=new Ei([4294967295,4294967295],0);function al(e){const t=ol().encode(e),n=new Si;return n.update(t),new Uint8Array(n.digest())}function ll(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ei([n,i],0),new Ei([r,o],0)]}class cl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ul("Invalid padding: ".concat(t));if(n<0)throw new ul("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ul("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ul("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Ei.fromNumber(this.It)}Et(e,t,n){let i=e.add(t.multiply(Ei.fromNumber(n)));return 1===i.compare(sl)&&(i=new Ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=al(e),[n,i]=ll(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);if(!this.At(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new cl(r,i,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=al(e),[n,i]=ll(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hl{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hl(or.min(),i,new yo(tr),oa(),fa())}}class dl{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dl(n,t,fa(),fa(),fa())}}class pl{constructor(e,t,n,i){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=i}}class fl{constructor(e,t){this.targetId=e,this.Vt=t}}class gl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class ml{constructor(){this.St=0,this.Dt=_l(),this.Ct=Eo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fa(),t=fa(),n=fa();return this.Dt.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Fi()}})),new dl(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=_l()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=oa(),this.zt=yl(),this.Wt=new yo(tr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Fi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,i=e.Vt.count,r=this.se(n);if(r){const o=r.target;if(Os(o))if(0===i){const e=new ur(o.path);this.Yt(n,e,ss.newNoDocument(e,or.min()))}else $i(1===i);else{const r=this.ie(n);if(r!==i){const i=this.re(e,r);if(0!==i){this.ee(n);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=il.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var i,r,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===(o=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(i,r,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=No(r).toUint8Array()}catch(e){if(e instanceof Co)return Di("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new cl(a,o,s)}catch(e){return Di(e instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Gt.ue(),o="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),i++)})),i}ce(e){const t=new Map;this.Qt.forEach(((n,i)=>{const r=this.se(i);if(r){if(n.current&&Os(r.target)){const t=new ur(r.target.path);null!==this.jt.get(t)||this.ae(i,t)||this.Yt(i,t,ss.newNoDocument(t,e))}n.Mt&&(t.set(i,n.Ot()),n.Ft())}}));let n=fa();this.zt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const i=new hl(e,t,this.Wt,this.jt,n);return this.jt=oa(),this.zt=yl(),this.Wt=new yo(tr),i}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ml,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new wo(tr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pi("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ml),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function yl(){return new yo(ur.comparator)}function _l(){return new yo(ur.comparator)}const bl={asc:"ASCENDING",desc:"DESCENDING"},wl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xl={and:"AND",or:"OR"};class Al{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kl(e,t){return e.useProto3Json||Dr(t)?t:{value:t}}function Cl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function El(e,t){return Cl(e,t.toTimestamp())}function Tl(e){return $i(!!e),or.fromTimestamp(function(e){const t=Io(e);return new rr(t.seconds,t.nanos)}(e))}function Il(e,t){return function(e){return new ar(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ml(e){const t=ar.fromString(e);return $i(Jl(t)),t}function Nl(e,t){return Il(e.databaseId,t.path)}function Rl(e,t){const n=Ml(t);if(n.get(1)!==e.databaseId.projectId)throw new Vi(zi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vi(zi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ur(Dl(n))}function Ll(e,t){return Il(e.databaseId,t)}function Pl(e){const t=Ml(e);return 4===t.length?ar.emptyPath():Dl(t)}function Ol(e){return new ar(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dl(e){return $i(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jl(e,t,n){return{name:Nl(e,t),fields:n.value.mapValue.fields}}function Fl(e,t,n){const i=Rl(e,t.name),r=Tl(t.updateTime),o=t.createTime?Tl(t.createTime):or.min(),s=new rs({mapValue:{fields:t.fields}}),a=ss.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $l(e,t){let n;if(t instanceof za)n={update:jl(e,t.key,t.value)};else if(t instanceof Ka)n={delete:Nl(e,t.key)};else if(t instanceof Va)n={update:jl(e,t.key,t.data),updateMask:Xl(t.fieldMask)};else{if(!(t instanceof Ga))return Fi();n={verify:Nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ka)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ia)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Fi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:El(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fi()}(e,t.precondition)),n}function Bl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Pa.updateTime(Tl(e.updateTime)):void 0!==e.exists?Pa.exists(e.exists):Pa.none()}(t.currentDocument):Pa.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)$i("REQUEST_TIME"===t.setToServerValue),n=new ka;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ca(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ea(e)}else"increment"in t?n=new Ia(e,t.increment):Fi();const i=cr.fromServerFormat(t.fieldPath);return new Ra(i,n)}(e,t))):[];if(t.update){t.update.name;const r=Rl(e,t.update.name),o=new rs({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ko(t.map((e=>cr.fromServerFormat(e))))}(t.updateMask);return new Va(r,o,e,n,i)}return new za(r,o,n,i)}if(t.delete){const i=Rl(e,t.delete);return new Ka(i,n)}if(t.verify){const i=Rl(e,t.verify);return new Ga(i,n)}return Fi()}function Ul(e,t){return{documents:[Ll(e,t.path)]}}function zl(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Ll(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ll(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return Yl(fs.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Gl(e.field),direction:Hl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=kl(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vl(e){let t=Pl(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){$i(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Wl(e);return t instanceof fs&&vs(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new us(Ql(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Dr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new as(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new as(n,t)}(n.endAt)),Bs(t,r,s,o,a,"F",l,c)}function Wl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ql(e.unaryFilter.field);return ps.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ql(e.unaryFilter.field);return ps.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ql(e.unaryFilter.field);return ps.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ql(e.unaryFilter.field);return ps.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Fi()}}(e):void 0!==e.fieldFilter?function(e){return ps.create(Ql(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fs.create(e.compositeFilter.filters.map((e=>Wl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fi()}}(e.compositeFilter.op))}(e):Fi()}function Hl(e){return bl[e]}function ql(e){return wl[e]}function Kl(e){return xl[e]}function Gl(e){return{fieldPath:e.canonicalString()}}function Ql(e){return cr.fromServerFormat(e.fieldPath)}function Yl(e){return e instanceof ps?function(e){if("=="===e.op){if(Yo(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(Qo(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yo(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(Qo(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:ql(e.op),value:e.value}}}(e):e instanceof fs?function(e){const t=e.getFilters().map((e=>Yl(e)));return 1===t.length?t[0]:{compositeFilter:{op:Kl(e.op),filters:t}}}(e):Fi()}function Xl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zl{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:or.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:or.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Eo.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ec{constructor(e){this.fe=e}}function tc(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:Nl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cl(e,t.version.toTimestamp()),createTime:Cl(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:ic(t.version)};else{if(!t.isUnknownDocument())return Fi();i.unknownDocument={path:n.path.toArray(),version:ic(t.version)}}return i}function nc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ic(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rc(e){const t=new rr(e.seconds,e.nanoseconds);return or.fromTimestamp(t)}function oc(e,t){const n=(t.baseMutations||[]).map((t=>Bl(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const i=t.mutations.map((t=>Bl(e.fe,t))),r=rr.fromMillis(t.localWriteTimeMs);return new Qa(t.batchId,r,n,i)}function sc(e){const t=rc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?rc(e.lastLimboFreeSnapshotVersion):or.min();let i;var r;return void 0!==e.query.documents?($i(1===(r=e.query).documents.length),i=Ks(Us(Pl(r.documents[0])))):i=function(e){return Ks(Vl(e))}(e.query),new Zl(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Eo.fromBase64String(e.resumeToken))}function ac(e,t){const n=ic(t.snapshotVersion),i=ic(t.lastLimboFreeSnapshotVersion);let r;r=Os(t.target)?Ul(e.fe,t.target):zl(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ls(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lc(e){const t=Vl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qs(t,t.limit,"L"):t}function cc(e,t){return new Xa(t.largestBatchId,Bl(e.fe,t.overlayMutation))}function uc(e,t){const n=t.path.lastSegment();return[e,$r(t.path.popLast()),n]}function hc(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ic(i.readTime),documentKey:$r(i.documentKey.path),largestBatchId:i.largestBatchId}}class dc{getBundleMetadata(e,t){return pc(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:rc(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return pc(e).put({bundleId:(n=t).id,createTime:ic(Tl(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return fc(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:lc(t.bundledQuery),readTime:rc(t.readTime)};var t}))}saveNamedQuery(e,t){return fc(e).put(function(e){return{name:e.name,readTime:ic(Tl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function pc(e){return fo(e,"bundles")}function fc(e){return fo(e,"namedQueries")}class gc{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new gc(e,n)}getOverlay(e,t){return mc(e).get(uc(this.userId,t)).next((e=>e?cc(this.serializer,e):null))}getOverlays(e,t){const n=ca();return Ar.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((n,r)=>{const o=new Xa(t,r);i.push(this.we(e,o))})),Ar.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((e=>i.add($r(e.getCollectionPath()))));const r=[];return i.forEach((t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(mc(e).J("collectionPathOverlayIndex",i))})),Ar.waitFor(r)}getOverlaysForCollection(e,t,n){const i=ca(),r=$r(t),o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return mc(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=cc(this.serializer,t);i.set(e.getKey(),e)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const r=ca();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mc(e).X({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=cc(this.serializer,t);r.size()<i||s.largestBatchId===o?(r.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>r))}we(e,t){return mc(e).put(function(e,t,n){const[i,r,o]=uc(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$l(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function mc(e){return fo(e,"documentOverlays")}class vc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mo(e.integerValue));else if("doubleValue"in e){const n=Mo(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),jr(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(No(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Zo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fi()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const i of Object.keys(n))this.Te(i,t),this.me(n[i],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const i of n)this.me(i,t)}ve(e,t){this.ye(t,37),ur.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function yc(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function _c(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=yc(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}vc.Ve=new vc;class bc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=_c(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),n=_c(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class wc{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class xc{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ac{constructor(){this.je=new bc,this.ze=new wc(this.je),this.We=new xc(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class kc{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new kc(this.indexId,this.documentKey,this.arrayValue,n)}}function Cc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Sc(e.arrayValue,t.arrayValue),0!==n?n:(n=Sc(e.directionalValue,t.directionalValue),0!==n?n:ur.comparator(e.documentKey,t.documentKey)))}function Sc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}class Ec{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){$i(e.collectionGroup===this.collectionId);const t=dr(e);if(void 0!==t&&!this.en(t))return!1;const n=pr(e);let i=new Set,r=0,o=0;for(;r<n.length&&this.en(n[r]);++r)i=i.add(n[r].fieldPath.canonicalString());if(r===n.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const e=n[r];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++r}for(;r<n.length;++r){const e=n[r];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Tc(e){var t,n;if($i(e instanceof ps||e instanceof fs),e instanceof ps){if(e instanceof Ts){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ps.create(e.field,"==",t))))||[];return fs.create(i,"or")}return e}const i=e.filters.map((e=>Tc(e)));return fs.create(i,e.op)}function Ic(e){if(0===e.getFilters().length)return[];const t=Lc(Tc(e));return $i(Rc(t)),Mc(t)||Nc(t)?[t]:t.getFilters()}function Mc(e){return e instanceof ps}function Nc(e){return e instanceof fs&&vs(e)}function Rc(e){return Mc(e)||Nc(e)||function(e){if(e instanceof fs&&ms(e)){for(const t of e.getFilters())if(!Mc(t)&&!Nc(t))return!1;return!0}return!1}(e)}function Lc(e){if($i(e instanceof ps||e instanceof fs),e instanceof ps)return e;if(1===e.filters.length)return Lc(e.filters[0]);const t=e.filters.map((e=>Lc(e)));let n=fs.create(t,e.op);return n=Dc(n),Rc(n)?n:($i(n instanceof fs),$i(gs(n)),$i(n.filters.length>1),n.filters.reduce(((e,t)=>Pc(e,t))))}function Pc(e,t){let n;return $i(e instanceof ps||e instanceof fs),$i(t instanceof ps||t instanceof fs),n=e instanceof ps?t instanceof ps?function(e,t){return fs.create([e,t],"and")}(e,t):Oc(e,t):t instanceof ps?Oc(t,e):function(e,t){if($i(e.filters.length>0&&t.filters.length>0),gs(e)&&gs(t))return ws(e,t.getFilters());const n=ms(e)?e:t,i=ms(e)?t:e,r=n.filters.map((e=>Pc(e,i)));return fs.create(r,"or")}(e,t),Dc(n)}function Oc(e,t){if(gs(t))return ws(t,e.getFilters());{const n=t.filters.map((t=>Pc(e,t)));return fs.create(n,"or")}}function Dc(e){if($i(e instanceof ps||e instanceof fs),e instanceof ps)return e;const t=e.getFilters();if(1===t.length)return Dc(t[0]);if(ys(e))return e;const n=t.map((e=>Dc(e))),i=[];return n.forEach((t=>{t instanceof ps?i.push(t):t instanceof fs&&(t.op===e.op?i.push(...t.filters):i.push(t))})),1===i.length?i[0]:fs.create(i,e.op)}class jc{constructor(){this.rn=new Fc}addToCollectionParentIndex(e,t){return this.rn.add(t),Ar.resolve()}getCollectionParents(e,t){return Ar.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ar.resolve()}deleteFieldIndex(e,t){return Ar.resolve()}getDocumentsMatchingTarget(e,t){return Ar.resolve(null)}getIndexType(e,t){return Ar.resolve(0)}getFieldIndexes(e,t){return Ar.resolve([])}getNextCollectionGroupToUpdate(e){return Ar.resolve(null)}getMinOffset(e,t){return Ar.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,t){return Ar.resolve(yr.min())}updateCollectionGroup(e,t,n){return Ar.resolve()}updateIndexEntries(e,t){return Ar.resolve()}}class Fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new wo(ar.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wo(ar.comparator)).toArray()}}const $c=new Uint8Array(0);class Bc{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Fc,this.un=new ia((e=>Ls(e)),((e,t)=>Ps(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const r={collectionId:n,parent:$r(i)};return Uc(e).put(r)}return Ar.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[ir(t),""],!1,!0);return Uc(e).j(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(zr(i.parent))}return n}))}addFieldIndex(e,t){const n=Vc(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete i.indexId;const r=n.add(i);if(t.indexState){const n=Wc(e);return r.next((e=>{n.put(hc(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return r.next()}deleteFieldIndex(e,t){const n=Vc(e),i=Wc(e),r=zc(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=zc(e);let i=!0;const r=new Map;return Ar.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{i&&(i=!!e),r.set(t,e)})))).next((()=>{if(i){let e=fa();const i=[];return Ar.forEach(r,((r,o)=>{var s;Pi("IndexedDbIndexManager","Using index ".concat((s=r,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Ls(t)));const a=function(e,t){const n=dr(t);if(void 0===n)return null;for(const i of Ds(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(o,r),l=function(e,t){const n=new Map;for(const i of pr(t))for(const t of Ds(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,r),c=function(e,t){const n=[];let i=!0;for(const r of pr(t)){const t=0===r.kind?js(e,r.fieldPath,e.startAt):Fs(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new as(n,i)}(o,r),u=function(e,t){const n=[];let i=!0;for(const r of pr(t)){const t=0===r.kind?Fs(e,r.fieldPath,e.endAt):js(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new as(n,i)}(o,r),h=this.hn(r,o,c),d=this.hn(r,o,u),p=this.ln(r,o,l),f=this.fn(r.indexId,a,h,c.inclusive,d,u.inclusive,p);return Ar.forEach(f,(r=>n.H(r,t.limit).next((t=>{t.forEach((t=>{const n=ur.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))}))}))))})).next((()=>i))}return Ar.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Ic(fs.create(e.filters,"and")).map((t=>Rs(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,i,r,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):$c,h=this.wn(e,a,n[u%l],i),d=this._n(e,a,r[u%l],o),p=s.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(h,d,p))}return c}wn(e,t,n,i){const r=new kc(e,ur.empty(),t,n);return i?r:r.Je()}_n(e,t,n,i){const r=new kc(e,ur.empty(),t,n);return i?r.Je():r}an(e,t){const n=new Ec(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((e=>{let t=null;for(const i of e)n.tn(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t}))}getIndexType(e,t){let n=2;const i=this.cn(t);return Ar.forEach(i,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new wo(cr.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n))}mn(e,t){const n=new Ac;for(const i of pr(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.He(i.kind);vc.Ve._e(e,r)}return n.Qe()}dn(e){const t=new Ac;return vc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Ac;return vc.Ve._e(qo(this.databaseId,t),n.He(function(e){const t=pr(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let i=[];i.push(new Ac);let r=0;for(const o of pr(e)){const e=n[r++];for(const n of i)if(this.yn(t,o.fieldPath)&&Go(e))i=this.pn(i,o,e);else{const t=n.He(o.kind);vc.Ve._e(e,t)}}return this.In(i)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const i=[...e],r=[];for(const o of n.arrayValue.values||[])for(const e of i){const n=new Ac;n.seed(e.Qe()),vc.Ve._e(o,n.He(t.kind)),r.push(n)}return r}yn(e,t){return!!e.filters.find((e=>e instanceof ps&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Vc(e),i=Wc(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Ar.forEach(e,(e=>i.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new gr(t.sequenceNumber,new yr(rc(t.readTime),new ur(zr(t.documentKey)),t.largestBatchId)):gr.empty(),i=e.fields.map((e=>{let[t,n]=e;return new fr(cr.fromServerFormat(t),n)}));return new hr(e.indexId,e.collectionGroup,i,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:tr(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=Vc(e),r=Wc(e);return this.Tn(e).next((e=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ar.forEach(t,(t=>r.put(hc(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ar.forEach(t,((t,i)=>{const r=n.get(t.collectionGroup);return(r?Ar.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next((r=>(n.set(t.collectionGroup,r),Ar.forEach(r,(n=>this.En(e,t,n).next((t=>{const r=this.An(i,n);return t.isEqual(r)?Ar.resolve():this.vn(e,i,n,t,r)})))))))}))}Rn(e,t,n,i){return zc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,i){return zc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const i=zc(e);let r=new wo(Cc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,i)=>{r=r.add(new kc(n.indexId,t,i.arrayValue,i.directionalValue))})).next((()=>r))}An(e,t){let n=new wo(Cc);const i=this.mn(t,e);if(null==i)return n;const r=dr(t);if(null!=r){const o=e.data.field(r.fieldPath);if(Go(o))for(const r of o.arrayValue.values||[])n=n.add(new kc(t.indexId,e.key,this.dn(r),i))}else n=n.add(new kc(t.indexId,e.key,$c,i));return n}vn(e,t,n,i,r){Pi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,i,r){const o=e.getIterator(),s=t.getIterator();let a=Ao(o),l=Ao(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=Ao(s)):t?(r(a),a=Ao(o)):(a=Ao(o),l=Ao(s))}}(i,r,Cc,(i=>{o.push(this.Rn(e,t,n,i))}),(i=>{o.push(this.Pn(e,t,n,i))})),Ar.waitFor(o)}Tn(e){let t=1;return Wc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,i)=>{i.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Cc(e,t))).filter(((e,t,n)=>!t||0!==Cc(e,n[t-1])));const i=[];i.push(e);for(const o of n){const n=Cc(o,e),r=Cc(o,t);if(0===n)i[0]=e.Je();else if(n>0&&r<0)i.push(o),i.push(o.Je());else if(r>0)break}i.push(t);const r=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const e=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$c,[]],t=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$c,[]];r.push(IDBKeyRange.bound(e,t))}return r}bn(e,t){return Cc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hc)}getMinOffset(e,t){return Ar.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||Fi())))).next(Hc)}}function Uc(e){return fo(e,"collectionParents")}function zc(e){return fo(e,"indexEntries")}function Vc(e){return fo(e,"indexConfiguration")}function Wc(e){return fo(e,"indexState")}function Hc(e){$i(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;_r(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new yr(t.readTime,t.documentKey,n)}const qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Kc(e,Kc.DEFAULT_COLLECTION_PERCENTILE,Kc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gc(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=i.X({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{$i(1===a)})));const c=[];for(const u of n.mutations){const e=Hr(t,u.key.path,n.batchId);o.push(r.delete(e)),c.push(u.key)}return Ar.waitFor(o).next((()=>c))}function Qc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fi();t=e.noDocument}return JSON.stringify(t).length}Kc.DEFAULT_COLLECTION_PERCENTILE=10,Kc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kc.DEFAULT=new Kc(41943040,Kc.DEFAULT_COLLECTION_PERCENTILE,Kc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kc.DISABLED=new Kc(-1,0,0);class Yc{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Vn={}}static de(e,t,n,i){$i(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new Yc(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jc(e).X({index:"userMutationsIndex",range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=Zc(e),o=Jc(e);return o.add({}).next((s=>{$i("number"==typeof s);const a=new Qa(s,t,n,i),l=function(e,t,n){const i=n.baseMutations.map((t=>$l(e.fe,t))),r=n.mutations.map((t=>$l(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,a),c=[];let u=new wo(((e,t)=>tr(e.canonicalString(),t.canonicalString())));for(const e of i){const t=Hr(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(r.put(t,qr))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),Ar.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Jc(e).get(t).next((e=>e?($i(e.userId===this.userId),oc(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Ar.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Jc(e).X({index:"userMutationsIndex",range:i},((e,t,i)=>{t.userId===this.userId&&($i(t.batchId>=n),r=oc(this.serializer,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Jc(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jc(e).j("userMutationsIndex",t).next((e=>e.map((e=>oc(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Wr(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return Zc(e).X({range:i},((n,i,o)=>{const[s,a,l]=n,c=zr(a);if(s===this.userId&&t.path.isEqual(c))return Jc(e).get(l).next((e=>{if(!e)throw Fi();$i(e.userId===this.userId),r.push(oc(this.serializer,e))}));o.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wo(tr);const i=[];return t.forEach((t=>{const r=Wr(this.userId,t.path),o=IDBKeyRange.lowerBound(r),s=Zc(e).X({range:o},((e,i,r)=>{const[o,s,a]=e,l=zr(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()}));i.push(s)})),Ar.waitFor(i).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=Wr(this.userId,n),o=IDBKeyRange.lowerBound(r);let s=new wo(tr);return Zc(e).X({range:o},((e,t,r)=>{const[o,a,l]=e,c=zr(a);o===this.userId&&n.isPrefixOf(c)?c.length===i&&(s=s.add(l)):r.done()})).next((()=>this.Dn(e,s)))}Dn(e,t){const n=[],i=[];return t.forEach((t=>{i.push(Jc(e).get(t).next((e=>{if(null===e)throw Fi();$i(e.userId===this.userId),n.push(oc(this.serializer,e))})))})),Ar.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return Gc(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Ar.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ar.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return Zc(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=zr(e[1]);i.push(t)}else n.done()})).next((()=>{$i(0===i.length)}))}))}containsKey(e,t){return Xc(e,this.userId,t)}xn(e){return eu(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Xc(e,t,n){const i=Wr(t,n.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Zc(e).X({range:o,Y:!0},((e,n,i)=>{const[o,a,l]=e;o===t&&a===r&&(s=!0),i.done()})).next((()=>s))}function Jc(e){return fo(e,"mutations")}function Zc(e){return fo(e,"documentMutations")}function eu(e){return fo(e,"mutationQueues")}class tu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tu(0)}static Mn(){return new tu(-1)}}class nu{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new tu(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>or.fromTimestamp(new rr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>iu(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>($i(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return iu(e).X(((o,s)=>{const a=sc(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>Ar.waitFor(r))).next((()=>i))}forEachTarget(e,t){return iu(e).X(((e,n)=>{const i=sc(n);t(i)}))}$n(e){return ru(e).get("targetGlobalKey").next((e=>($i(null!==e),e)))}On(e,t){return ru(e).put("targetGlobalKey",t)}Fn(e,t){return iu(e).put(ac(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ls(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return iu(e).X({range:i,index:"queryTargetsIndex"},((e,n,i)=>{const o=sc(n);Ps(t,o.target)&&(r=o,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=ou(e);return t.forEach((t=>{const o=$r(t.path);i.push(r.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,t))})),Ar.waitFor(i)}removeMatchingKeys(e,t,n){const i=ou(e);return Ar.forEach(t,(t=>{const r=$r(t.path);return Ar.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ou(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=ou(e);let r=fa();return i.X({range:n,Y:!0},((e,t,n)=>{const i=zr(e[1]),o=new ur(i);r=r.add(o)})).next((()=>r))}containsKey(e,t){const n=$r(t.path),i=IDBKeyRange.bound([n],[ir(n)],!1,!0);let r=0;return ou(e).X({index:"documentTargetsIndex",Y:!0,range:i},((e,t,n)=>{let[i,o]=e;0!==i&&(r++,n.done())})).next((()=>r>0))}le(e,t){return iu(e).get(t).next((e=>e?sc(e):null))}}function iu(e){return fo(e,"targets")}function ru(e){return fo(e,"targetGlobal")}function ou(e){return fo(e,"targetDocuments")}function su(e,t){let[n,i]=e,[r,o]=t;const s=tr(n,r);return 0===s?tr(i,o):s}class au{constructor(e){this.Ln=e,this.buffer=new wo(su),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();su(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Pi("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Tr(e)?Pi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await xr(e)}await this.Qn(3e5)}))}}class cu{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ar.resolve(Or.ct);const n=new au(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; disabled"),Ar.resolve(qc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),qc):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,i,r,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Pi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,o=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Ri()<=s.$b.DEBUG&&Pi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(i," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(l-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ar.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}function uu(e,t){return new cu(e,t)}class hu{constructor(e,t){this.db=e,this.garbageCollector=uu(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return du(e,n)}removeReference(e,t,n){return du(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return du(e,t)}Xn(e,t){return function(e,t){let n=!1;return eu(e).Z((i=>Xc(e,i,t).next((e=>(e&&(n=!0),Ar.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Yn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return r++,n.getEntry(e,o).next((()=>(n.removeEntry(o,or.min()),ou(e).delete([0,$r(o.path)]))))}));i.push(t)}})).next((()=>Ar.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return du(e,t)}Yn(e,t){const n=ou(e);let i,r=Or.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(r!==Or.ct&&t(new ur(zr(i)),r),r=l,i=a):r=Or.ct})).next((()=>{r!==Or.ct&&t(new ur(zr(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function du(e,t){return ou(e).put(function(e,t){return{targetId:0,path:$r(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class pu{constructor(){this.changes=new ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ss.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ar.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return yu(e).put(n)}removeEntry(e,t,n){return yu(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nc(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=ss.newInvalidDocument(t);return yu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_u(t))},((e,i)=>{n=this.ts(t,i)})).next((()=>n))}es(e,t){let n={size:0,document:ss.newInvalidDocument(t)};return yu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_u(t))},((e,i)=>{n={document:this.ts(t,i),size:Qc(i)}})).next((()=>n))}getEntries(e,t){let n=oa();return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i)})).next((()=>n))}ss(e,t){let n=oa(),i=new yo(ur.comparator);return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r),i=i.insert(e,Qc(t))})).next((()=>({documents:n,rs:i})))}ns(e,t,n){if(t.isEmpty())return Ar.resolve();let i=new wo(wu);t.forEach((e=>i=i.add(e)));const r=IDBKeyRange.bound(_u(i.first()),_u(i.last())),o=i.getIterator();let s=o.getNext();return yu(e).X({index:"documentKeyIndex",range:r},((e,t,i)=>{const r=ur.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&wu(s,r)<0;)n(s,null),s=o.getNext();s&&s.isEqual(r)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?i.G(_u(s)):i.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i){const r=t.path,o=[r.popLast().toArray(),r.lastSegment(),nc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yu(e).j(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=oa();for(const r of e){const e=this.ts(ur.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(Zs(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,i){let r=oa();const o=bu(t,n),s=bu(t,yr.max());return yu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.ts(ur.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(o.key,o),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(e){return new mu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return vu(e).get("remoteDocumentGlobalKey").next((e=>($i(!!e),e)))}Zn(e,t){return vu(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Fl(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ur.fromSegments(t.noDocument.path),i=rc(t.noDocument.readTime);n=ss.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fi();{const e=ur.fromSegments(t.unknownDocument.path),i=rc(t.unknownDocument.version);n=ss.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new rr(e[0],e[1]);return or.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(or.min()))return e}return ss.newInvalidDocument(e)}}function gu(e){return new fu(e)}class mu extends pu{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new wo(((e,t)=>tr(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,o)=>{const s=this.us.get(r);if(t.push(this.os.removeEntry(e,r,s.readTime)),o.isValidDocument()){const a=tc(this.os.serializer,o);i=i.add(r.path.popLast());const l=Qc(a);n+=l-s.size,t.push(this.os.addEntry(e,r,a))}else if(n-=s.size,this.trackRemovals){const n=tc(this.os.serializer,o.convertToNoDocument(or.min()));t.push(this.os.addEntry(e,r,n))}})),i.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Ar.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function vu(e){return fo(e,"remoteDocumentGlobal")}function yu(e){return fo(e,"remoteDocumentsV14")}function _u(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bu(e,t){const n=t.documentKey.path.toArray();return[e,nc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wu(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=tr(n[o],i[o]),r)return r;return r=tr(n.length,i.length),r||(r=tr(n[n.length-2],i[i.length-2]),r||tr(n[n.length-1],i[i.length-1]))}class xu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Au{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&$a(n.mutation,e,ko.empty(),rr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,fa()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fa();const i=ca();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=aa();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ca();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,fa())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=oa();const o=ha(),s=ha();return t.forEach(((e,t)=>{const s=n.get(t.key);i.has(t.key)&&(void 0===s||s.mutation instanceof Va)?r=r.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),$a(s.mutation,t,s.mutation.getFieldMask(),rr.now())):o.set(t.key,ko.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new xu(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=ha();let i=new yo(((e,t)=>e-t)),r=fa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ko.empty();s=r.applyToLocalView(o,s),n.set(e,s);const a=(i.get(r.batchId)||fa()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,l=i.value,c=ua();l.forEach((e=>{if(!r.has(e)){const i=ja(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ar.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Ar.resolve(ca());let s=-1,a=r;return o.next((t=>Ar.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(t)?Ar.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,fa()))).next((e=>({batchId:s,changes:la(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ur(t)).next((e=>{let t=aa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let r=aa();return this.indexManager.getCollectionParents(e,i).next((o=>Ar.forEach(o,(o=>{const s=function(e,t){return new $s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i)))).next((e=>{i.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,ss.newInvalidDocument(i)))}));let n=aa();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&$a(o.mutation,r,ko.empty(),rr.now()),Zs(t,r)&&(n=n.insert(e,r))})),n}))}}class ku{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ar.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Tl(n.createTime)}),Ar.resolve()}getNamedQuery(e,t){return Ar.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:lc(e.bundledQuery),readTime:Tl(e.readTime)}}(t)),Ar.resolve()}}class Cu{constructor(){this.overlays=new yo(ur.comparator),this.ls=new Map}getOverlay(e,t){return Ar.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ca();return Ar.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.we(e,t,i)})),Ar.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ar.resolve()}getOverlaysForCollection(e,t,n){const i=ca(),r=t.length+1,o=new ur(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Ar.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new yo(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=ca(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ca(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=i)););return Ar.resolve(s)}we(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xa(t,n));let r=this.ls.get(t);void 0===r&&(r=fa(),this.ls.set(t,r)),this.ls.set(t,r.add(n.key))}}class Su{constructor(){this.fs=new wo(Eu.ds),this.ws=new wo(Eu._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Eu(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Eu(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new ur(new ar([])),n=new Eu(t,e),i=new Eu(t,e+1),r=[];return this.ws.forEachInRange([n,i],(e=>{this.ys(e),r.push(e.key)})),r}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ur(new ar([])),n=new Eu(t,e),i=new Eu(t,e+1);let r=fa();return this.ws.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Eu(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Eu{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ur.comparator(e.key,t.key)||tr(e.As,t.As)}static _s(e,t){return tr(e.As,t.As)||ur.comparator(e.key,t.key)}}class Tu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new wo(Eu.ds)}checkEmpty(e){return Ar.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qa(r,t,n,i);this.mutationQueue.push(o);for(const s of i)this.Rs=this.Rs.add(new Eu(s.key,r)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ar.resolve(o)}lookupMutationBatch(e,t){return Ar.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.bs(n),r=i<0?0:i;return Ar.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ar.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ar.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Eu(t,0),i=new Eu(t,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(e=>{const t=this.Ps(e.As);r.push(t)})),Ar.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wo(tr);return t.forEach((e=>{const t=new Eu(e,0),i=new Eu(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,i],(e=>{n=n.add(e.As)}))})),Ar.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;ur.isDocumentKey(r)||(r=r.child(""));const o=new Eu(new ur(r),0);let s=new wo(tr);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(s=s.add(e.As)),!0)}),o),Ar.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){$i(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ar.forEach(t.mutations,(i=>{const r=new Eu(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Eu(t,0),i=this.Rs.firstAfterOrEqual(n);return Ar.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ar.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Iu{constructor(e){this.Ds=e,this.docs=new yo(ur.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ar.resolve(n?n.document.mutableCopy():ss.newInvalidDocument(t))}getEntries(e,t){let n=oa();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ss.newInvalidDocument(e))})),Ar.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=oa();const o=t.path,s=new ur(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||_r(vr(s),n)<=0||(i.has(s.key)||Zs(t,s))&&(r=r.insert(s.key,s.mutableCopy()))}return Ar.resolve(r)}getAllFromCollectionGroup(e,t,n,i){Fi()}Cs(e,t){return Ar.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Mu(this)}getSize(e){return Ar.resolve(this.size)}}class Mu extends pu{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(n)})),Ar.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Nu{constructor(e){this.persistence=e,this.xs=new ia((e=>Ls(e)),Ps),this.lastRemoteSnapshotVersion=or.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Su,this.targetCount=0,this.Ms=tu.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ar.resolve()}getLastRemoteSnapshotVersion(e){return Ar.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ar.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ar.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ar.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ar.resolve()}updateTargetData(e,t){return this.Fn(t),Ar.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ar.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ar.waitFor(r).next((()=>i))}getTargetCount(e){return Ar.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ar.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ar.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Ar.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ar.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ar.resolve(n)}containsKey(e,t){return Ar.resolve(this.ks.containsKey(t))}}class Ru{constructor(e,t){this.$s={},this.overlays={},this.Os=new Or(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nu(this),this.indexManager=new jc,this.remoteDocumentCache=function(e){return new Iu(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new ec(t),this.qs=new ku(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Tu(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Pi("MemoryPersistence","Starting transaction:",e);const i=new Lu(this.Os.next());return this.referenceDelegate.Us(),n(i).next((e=>this.referenceDelegate.Ks(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ar.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Lu extends wr{constructor(e){super(),this.currentSequenceNumber=e}}class Pu{constructor(e){this.persistence=e,this.Qs=new Su,this.js=null}static zs(e){return new Pu(e)}get Ws(){if(this.js)return this.js;throw Fi()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ar.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ar.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ar.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ar.forEach(this.Ws,(n=>{const i=ur.fromPath(n);return this.Hs(e,i).next((e=>{e||t.removeEntry(i,or.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ar.or([()=>Ar.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ou{constructor(e){this.serializer=e}O(e,t,n,i){const r=new kr("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vr,{unique:!0}),e.createObjectStore("documentMutations")}(e),Du(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Ar.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Du(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:or.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vr,{unique:!0});const i=t.store("mutations"),r=n.map((e=>i.put(e)));return Ar.waitFor(r)}))}(e,r)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&i>=5&&(o=o.next((()=>this.Ys(r)))),n<6&&i>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(r))))),n<7&&i>=7&&(o=o.next((()=>this.Zs(r)))),n<8&&i>=8&&(o=o.next((()=>this.ti(e,r)))),n<9&&i>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&i>=10&&(o=o.next((()=>this.ei(r)))),n<11&&i>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&i>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ro});t.createIndex("collectionPathOverlayIndex",oo,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",so,{unique:!1})}(e)}))),n<13&&i>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Kr});t.createIndex("documentKeyIndex",Gr),t.createIndex("collectionGroupIndex",Qr)}(e))).next((()=>this.ni(e,r))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(o=o.next((()=>this.si(e,r)))),n<15&&i>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:eo}).createIndex("sequenceNumberIndex",to,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:no}).createIndex("documentKeyIndex",io,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Qc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Ar.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",i).next((n=>Ar.forEach(n,(n=>{$i(n.userId===t.userId);const i=oc(this.serializer,n);return Gc(e,t.userId,i).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const i=[];return n.X(((n,r)=>{const o=new ar(n),s=function(e){return[0,$r(e)]}(o);i.push(t.get(s).next((n=>n?Ar.resolve():(n=>t.put({targetId:0,path:$r(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Ar.waitFor(i)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Zr});const n=t.store("collectionParents"),i=new Fc,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:$r(i)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new ar(e);return r(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,i,o]=e;const s=zr(i);return r(s.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const i=sc(n),r=ac(this.serializer,i);return t.put(r)}))}ni(e,t){const n=t.store("remoteDocuments"),i=[];return n.X(((e,n)=>{const r=t.store("remoteDocumentsV14"),o=(s=n,s.document?new ur(ar.fromString(s.document.name).popFirst(5)):s.noDocument?ur.fromSegments(s.noDocument.path):s.unknownDocument?ur.fromSegments(s.unknownDocument.path):Fi()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))})).next((()=>Ar.waitFor(i)))}si(e,t){const n=t.store("mutations"),i=gu(this.serializer),r=new Ru(Pu.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:fa();oc(this.serializer,e).keys().forEach((e=>i=i.add(e))),n.set(e.userId,i)})),Ar.forEach(n,((e,n)=>{const o=new Ii(n),s=gc.de(this.serializer,o),a=r.getIndexManager(o),l=Yc.de(o,this.serializer,a,r.referenceDelegate);return new Au(i,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new po(t,Or.ct),e).next()}))}))}}function Du(e){e.createObjectStore("targetDocuments",{keyPath:Xr}).createIndex("documentTargetsIndex",Jr,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yr,{unique:!0}),e.createObjectStore("targetGlobal")}const ju="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fu{constructor(e,t,n,i,r,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=r,this.window=o,this.document=s,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Fu.D())throw new Vi(zi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hu(this,i),this.di=t+"main",this.serializer=new ec(a),this.wi=new Cr(this.di,this.ui,new Ou(this.serializer)),this.Bs=new nu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gu(this.serializer),this.qs=new dc,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&Oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vi(zi.FAILED_PRECONDITION,ju);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Or(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Bu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Tr(e))return Pi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return $u(e).get("owner").next((e=>Ar.resolve(this.Ri(e))))}Pi(e){return Bu(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=fo(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return Ar.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ar.resolve(!0):$u(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Vi(zi.FAILED_PRECONDITION,ju);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bu(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Pi("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new po(e,Or.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Bu(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return Yc.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bc(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return gc.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Pi("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=15===(o=this.ui)?ho:14===o?uo:13===o?co:12===o?lo:11===o?ao:void Fi();var o;let s;return this.wi.runTransaction(e,i,r,(i=>(s=new po(i,this.Os?this.Os.next():Or.ct),"readwrite-primary"===t?this.Ti(s).next((e=>!!e||this.Ei(s))).next((t=>{if(!t)throw Oi("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Vi(zi.FAILED_PRECONDITION,br);return n(s)})).next((e=>this.vi(s).next((()=>e)))):this.Oi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Oi(e){return $u(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Vi(zi.FAILED_PRECONDITION,ju)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $u(e).put("owner",t)}static D(){return Cr.D()}Ai(e){const t=$u(e);return t.get("owner").next((e=>this.Ri(e)?(Pi("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ar.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Oi("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,a.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pi("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Oi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Oi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function $u(e){return fo(e,"owner")}function Bu(e){return fo(e,"clientMetadata")}function Uu(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class zu{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=i}static Li(e,t){let n=fa(),i=fa();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new zu(e,t.fromCache,n,i)}}class Vu{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.Ki(e,t).next((r=>r||this.Gi(e,t,i,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(zs(t))return Ar.resolve(null);let n=Ks(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Qs(t,null,"F"),n=Ks(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=fa(...i);return this.Ui.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,i);return this.zi(t,o,r,n.readTime)?this.Ki(e,Qs(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,i){return zs(t)||i.isEqual(or.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((r=>{const o=this.ji(t,r);return this.zi(t,o,n,i)?this.Qi(e,t):(Ri()<=s.$b.DEBUG&&Pi("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(t)),this.Wi(e,o,t,mr(i,-1)))}))}ji(e,t){let n=new wo(ta(e));return t.forEach(((t,i)=>{Zs(e,i)&&(n=n.add(i))})),n}zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,t){return Ri()<=s.$b.DEBUG&&Pi("QueryEngine","Using full collection scan to execute query:",Js(t)),this.Ui.getDocumentsMatchingQuery(e,t,yr.min())}Wi(e,t,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Wu{constructor(e,t,n,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new yo(tr),this.Yi=new ia((e=>Ls(e)),Ps),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Au(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Hu(e,t,n,i){return new Wu(e,t,n,i)}async function qu(e,t){const n=Ui(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],o=[];let s=fa();for(const e of i){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:r,addedBatchIds:o})))}))}))}function Ku(e){const t=Ui(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Gu(e,t,n){let i=fa(),r=fa();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=oa();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(or.min())?(t.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),i=i.insert(n,o)):Pi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:i,sr:r}}))}function Qu(e,t){const n=Ui(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Yu(e,t){const n=Ui(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Bs.getTargetData(e,t).next((r=>r?(i=r,Ar.resolve(i)):n.Bs.allocateTargetId(e).next((r=>(i=new Zl(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.Ji.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Xu(e,t,n){const i=Ui(e),r=i.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Tr(e))throw e;Pi("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}function Ju(e,t,n){const i=Ui(e);let r=or.min(),o=fa();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Ui(e),r=i.Yi.get(n);return void 0!==r?Ar.resolve(i.Ji.get(r)):i.Bs.getTargetData(t,n)}(i,e,Ks(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>i.Hi.getDocumentsMatchingQuery(e,t,n?r:or.min(),n?o:fa()))).next((e=>(th(i,ea(t),e),{documents:e,ir:o})))))}function Zu(e,t){const n=Ui(e),i=Ui(n.Bs),r=n.Ji.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.le(e,t).next((e=>e?e.target:null))))}function eh(e,t){const n=Ui(e),i=n.Xi.get(t)||or.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,mr(i,-1),Number.MAX_SAFE_INTEGER))).then((e=>(th(n,t,e),e)))}function th(e,t,n){let i=e.Xi.get(t)||or.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.Xi.set(t,i)}async function nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fa();const i=await Yu(e,Ks(lc(t.bundledQuery))),r=Ui(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Tl(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.qs.saveNamedQuery(e,t);const s=i.withResumeToken(Eo.EMPTY_BYTE_STRING,o);return r.Ji=r.Ji.insert(s.targetId,s),r.Bs.updateTargetData(e,s).next((()=>r.Bs.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.Bs.addMatchingKeys(e,n,i.targetId))).next((()=>r.qs.saveNamedQuery(e,t)))}))}function ih(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rh(e,t,n){let i="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(i+="_".concat(t.uid)),i}function oh(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class sh{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static ar(e,t,n){const i=JSON.parse(n);let r,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Vi(i.error.code,i.error.message))),o?new sh(e,t,i.state,r):(Oi("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ah{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new Vi(n.error.code,n.error.message))),r?new ah(e,n.state,i):(Oi("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=ma();for(let o=0;i&&o<n.activeTargetIds.length;++o)i=Fr(n.activeTargetIds[o]),r=r.add(n.activeTargetIds[o]);return i?new lh(e,r):(Oi("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ch{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ch(t.clientId,t.onlineState):(Oi("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class uh{constructor(){this.activeTargetIds=ma()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hh{constructor(e,t,n,i,r){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new yo(tr),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.pr=ih(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new uh),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(ih(this.persistenceKey,n));if(e){const t=lh.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(oh(this.persistenceKey,e));if(n){const i=ah.ar(e,n);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oh(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pi("SharedClientState","READ",e,t),t}setItem(e,t){Pi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Pi("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Or.ct;if(null!=e)try{const n=JSON.parse(e);$i("number"==typeof n),t=n}catch(e){Oi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Or.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const i=new sh(this.currentUser,e,t,n),r=rh(this.persistenceKey,this.currentUser,e);this.setItem(r,i.hr())}Cr(e){const t=rh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const i=oh(this.persistenceKey,e),r=new ah(e,t,n);this.setItem(i,r.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return lh.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return sh.ar(new Ii(r),i,t)}Ur(e,t){const n=this.Ar.exec(e),i=Number(n[1]);return ah.ar(i,t)}br(e){return ch.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Pi("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),r=this.Sr(n),o=[],s=[];return r.forEach((e=>{i.has(e)||o.push(e)})),i.forEach((e=>{r.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ma();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class dh{constructor(){this.Hr=new uh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ph{Yr(e){}shutdown(){}}class fh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gh=null;function mh(){return null===gh?gh=268435456+Math.round(2147483648*Math.random()):gh++,"0x"+gh.toString(16)}const vh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _h="WebChannelConnection";class bh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,i,r){const o=mh(),s=this.To(e,t);Pi("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,i,r),this.Ao(e,s,a,n).then((t=>(Pi("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Di("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,i,r,o){return this.Io(e,t,n,i,r)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=vh[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,i){const r=mh();return new Promise(((o,s)=>{const a=new Ci;a.setWithCredentials(!0),a.listenOnce(bi.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _i.NO_ERROR:const t=a.getResponseJson();Pi(_h,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),o(t);break;case _i.TIMEOUT:Pi(_h,"RPC '".concat(e,"' ").concat(r," timed out")),s(new Vi(zi.DEADLINE_EXCEEDED,"Request time out"));break;case _i.HTTP_ERROR:const n=a.getStatus();if(Pi(_h,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zi).indexOf(t)>=0?t:zi.UNKNOWN}(t.status);s(new Vi(e,t.message))}else s(new Vi(zi.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Vi(zi.UNAVAILABLE,"Connection failed."));break;default:Fi()}}finally{Pi(_h,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);Pi(_h,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const i=mh(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vi(),s=yi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ai({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");Pi(_h,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const p=new yh({ro:t=>{d?Pi(_h,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(Pi(_h,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),Pi(_h,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},oo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,ki.EventType.OPEN,(()=>{d||Pi(_h,"RPC '".concat(e,"' stream ").concat(i," transport opened."))})),f(u,ki.EventType.CLOSE,(()=>{d||(d=!0,Pi(_h,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.wo())})),f(u,ki.EventType.ERROR,(t=>{d||(d=!0,Di(_h,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),p.wo(new Vi(zi.UNAVAILABLE,"The operation could not be completed")))})),f(u,ki.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];$i(!!r);const o=r,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Pi(_h,"RPC '".concat(e,"' stream ").concat(i," received error:"),s);const t=s.status;let n=function(e){const t=Za[e];if(void 0!==t)return nl(t)}(t),r=s.message;void 0===n&&(n=zi.INTERNAL,r="Unknown error status: "+t+" with message "+s.message),d=!0,p.wo(new Vi(n,r)),u.close()}else Pi(_h,"RPC '".concat(e,"' stream ").concat(i," received:"),r),p._o(r)}})),f(s,wi.STAT_EVENT,(t=>{t.stat===xi.PROXY?Pi(_h,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===xi.NOPROXY&&Pi(_h,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{p.fo()}),0),p}}function wh(){return"undefined"!=typeof window?window:null}function xh(){return"undefined"!=typeof document?document:null}function Ah(e){return new Al(e,!0)}class kh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-n);i>0&&Pi("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ch{constructor(e,t,n,i,r,o,s,a){this.ii=e,this.$o=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new kh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===zi.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===zi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Fo===t&&this.Zo(n,i)}),(t=>{e((()=>{const e=new Vi(zi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Pi("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Pi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sh extends Ch{constructor(e,t,n,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fi()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?($i(void 0===t||"string"==typeof t),Eo.fromBase64String(t||"")):($i(void 0===t||t instanceof Uint8Array),Eo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?zi.UNKNOWN:nl(e.code);return new Vi(t,e.message||"")}(s);n=new gl(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Rl(e,i.document.name),o=Tl(i.document.updateTime),s=i.document.createTime?Tl(i.document.createTime):or.min(),a=new rs({mapValue:{fields:i.document.fields}}),l=ss.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new pl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Rl(e,i.document),o=i.readTime?Tl(i.readTime):or.min(),s=ss.newNoDocument(r,o),a=i.removedTargetIds||[];n=new pl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Rl(e,i.document),o=i.removedTargetIds||[];n=new pl([],o,r,null)}else{if(!("filter"in t))return Fi();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,o=new Ja(i,r),s=e.targetId;n=new fl(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return or.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?or.min():t.readTime?Tl(t.readTime):or.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Ol(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Os(i)?{documents:Ul(e,i)}:{query:zl(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Sl(e,t.resumeToken);const i=kl(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(or.min())>0){n.readTime=Cl(e,t.snapshotVersion.toTimestamp());const i=kl(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Ol(this.serializer),t.removeTarget=e,this.Wo(t)}}class Eh extends Ch{constructor(e,t,n,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if($i(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?($i(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Tl(e.updateTime):Tl(t);return n.isEqual(or.min())&&(n=Tl(t)),new La(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Tl(e.commitTime);return this.listener.cu(n,t)}return $i(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ol(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$l(this.serializer,e)))};this.Wo(t)}}class Th extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Vi(zi.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,o]=i;return this.connection.Io(e,t,n,r,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===zi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vi(zi.UNKNOWN,e.toString())}))}vo(e,t,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[o,s]=r;return this.connection.vo(e,t,n,o,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===zi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vi(zi.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Ih{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Oi(t),this.mu=!1):Pi("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Mh{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{$h(this)&&(Pi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ui(e);t.vu.add(4),await Rh(t),t.bu.set("Unknown"),t.vu.delete(4),await Nh(t)}(this))}))})),this.bu=new Ih(n,i)}}async function Nh(e){if($h(e))for(const t of e.Ru)await t(!0)}async function Rh(e){for(const t of e.Ru)await t(!1)}function Lh(e,t){const n=Ui(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Fh(n)?jh(n):id(n).Ko()&&Oh(n,t))}function Ph(e,t){const n=Ui(e),i=id(n);n.Au.delete(t),i.Ko()&&Dh(n,t),0===n.Au.size&&(i.Ko()?i.jo():$h(n)&&n.bu.set("Unknown"))}function Oh(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(or.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}id(e).su(t)}function Dh(e,t){e.Vu.qt(t),id(e).iu(t)}function jh(e){e.Vu=new vl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),id(e).start(),e.bu.gu()}function Fh(e){return $h(e)&&!id(e).Uo()&&e.Au.size>0}function $h(e){return 0===Ui(e).vu.size}function Bh(e){e.Vu=void 0}async function Uh(e){e.Au.forEach(((t,n)=>{Oh(e,t)}))}async function zh(e,t){Bh(e),Fh(e)?(e.bu.Iu(t),jh(e)):e.bu.set("Unknown")}async function Vh(e,t,n){if(e.bu.set("Online"),t instanceof gl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Au.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Au.delete(i),e.Vu.removeTarget(i))}(e,t)}catch(n){Pi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wh(e,n)}else if(t instanceof pl?e.Vu.Ht(t):t instanceof fl?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(or.min()))try{const t=await Ku(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Au.get(i);r&&e.Au.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.Au.get(t);if(!i)return;e.Au.set(t,i.withResumeToken(Eo.EMPTY_BYTE_STRING,i.snapshotVersion)),Dh(e,t);const r=new Zl(i.target,t,n,i.sequenceNumber);Oh(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pi("RemoteStore","Failed to raise snapshot:",t),await Wh(e,t)}}async function Wh(e,t,n){if(!Tr(t))throw t;e.vu.add(1),await Rh(e),e.bu.set("Offline"),n||(n=()=>Ku(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pi("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Nh(e)}))}function Hh(e,t){return t().catch((n=>Wh(e,n,t)))}async function qh(e){const t=Ui(e),n=rd(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Kh(t);)try{const e=await Qu(t.localStore,i);if(null===e){0===t.Eu.length&&n.jo();break}i=e.batchId,Gh(t,e)}catch(e){await Wh(t,e)}Qh(t)&&Yh(t)}function Kh(e){return $h(e)&&e.Eu.length<10}function Gh(e,t){e.Eu.push(t);const n=rd(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Qh(e){return $h(e)&&!rd(e).Uo()&&e.Eu.length>0}function Yh(e){rd(e).start()}async function Xh(e){rd(e).hu()}async function Jh(e){const t=rd(e);for(const n of e.Eu)t.uu(n.mutations)}async function Zh(e,t,n){const i=e.Eu.shift(),r=Ya.from(i,t,n);await Hh(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await qh(e)}async function ed(e,t){t&&rd(e).ou&&await async function(e,t){if(tl(n=t.code)&&n!==zi.ABORTED){const n=e.Eu.shift();rd(e).Qo(),await Hh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qh(e)}var n}(e,t),Qh(e)&&Yh(e)}async function td(e,t){const n=Ui(e);n.asyncQueue.verifyOperationInProgress(),Pi("RemoteStore","RemoteStore received new credentials");const i=$h(n);n.vu.add(3),await Rh(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Nh(n)}async function nd(e,t){const n=Ui(e);t?(n.vu.delete(2),await Nh(n)):t||(n.vu.add(2),await Rh(n),n.bu.set("Unknown"))}function id(e){return e.Su||(e.Su=function(e,t,n){const i=Ui(e);return i.fu(),new Sh(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:Uh.bind(null,e),ao:zh.bind(null,e),nu:Vh.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Fh(e)?jh(e):e.bu.set("Unknown")):(await e.Su.stop(),Bh(e))}))),e.Su}function rd(e){return e.Du||(e.Du=function(e,t,n){const i=Ui(e);return i.fu(),new Eh(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:Xh.bind(null,e),ao:ed.bind(null,e),au:Jh.bind(null,e),cu:Zh.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await qh(e)):(await e.Du.stop(),e.Eu.length>0&&(Pi("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class od{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const o=Date.now()+n,s=new od(e,t,o,i,r);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vi(zi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(e,t){if(Oi("AsyncQueue","".concat(t,": ").concat(e)),Tr(e))return new Vi(zi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ad{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ur.comparator(t.key,n.key):(e,t)=>ur.comparator(e.key,t.key),this.keyedMap=aa(),this.sortedSet=new yo(this.comparator)}static emptySet(e){return new ad(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ad))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ad;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ld{constructor(){this.Cu=new yo(ur.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fi():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cd{constructor(e,t,n,i,r,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new cd(e,t,ad.emptySet(t),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class ud{constructor(){this.Nu=void 0,this.listeners=[]}}class hd{constructor(){this.queries=new ia((e=>Xs(e)),Ys),this.onlineState="Unknown",this.ku=new Set}}async function dd(e,t){const n=Ui(e),i=t.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new ud),r)try{o.Nu=await n.onListen(i)}catch(e){const n=sd(e,"Initialization of query '".concat(Js(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&md(n)}async function pd(e,t){const n=Ui(e),i=t.query;let r=!1;const o=n.queries.get(i);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),r=0===o.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function fd(e,t){const n=Ui(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(r)&&(i=!0);t.Nu=r}}i&&md(n)}function gd(e,t,n){const i=Ui(e),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(t)}function md(e){e.ku.forEach((e=>{e.next()}))}class vd{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yd{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class _d{constructor(e){this.serializer=e}rr(e){return Rl(this.serializer,e)}ur(e){return e.metadata.exists?Fl(this.serializer,e.document,!1):ss.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Tl(e)}}class bd{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wd(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=ar.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new _d(this.serializer);for(const i of e)if(i.metadata.queries){const e=n.rr(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||fa()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function(e,t,n,i){const r=Ui(e);let o=fa(),s=oa();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(o=o.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),s=s.insert(e,n)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await Yu(r,function(e){return Ks(Us(ar.fromString("__bundle__/docs/".concat(e))))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Gu(e,a,s).next((t=>(a.apply(e),t))).next((t=>r.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.Bs.addMatchingKeys(e,o,l.targetId))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new _d(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await nh(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function wd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class xd{constructor(e){this.key=e}}class Ad{constructor(e){this.key=e}}class kd{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fa(),this.mutatedKeys=fa(),this.tc=ta(e),this.ec=new ad(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new ld,i=t?t.ec:this.ec;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=Zs(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.rc(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),r=d?r.add(e):r.delete(e)):(o=o.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:r}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fi()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==r.length||a?{snapshot:new cd(this.query,e.ec,i,r,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ld,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fa(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Ad(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new xd(n))})),t}hc(e){this.Yu=e.ir,this.Zu=fa();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Sd{constructor(e){this.key=e,this.fc=!1}}class Ed{constructor(e,t,n,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ia((e=>Xs(e)),Ys),this._c=new Map,this.mc=new Set,this.gc=new yo(ur.comparator),this.yc=new Map,this.Ic=new Su,this.Tc={},this.Ec=new Map,this.Ac=tu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Td(e,t){const n=ep(e);let i,r;const o=n.wc.get(t);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const e=await Yu(n.localStore,Ks(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await Id(n,t,i,"current"===o,e.resumeToken),n.isPrimaryClient&&Lh(n.remoteStore,e)}return r}async function Id(e,t,n,i,r){e.Rc=(t,n,i)=>async function(e,t,n,i){let r=t.view.sc(n);r.zi&&(r=await Ju(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,r)})));const o=i&&i.targetChanges.get(t.targetId),s=t.view.applyChanges(r,e.isPrimaryClient,o);return Bd(e,t.targetId,s.cc),s.snapshot}(e,t,n,i);const o=await Ju(e.localStore,t,!0),s=new kd(t,o.ir),a=s.sc(o.documents),l=dl.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=s.applyChanges(a,e.isPrimaryClient,l);Bd(e,n,c.cc);const u=new Cd(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Md(e,t){const n=Ui(e),i=n.wc.get(t),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((e=>!Ys(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),Ph(n.remoteStore,i.targetId),Fd(n,i.targetId)})).catch(xr)):(Fd(n,i.targetId),await Xu(n.localStore,i.targetId,!0))}async function Nd(e,t){const n=Ui(e);try{const e=await function(e,t){const n=Ui(e),i=t.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=r.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Eo.EMPTY_BYTE_STRING,or.min()).withLastLimboFreeSnapshotVersion(or.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))}));let a=oa(),l=fa();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),s.push(Gu(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!i.isEqual(or.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,i)));s.push(t)}return Ar.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.yc.get(t);i&&($i(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.fc=!0:e.modifiedDocuments.size>0?$i(i.fc):e.removedDocuments.size>0&&($i(i.fc),i.fc=!1))})),await Vd(n,e,t)}catch(e){await xr(e)}}function Rd(e,t,n){const i=Ui(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.wc.forEach(((n,i)=>{const r=i.view.Mu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Ui(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Mu(t)&&(i=!0)})),i&&md(n)}(i.eventManager,t),e.length&&i.dc.nu(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ld(e,t,n){const i=Ui(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.yc.get(t),o=r&&r.key;if(o){let e=new yo(ur.comparator);e=e.insert(o,ss.newNoDocument(o,or.min()));const n=fa().add(o),r=new hl(or.min(),new Map,new yo(tr),e,n);await Nd(i,r),i.gc=i.gc.remove(o),i.yc.delete(t),zd(i)}else await Xu(i.localStore,t,!1).then((()=>Fd(i,t,n))).catch(xr)}async function Pd(e,t){const n=Ui(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,o=r.keys();let s=Ar.resolve();return o.forEach((e=>{s=s.next((()=>i.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);$i(null!==o),t.version.compareTo(o)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fa();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);jd(n,i,null),Dd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Vd(n,e)}catch(e){await xr(e)}}async function Od(e,t,n){const i=Ui(e);try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>($i(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);jd(i,t,n),Dd(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Vd(i,e)}catch(n){await xr(n)}}function Dd(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function jd(e,t,n){const i=Ui(e);let r=i.Tc[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e._c.get(t))e.wc.delete(i),n&&e.dc.Pc(i,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||$d(e,t)}))}function $d(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Ph(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),zd(e))}function Bd(e,t,n){for(const i of n)i instanceof xd?(e.Ic.addReference(i.key,t),Ud(e,i)):i instanceof Ad?(Pi("SyncEngine","Document no longer in limbo: "+i.key),e.Ic.removeReference(i.key,t),e.Ic.containsKey(i.key)||$d(e,i.key)):Fi()}function Ud(e,t){const n=t.key,i=n.path.canonicalString();e.gc.get(n)||e.mc.has(i)||(Pi("SyncEngine","New document in limbo: "+n),e.mc.add(i),zd(e))}function zd(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new ur(ar.fromString(t)),i=e.Ac.next();e.yc.set(i,new Sd(n)),e.gc=e.gc.insert(n,i),Lh(e.remoteStore,new Zl(Ks(Us(n.path)),i,"TargetPurposeLimboResolution",Or.ct))}}async function Vd(e,t,n){const i=Ui(e),r=[],o=[],s=[];i.wc.isEmpty()||(i.wc.forEach(((e,a)=>{s.push(i.Rc(a,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=zu.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),i.dc.nu(r),await async function(e,t){const n=Ui(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ar.forEach(t,(t=>Ar.forEach(t.Fi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Ar.forEach(t.Bi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Tr(e))throw e;Pi("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ji.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Ji=n.Ji.insert(e,r)}}}(i.localStore,o))}async function Wd(e,t){const n=Ui(e);if(!n.currentUser.isEqual(t)){Pi("SyncEngine","User change. New user:",t.toKey());const e=await qu(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Vi(zi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vd(n,e.er)}}function Hd(e,t){const n=Ui(e),i=n.yc.get(t);if(i&&i.fc)return fa().add(i.key);{let e=fa();const i=n._c.get(t);if(!i)return e;for(const t of i){const i=n.wc.get(t);e=e.unionWith(i.view.nc)}return e}}async function qd(e,t){const n=Ui(e),i=await Ju(n.localStore,t.query,!0),r=t.view.hc(i);return n.isPrimaryClient&&Bd(n,t.targetId,r.cc),r}async function Kd(e,t){const n=Ui(e);return eh(n.localStore,t).then((e=>Vd(n,e)))}async function Gd(e,t,n,i){const r=Ui(e),o=await function(e,t){const n=Ui(e),i=Ui(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ar.resolve(null)))))}(r.localStore,t);null!==o?("pending"===n?await qh(r.remoteStore):"acknowledged"===n||"rejected"===n?(jd(r,t,i||null),Dd(r,t),function(e,t){Ui(Ui(e).mutationQueue).Cn(t)}(r.localStore,t)):Fi(),await Vd(r,o)):Pi("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Qd(e,t,n){const i=Ui(e),r=[],o=[];for(const s of t){let e;const t=i._c.get(s);if(t&&0!==t.length){e=await Yu(i.localStore,Ks(t[0]));for(const e of t){const t=i.wc.get(e),n=await qd(i,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Zu(i.localStore,s);e=await Yu(i.localStore,t),await Id(i,Yd(t),s,!1,e.resumeToken)}r.push(e)}return i.dc.nu(o),r}function Yd(e){return Bs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xd(e){const t=Ui(e);return Ui(Ui(t.localStore).persistence).$i()}async function Jd(e,t,n,i){const r=Ui(e);if(r.vc)return void Pi("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await eh(r.localStore,ea(o[0])),i=hl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Eo.EMPTY_BYTE_STRING);await Vd(r,e,i);break}case"rejected":await Xu(r.localStore,t,!0),Fd(r,t,i);break;default:Fi()}}async function Zd(e,t,n){const i=ep(e);if(i.vc){for(const e of t){if(i._c.has(e)){Pi("SyncEngine","Adding an already active target "+e);continue}const t=await Zu(i.localStore,e),n=await Yu(i.localStore,t);await Id(i,Yd(t),n.targetId,!1,n.resumeToken),Lh(i.remoteStore,n)}for(const e of n)i._c.has(e)&&await Xu(i.localStore,e,!1).then((()=>{Ph(i.remoteStore,e),Fd(i,e)})).catch(xr)}}function ep(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ld.bind(null,t),t.dc.nu=fd.bind(null,t.eventManager),t.dc.Pc=gd.bind(null,t.eventManager),t}function tp(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Od.bind(null,t),t}class np{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hu(this.persistence,new Vu,e.initialUser,this.serializer)}createPersistence(e){return new Ru(Pu.zs,this.serializer)}createSharedClientState(e){return new dh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ip extends np{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await tp(this.Vc.syncEngine),await qh(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Hu(this.persistence,new Vu,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lu(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Pr(t,this.persistence);return new Lr(e.asyncQueue,n)}createPersistence(e){const t=Uu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kc.withCacheSize(this.cacheSizeBytes):Kc.DEFAULT;return new Fu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wh(),xh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dh}}class rp extends ip{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof hh&&(this.sharedClientState.syncEngine={jr:Gd.bind(null,t),zr:Jd.bind(null,t),Wr:Zd.bind(null,t),$i:Xd.bind(null,t),Qr:Kd.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=Ui(e);if(ep(n),tp(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Qd(n,e.toArray());n.vc=!0,await nd(n.remoteStore,!0);for(const i of t)Lh(n.remoteStore,i)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(Fd(n,r),Xu(n.localStore,r,!0)))),Ph(n.remoteStore,r)})),await t,await Qd(n,e),function(e){const t=Ui(e);t.yc.forEach(((e,n)=>{Ph(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new yo(ur.comparator)}(n),n.vc=!1,await nd(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=wh();if(!hh.D(t))throw new Vi(zi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Uu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wd.bind(null,this.syncEngine),await nd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hd}createDatastore(e){const t=Ah(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new bh(i));var i;return function(e,t,n,i){return new Th(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>Rd(this.syncEngine,e,0),o=fh.D()?new fh:new ph,new Mh(t,n,i,r,o);var t,n,i,r,o}createSyncEngine(e,t){return function(e,t,n,i,r,o,s){const a=new Ed(e,t,n,i,r,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ui(e);Pi("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Rh(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function sp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class lp{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Wi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const i=await this.$c(n);return new yd(JSON.parse(i),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class cp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Vi(zi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ui(e),i=Ol(n.serializer)+"/documents",r={documents:t.map((e=>Nl(n.serializer,e)))},o=await n.vo("BatchGetDocuments",i,r,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){$i(!!t.found),t.found.name,t.found.updateTime;const n=Rl(e,t.found.name),i=Tl(t.found.updateTime),r=t.found.createTime?Tl(t.found.createTime):or.min(),o=new rs({mapValue:{fields:t.found.fields}});return ss.newFoundDocument(n,i,r,o)}(e,t):"missing"in t?function(e,t){$i(!!t.missing),$i(!!t.readTime);const n=Rl(e,t.missing),i=Tl(t.readTime);return ss.newNoDocument(n,i)}(e,t):Fi()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());$i(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ur.fromPath(t);this.mutations.push(new Ga(n,this.precondition(n)))})),await async function(e,t){const n=Ui(e),i=Ol(n.serializer)+"/documents",r={writes:t.map((e=>$l(n.serializer,e)))};await n.Io("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fi();t=or.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vi(zi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(or.min())?Pa.exists(!1):Pa.updateTime(t):Pa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(or.min()))throw new Vi(zi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pa.updateTime(t)}return Pa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class up{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.Bc=n.maxAttempts,this.qo=new kh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new cp(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Dr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tl(t)}return!1}}class hp{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ii.UNAUTHENTICATED,this.clientId=er.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Pi("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Pi("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vi(zi.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sd(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function dp(e,t){e.asyncQueue.verifyOperationInProgress(),Pi("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await qu(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function pp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gp(e);Pi("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>td(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>td(t.remoteStore,n))),e._onlineComponents=t}function fp(e){return"FirebaseError"===e.name?e.code===zi.FAILED_PRECONDITION||e.code===zi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function gp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pi("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!fp(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await dp(e,new np)}}else Pi("FirestoreClient","Using default OfflineComponentProvider"),await dp(e,new np);return e._offlineComponents}async function mp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pi("FirestoreClient","Using user provided OnlineComponentProvider"),await pp(e,e._uninitializedComponentsProvider._online)):(Pi("FirestoreClient","Using default OnlineComponentProvider"),await pp(e,new op))),e._onlineComponents}function vp(e){return gp(e).then((e=>e.persistence))}function yp(e){return gp(e).then((e=>e.localStore))}function _p(e){return mp(e).then((e=>e.remoteStore))}function bp(e){return mp(e).then((e=>e.syncEngine))}function wp(e){return mp(e).then((e=>e.datastore))}async function xp(e){const t=await mp(e),n=t.eventManager;return n.onListen=Td.bind(null,t.syncEngine),n.onUnlisten=Md.bind(null,t.syncEngine),n}function Ap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Wi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new ap({next:o=>{t.enqueueAndForget((()=>pd(e,s)));const a=o.docs.has(n);!a&&o.fromCache?r.reject(new Vi(zi.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new Vi(zi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),s=new vd(Us(n.path),o,{includeMetadataChanges:!0,Ku:!0});return dd(e,s)}(await xp(e),e.asyncQueue,t,n,i))),i.promise}function kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Wi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new ap({next:n=>{t.enqueueAndForget((()=>pd(e,s))),n.fromCache&&"server"===i.source?r.reject(new Vi(zi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),s=new vd(n,o,{includeMetadataChanges:!0,Ku:!0});return dd(e,s)}(await xp(e),e.asyncQueue,t,n,i))),i.promise}function Cp(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?ol().encode(e):e,function(e,t){return new lp(e,t)}(function(e,t){if(e instanceof Uint8Array)return sp(e,t);if(e instanceof ArrayBuffer)return sp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ah(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const i=Ui(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=Ui(e),i=Tl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(wd(i));const r=new bd(i,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await r.zu(o);e&&n._updateProgress(e),o=await t.bc()}const s=await r.complete();return await Vd(e,s.Ju,void 0),await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(e){return Di("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(i,t,n).then((e=>{i.sharedClientState.notifyBundleLoaded(e)}))}(await bp(e),r,i)}))}function Sp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ep=new Map;function Tp(e,t,n){if(!n)throw new Vi(zi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ip(e,t,n,i){if(!0===t&&!0===i)throw new Vi(zi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Mp(e){if(!ur.isDocumentKey(e))throw new Vi(zi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Np(e){if(ur.isDocumentKey(e))throw new Vi(zi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Fi()}function Lp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vi(zi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(e);throw new Vi(zi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Pp(e,t){if(t<=0)throw new Vi(zi.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Op{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vi(zi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vi(zi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ip("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vi(zi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vi(zi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vi(zi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Dp{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vi(zi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vi(zi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qi;switch(e.type){case"firstParty":return new Yi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vi(zi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ep.get(e);t&&(Pi("ComponentProvider","Removing Datastore"),Ep.delete(e),t.terminate())}(this),Promise.resolve()}}function jp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const o=(e=Lp(e,Dp))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Ii.MOCK_USER;else{t=(0,a.Fy)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new Vi(zi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ii(o)}e._authCredentials=new Ki(new Hi(t,n))}}class Fp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fp(this.firestore,e,this._key)}}class $p{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $p(this.firestore,e,this._query)}}class Bp extends $p{constructor(e,t,n){super(e,t,Us(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fp(this.firestore,null,new ur(e))}withConverter(e){return new Bp(this.firestore,e,this._path)}}function Up(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=(0,a.Ku)(e),Tp("collection","path",t),e instanceof Dp){const n=ar.fromString(t,...i);return Np(n),new Bp(e,null,n)}{if(!(e instanceof Fp||e instanceof Bp))throw new Vi(zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ar.fromString(t,...i));return Np(n),new Bp(e.firestore,null,n)}}function zp(e,t){if(e=Lp(e,Dp),Tp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vi(zi.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $p(e,null,function(e){return new $s(ar.emptyPath(),e)}(t))}function Vp(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=(0,a.Ku)(e),1===arguments.length&&(t=er.A()),Tp("doc","path",t),e instanceof Dp){const n=ar.fromString(t,...i);return Mp(n),new Fp(e,null,new ur(n))}{if(!(e instanceof Fp||e instanceof Bp))throw new Vi(zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ar.fromString(t,...i));return Mp(n),new Fp(e.firestore,e instanceof Bp?e.converter:null,new ur(n))}}function Wp(e,t){return e=(0,a.Ku)(e),t=(0,a.Ku)(t),(e instanceof Fp||e instanceof Bp)&&(t instanceof Fp||t instanceof Bp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Hp(e,t){return e=(0,a.Ku)(e),t=(0,a.Ku)(t),e instanceof $p&&t instanceof $p&&e.firestore===t.firestore&&Ys(e._query,t._query)&&e.converter===t.converter}class qp{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new kh(this,"async_queue_retry"),this.Xc=()=>{const e=xh();e&&Pi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=xh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=xh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Wi;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Tr(e))throw e;Pi("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Oi("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=od.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(i),i}Zc(){this.Wc&&Fi()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Kp(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Gp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Qp=-1;class Yp extends Dp{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new qp,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jp(this),this._firestoreClient.terminate()}}function Xp(e){return e._firestoreClient||Jp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Jp(e){var t,n,i;const r=e._freezeSettings(),o=function(e,t,n,i){return new Oo(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Sp(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new hp(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Zp(e,t){cf(e=Lp(e,Yp));const n=Xp(e);if(n._uninitializedComponentsProvider)throw new Vi(zi.FAILED_PRECONDITION,"SDK cache is already specified.");Di("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings(),r=new op;return tf(n,r,new ip(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ef(e){cf(e=Lp(e,Yp));const t=Xp(e);if(t._uninitializedComponentsProvider)throw new Vi(zi.FAILED_PRECONDITION,"SDK cache is already specified.");Di("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),i=new op;return tf(t,i,new rp(i,n.cacheSizeBytes))}function tf(e,t,n){const i=new Wi;return e.asyncQueue.enqueue((async()=>{try{await dp(e,n),await pp(e,t),i.resolve()}catch(e){const n=e;if(!fp(n))throw n;Di("Error enabling indexeddb cache. Falling back to memory cache: "+n),i.reject(n)}})).then((()=>i.promise))}function nf(e){if(e._initialized&&!e._terminated)throw new Vi(zi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wi;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Cr.D())return Promise.resolve();const t=e+"main";await Cr.delete(t)}(Uu(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function rf(e){return function(e){const t=new Wi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ui(e);$h(n.remoteStore)||Pi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ui(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.Ec.get(e)||[];i.push(t),n.Ec.set(e,i)}catch(e){const n=sd(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await bp(e),t))),t.promise}(Xp(e=Lp(e,Yp)))}function of(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vp(e),n=await _p(e);return t.setNetworkEnabled(!0),function(e){const t=Ui(e);return t.vu.delete(0),Nh(t)}(n)}))}(Xp(e=Lp(e,Yp)))}function sf(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vp(e),n=await _p(e);return t.setNetworkEnabled(!1),async function(e){const t=Ui(e);t.vu.add(0),await Rh(t),t.bu.set("Offline")}(n)}))}(Xp(e=Lp(e,Yp)))}function af(e,t){const n=Xp(e=Lp(e,Yp)),i=new Gp;return Cp(n,e._databaseId,t,i),i}function lf(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ui(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await yp(e),t)))}(Xp(e=Lp(e,Yp)),t).then((t=>t?new $p(e,null,t.query):null))}function cf(e){if(e._initialized||e._terminated)throw new Vi(zi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uf(Eo.fromBase64String(e))}catch(e){throw new Vi(zi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uf(Eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Vi(zi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class df{constructor(e){this._methodName=e}}class pf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vi(zi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vi(zi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tr(this._lat,e._lat)||tr(this._long,e._long)}}const ff=/^__.*__$/;class gf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)}}class mf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fi()}}class yf{constructor(e,t,n,i,r,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vf(this.ca)&&ff.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _f{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ah(e)}ya(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yf({ca:e,methodName:t,ga:n,path:cr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bf(e){const t=e._freezeSettings(),n=Ah(e._databaseId);return new _f(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wf(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,r);Pf("Data must be an object, but it was:",s,i);const a=Rf(i,s);let l,c;if(o.merge)l=new ko(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const i of o.mergeFields){const r=Of(t,i,n);if(!s.contains(r))throw new Vi(zi.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));$f(e,r)||e.push(r)}l=new ko(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new gf(new rs(a),l,c)}class xf extends df{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function Af(e,t,n){return new yf({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class kf extends df{_toFieldTransform(e){return new Ra(e.path,new ka)}isEqual(e){return e instanceof kf}}class Cf extends df{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Af(this,e,!0),n=this.pa.map((e=>Nf(e,t))),i=new Ca(n);return new Ra(e.path,i)}isEqual(e){return this===e}}class Sf extends df{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Af(this,e,!0),n=this.pa.map((e=>Nf(e,t))),i=new Ea(n);return new Ra(e.path,i)}isEqual(e){return this===e}}class Ef extends df{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ia(e.serializer,_a(e.serializer,this.Ia));return new Ra(e.path,t)}isEqual(e){return this===e}}function Tf(e,t,n,i){const r=e.ya(1,t,n);Pf("Data must be an object, but it was:",r,i);const o=[],s=rs.empty();mo(i,((e,i)=>{const l=jf(t,e,n);i=(0,a.Ku)(i);const c=r.da(l);if(i instanceof xf)o.push(l);else{const e=Nf(i,c);null!=e&&(o.push(l),s.set(l,e))}}));const l=new ko(o);return new mf(s,l,r.fieldTransforms)}function If(e,t,n,i,r,o){const s=e.ya(1,t,n),l=[Of(t,i,n)],c=[r];if(o.length%2!=0)throw new Vi(zi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<o.length;a+=2)l.push(Of(t,o[a])),c.push(o[a+1]);const u=[],h=rs.empty();for(let p=l.length-1;p>=0;--p)if(!$f(u,l[p])){const e=l[p];let t=c[p];t=(0,a.Ku)(t);const n=s.da(e);if(t instanceof xf)u.push(e);else{const i=Nf(t,n);null!=i&&(u.push(e),h.set(e,i))}}const d=new ko(u);return new mf(h,d,s.fieldTransforms)}function Mf(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nf(n,e.ya(i?4:3,t))}function Nf(e,t){if(Lf(e=(0,a.Ku)(e)))return Pf("Unsupported field value:",t,e),Rf(e,t);if(e instanceof df)return function(e,t){if(!vf(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Nf(r,t.wa(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _a(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rr.fromDate(e);return{timestampValue:Cl(t.serializer,n)}}if(e instanceof rr){const n=new rr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cl(t.serializer,n)}}if(e instanceof pf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uf)return{bytesValue:Sl(t.serializer,e._byteString)};if(e instanceof Fp){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t._a("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Il(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Rp(e)))}(e,t)}function Rf(e,t){const n={};return vo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mo(e,((e,i)=>{const r=Nf(i,t.ha(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function Lf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rr||e instanceof pf||e instanceof uf||e instanceof Fp||e instanceof df)}function Pf(e,t,n){if(!Lf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Rp(n);throw"an object"===i?t._a(e+" a custom object"):t._a(e+" "+i)}}function Of(e,t,n){if((t=(0,a.Ku)(t))instanceof hf)return t._internalPath;if("string"==typeof t)return jf(e,t);throw Ff("Field path arguments must be of type string or ",e,!1,void 0,n)}const Df=new RegExp("[~\\*/\\[\\]]");function jf(e,t,n){if(t.search(Df)>=0)throw Ff("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hf(...t.split("."))._internalPath}catch(i){throw Ff("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ff(e,t,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(i)),s&&(l+=" in document ".concat(r)),l+=")"),new Vi(zi.INVALID_ARGUMENT,a+e+l)}function $f(e,t){return e.some((e=>e.isEqual(t)))}class Bf{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uf extends Bf{data(){return super.data()}}function zf(e,t){return"string"==typeof t?jf(e,t):t instanceof hf?t._internalPath:t._delegate._internalPath}function Vf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vi(zi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wf{}class Hf extends Wf{}function qf(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t instanceof Wf&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof Qf)).length,n=e.filter((e=>e instanceof Kf)).length;if(t>1||t>0&&n>0)throw new Vi(zi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Kf extends Hf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kf(e,t,n)}_apply(e){const t=this._parse(e);return ug(e._query,t),new $p(e.firestore,e.converter,Gs(e._query,t))}_parse(e){const t=bf(e.firestore),n=function(e,t,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Vi(zi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){cg(s,o);const t=[];for(const n of s)t.push(lg(i,e,n));a={arrayValue:{values:t}}}else a=lg(i,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cg(s,o),a=Mf(n,"where",s,"in"===o||"not-in"===o);return ps.create(r,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Gf(e,t,n){const i=t,r=zf("where",e);return Kf._create(r,i,n)}class Qf extends Wf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:fs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)ug(n,r),n=Gs(n,r)}(e._query,t),new $p(e.firestore,e.converter,Gs(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yf extends Hf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new us(t,n);return function(e,t){if(null===Vs(e)){const n=Ws(e);null!==n&&hg(e,n,t.field)}}(e,i),i}(e._query,this._field,this._direction);return new $p(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zf("orderBy",e);return Yf._create(n,t)}class Jf extends Hf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Jf(e,t,n)}_apply(e){return new $p(e.firestore,e.converter,Qs(e._query,this._limit,this._limitType))}}function Zf(e){return Pp("limit",e),Jf._create("limit",e,"F")}function eg(e){return Pp("limitToLast",e),Jf._create("limitToLast",e,"L")}class tg extends Hf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new tg(e,t,n)}_apply(e){const t=ag(e,this.type,this._docOrFields,this._inclusive);return new $p(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tg._create("startAt",t,!0)}function ig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tg._create("startAfter",t,!1)}class rg extends Hf{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new rg(e,t,n)}_apply(e){const t=ag(e,this.type,this._docOrFields,this._inclusive);return new $p(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function og(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rg._create("endBefore",t,!1)}function sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rg._create("endAt",t,!0)}function ag(e,t,n,i){if(n[0]=(0,a.Ku)(n[0]),n[0]instanceof Bf)return function(e,t,n,i,r){if(!i)throw new Vi(zi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of qs(e))if(s.field.isKeyField())o.push(qo(t,i.key));else{const e=i.data.field(s.field);if(Ro(e))throw new Vi(zi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new as(o,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=bf(e.firestore);return function(e,t,n,i,r,o){const s=e.explicitOrderBy;if(r.length>s.length)throw new Vi(zi.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<r.length;l++){const o=r[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof o));if(!Hs(e)&&-1!==o.indexOf("/"))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(ar.fromString(o));if(!ur.isDocumentKey(n))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new ur(n);a.push(qo(t,r))}else{const e=Mf(n,i,o);a.push(e)}}return new as(a,o)}(e._query,e.firestore._databaseId,r,t,n,i)}}function lg(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hs(t)&&-1!==n.indexOf("/"))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(ar.fromString(n));if(!ur.isDocumentKey(i))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return qo(e,new ur(i))}if(n instanceof Fp)return qo(e,n._key);throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rp(n),"."))}function cg(e,t){if(!Array.isArray(e)||0===e.length)throw new Vi(zi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ug(e,t){if(t.isInequality()){const n=Ws(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(i.toString(),"'"));const r=Vs(e);null!==r&&hg(e,i,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Vi(zi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vi(zi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function hg(e,t,n){if(!n.isEqual(t))throw new Vi(zi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class dg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return mo(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new pf(Mo(e.latitude),Mo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const t=Io(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ar.fromString(e);$i(Jl(n));const i=new Do(n.get(1),n.get(3)),r=new ur(n.popFirst(5));return i.isEqual(t)||Oi("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function pg(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class fg extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new uf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fp(this.firestore,null,t)}}class gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mg extends Bf{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vg extends mg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class yg{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vg(this._firestore,this._userDataWriter,n.key,n,new gg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vi(zi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new vg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,o=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:_g(t.type),doc:i,oldIndex:r,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _g(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fi()}}function bg(e,t){return e instanceof mg&&t instanceof mg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yg&&t instanceof yg&&e._firestore===t._firestore&&Hp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function wg(e){e=Lp(e,Fp);const t=Lp(e.firestore,Yp);return Ap(Xp(t),e._key).then((n=>Og(t,e,n)))}class xg extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new uf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fp(this.firestore,null,t)}}function Ag(e){e=Lp(e,Fp);const t=Lp(e.firestore,Yp),n=Xp(t),i=new xg(t);return function(e,t){const n=new Wi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Vi(zi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=sd(e,"Failed to get document '".concat(t," from cache"));n.reject(i)}}(await yp(e),t,n))),n.promise}(n,e._key).then((n=>new mg(t,i,e._key,n,new gg(null!==n&&n.hasLocalMutations,!0),e.converter)))}function kg(e){e=Lp(e,Fp);const t=Lp(e.firestore,Yp);return Ap(Xp(t),e._key,{source:"server"}).then((n=>Og(t,e,n)))}function Cg(e){e=Lp(e,$p);const t=Lp(e.firestore,Yp),n=Xp(t),i=new xg(t);return Vf(e._query),kp(n,e._query).then((n=>new yg(t,i,e,n)))}function Sg(e){e=Lp(e,$p);const t=Lp(e.firestore,Yp),n=Xp(t),i=new xg(t);return function(e,t){const n=new Wi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await Ju(e,t,!0),r=new kd(t,i.ir),o=r.sc(i.documents),s=r.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const i=sd(e,"Failed to execute query '".concat(t," against cache"));n.reject(i)}}(await yp(e),t,n))),n.promise}(n,e._query).then((n=>new yg(t,i,e,n)))}function Eg(e){e=Lp(e,$p);const t=Lp(e.firestore,Yp),n=Xp(t),i=new xg(t);return kp(n,e._query,{source:"server"}).then((n=>new yg(t,i,e,n)))}function Tg(e,t,n){e=Lp(e,Fp);const i=Lp(e.firestore,Yp),r=pg(e.converter,t,n);return Pg(i,[wf(bf(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Pa.none())])}function Ig(e,t,n){e=Lp(e,Fp);const i=Lp(e.firestore,Yp),r=bf(i);let o;for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return o="string"==typeof(t=(0,a.Ku)(t))||t instanceof hf?If(r,"updateDoc",e._key,t,n,l):Tf(r,"updateDoc",e._key,t),Pg(i,[o.toMutation(e._key,Pa.exists(!0))])}function Mg(e){return Pg(Lp(e.firestore,Yp),[new Ka(e._key,Pa.none())])}function Ng(e,t){const n=Lp(e.firestore,Yp),i=Vp(e),r=pg(e.converter,t);return Pg(n,[wf(bf(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Pa.exists(!1))]).then((()=>i))}function Rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o,s;e=(0,a.Ku)(e);let l={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Kp(n[c])||(l=n[c],c++);const u={includeMetadataChanges:l.includeMetadataChanges};if(Kp(n[c])){const e=n[c];n[c]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let h,d,p;if(e instanceof Fp)d=Lp(e.firestore,Yp),p=Us(e._key.path),h={next:t=>{n[c]&&n[c](Og(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Lp(e,$p);d=Lp(t.firestore,Yp),p=t._query;const i=new xg(d);h={next:e=>{n[c]&&n[c](new yg(d,i,t,e))},error:n[c+1],complete:n[c+2]},Vf(e._query)}return function(e,t,n,i){const r=new ap(i),o=new vd(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>dd(await xp(e),o))),()=>{r.Dc(),e.asyncQueue.enqueueAndForget((async()=>pd(await xp(e),o)))}}(Xp(d),p,u,h)}function Lg(e,t){return function(e,t){const n=new ap(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ui(e).ku.add(t),t.next()}(await xp(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ui(e).ku.delete(t)}(await xp(e),n)))}}(Xp(e=Lp(e,Yp)),Kp(t)?t:{next:t})}function Pg(e,t){return function(e,t){const n=new Wi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=tp(e);try{const e=await function(e,t){const n=Ui(e),i=rr.now(),r=t.reduce(((e,t)=>e.add(t.key)),fa());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=oa(),l=fa();return n.Zi.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{o=r;const s=[];for(const e of t){const t=Ba(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Va(e.key,t,os(t.value.mapValue),Pa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,s,t)})).next((t=>{s=t;const i=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:s.batchId,changes:la(o)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Tc[e.currentUser.toKey()];i||(i=new yo(tr)),i=i.insert(t,n),e.Tc[e.currentUser.toKey()]=i}(i,e.batchId,n),await Vd(i,e.changes),await qh(i.remoteStore)}catch(e){const t=sd(e,"Failed to persist write");n.reject(t)}}(await bp(e),t,n))),n.promise}(Xp(e),t)}function Og(e,t,n){const i=n.docs.get(t._key),r=new xg(e);return new mg(e,r,t._key,i,new gg(n.hasPendingWrites,n.fromCache),t.converter)}const Dg={maxAttempts:5};class jg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bf(e)}set(e,t,n){this._verifyNotCommitted();const i=Fg(e,this._firestore),r=pg(i.converter,t,n),o=wf(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,Pa.none())),this}update(e,t,n){this._verifyNotCommitted();const i=Fg(e,this._firestore);let r;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return r="string"==typeof(t=(0,a.Ku)(t))||t instanceof hf?If(this._dataReader,"WriteBatch.update",i._key,t,n,s):Tf(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Pa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fg(e,this._firestore);return this._mutations=this._mutations.concat(new Ka(t._key,Pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vi(zi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fg(e,t){if((e=(0,a.Ku)(e)).firestore!==t)throw new Vi(zi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class $g extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bf(e)}get(e){const t=Fg(e,this._firestore),n=new fg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Fi();const i=e[0];if(i.isFoundDocument())return new Bf(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new Bf(this._firestore,n,t._key,null,t.converter);throw Fi()}))}set(e,t,n){const i=Fg(e,this._firestore),r=pg(i.converter,t,n),o=wf(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,o),this}update(e,t,n){const i=Fg(e,this._firestore);let r;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return r="string"==typeof(t=(0,a.Ku)(t))||t instanceof hf?If(this._dataReader,"Transaction.update",i._key,t,n,s):Tf(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}delete(e){const t=Fg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fg(e,this._firestore),n=new xg(this._firestore);return super.get(e).then((e=>new mg(this._firestore,n,t._key,e._document,new gg(!1,!1),t.converter)))}}function Bg(e,t,n){e=Lp(e,Yp);const i=Object.assign(Object.assign({},Dg),n);return function(e){if(e.maxAttempts<1)throw new Vi(zi.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new Wi;return e.asyncQueue.enqueueAndForget((async()=>{const r=await wp(e);new up(e.asyncQueue,r,n,t,i).run()})),i.promise}(Xp(e),(n=>t(new $g(e,n))),i)}function Ug(){return new xf("deleteField")}function zg(){return new kf("serverTimestamp")}function Vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cf("arrayUnion",t)}function Wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sf("arrayRemove",t)}function Hg(e){return new Ef("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Mi=e}(r.SDK_VERSION),(0,r._registerComponent)(new o.uA("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const o=e.getProvider("app").getImmediate(),s=new Yp(new Gi(e.getProvider("auth-internal")),new Ji(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vi(zi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(e.options.projectId,t)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,r.registerVersion)(Ti,"3.13.0",e),(0,r.registerVersion)(Ti,"3.13.0","esm2017")}()},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>P,Bd:()=>_,FA:()=>T,Fy:()=>g,I9:()=>O,Im:()=>N,Ku:()=>H,Ll:()=>y,T9:()=>d,Uj:()=>s,XA:()=>p,ZQ:()=>m,bD:()=>R,cY:()=>f,dM:()=>S,eX:()=>C,g:()=>E,gR:()=>M,hp:()=>D,jZ:()=>v,lT:()=>x,lV:()=>w,nr:()=>A,p9:()=>W,sr:()=>b,tD:()=>j,u:()=>a,yU:()=>h,zW:()=>k,zw:()=>l});const i=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const l=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(i.push(c),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==l){const e=a<<6&192|l;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=i(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=l(e[n],t[n]));return e}const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",REACT_APP_auth_uri:"https://accounts.google.com/o/oauth2/auth",REACT_APP_client_email:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",REACT_APP_client_id:"104641237597418563396",REACT_APP_client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-354yy%40coganh-6ab73.iam.gserviceaccount.com",REACT_APP_databaseURL:"firebase-adminsdk-354yy@coganh-6ab73.iam.gserviceaccount.com",REACT_APP_private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCS9RGZ3mVBHQl/\n/JqIhrbRQcIXnwTGsHGRBG1QyaKL3CboDQVvyCCGiMIcNU+77VpP5Sibh3x4Rezt\njjfJoXtDF/LlQedbCaY8pWYsRtotI74UrSxJJ9RxV/jv9Fw4/5e7v1mZe3VysN59\n0G8VygllOtdXCqjeZdiPSACCzirOy3EcIp9qoMMuwn+fWeV01KnASn62qjPZ9TSj\nDB8RtesBqlL1ACahCedFdRqgSrsEXQPfautNWKlEHiENRUiQBB7os03mblGmCEtB\nGLljB+OT7Cyu6dDnV26AztvB8P71AdAuwXHmMWn9ABOXLj7iT8t56YA4eF5y3nEQ\nTkWeaFoPAgMBAAECggEALI3zg6iLH1Yr4qtVuM3LEJ90to+mNY0aKWLjt6oiR2/8\nNb945f6Raeh9nWrGXU4lYvKxwJGvuZFNt2o2XMHCKsHQiRRVjeLbjSiCVSs4C5Z6\nEy+7rQRP4vtOhIWcDkXjnW7yvddR8O9RzWhLvZnvBkt0LTYUo7TSFwK38PCLxv0u\nj0LxZad8roOiKTMLhTi+JAjl7Cda8wEk0vc4WZXEpgPihObMONIN42wpD+0TS5Aa\n7diawg1ZlbqO+plduiZWdiwHUjz0HZI9npmyimqpv8ipm4n4wTteW8zjLkuufaVm\nYSzI1b9XZsjqoTvHeotIPCDQTHNGepk3EmhW5f2d3QKBgQDF/jvt7x7lTY/xsoeF\n8iGJTnFgigD4OsrSM+CyeQAE3cJT3mtWqXqKQNWy+09HuwssH2xp9Vakx7h8AVZh\nSb/4MRaM+O3BfPoXN72UgvIdc9/44PcFwNq5xvIiexXCEYZOJA2SeAHhbwM0tEzI\nXklnjaM44XTK99ncKqkPlgfk8wKBgQC+AxOUT8llDYiwRrLI80ikRVvioUwFkytX\nE1Z92CgYCwUtrF4NsW2wKmreyezu/1jbtmN+5M9eVPubLOYrleopORqRD1ulTYTt\ncLouepuFdEw3342wQJHAPFr2Sxp9DbErd2JSq+rcAnL/1DGtKnBM2uztuKr128Sv\n9V10q7otdQKBgQCei/dxkQoslO+vnEbp+/re+PHRXLFqFapUqTZFtJ9PRkVW48UQ\noKaAD2sQ6C2UQzOvIXqvXscDLOuOYYPKZERVevmT6cJ6LpoV/YzSYAmBjEjOA1fM\nQ6LjIWzEL8w8m8vwxu4XXAIlg8ANdFQIH3ioc8NAyUm9Prw2kfLPiFTKAQKBgAF+\n/LR6PFezV5QrulSitbu1YBfUtUiF9B1nZZLwFMC7tXq6lLL+5qIwc071wAvRrt1r\n/jSNkKRpfuGl5NoLACD69h6WRF500csczBp5lKfkVoVKGU998qfU0dKGnNrHNNHm\nyrtj5yF8U3N4NDvszZ2NS7hDb/UnmdDY2beFcp3RAoGBALiPTzSSTBWcHKHw6bcj\ngpRIPU7kh/sDWUOTL69TZJasXPEvWztPm8L9ecBO2n7rAHbbZrzDDuV0kOv/qIS1\nNa8gPnqBa+PwdzFYP6s7ZuTtysetKoiCC+KCPBF+9zsNI2je4gJj6NyoEHfp6Ttg\nS0bUwRToQ78eUsL4WQGzuPtI\n-----END PRIVATE KEY-----\n",REACT_APP_private_key_id:"dddd05f9028fb8f7e1a73a08e9376e5387deaf8b",REACT_APP_project_id:"coganh-6ab73",REACT_APP_storageBucket:"coganh-6ab73.appspot.com",REACT_APP_token_uri:"https://oauth2.googleapis.com/token",REACT_APP_type:"service_account",REACT_APP_universe_domain:"googleapis.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},h=e=>{const t=(e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},d=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function _(){return"object"===typeof self&&self.self===self}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"===typeof indexedDB}catch(e){return!1}}function C(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(I,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new E(n,o,t)}}const I=/\{\$([^}]+)}/g;function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(L(n)&&L(o)){if(!R(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function P(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function O(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function j(e,t){const n=new F(e,t);return n.subscribe.bind(n)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=$),void 0===i.error&&(i.error=$),void 0===i.complete&&(i.complete=$);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function $(){}const B=1e3,U=2,z=144e5,V=.5;function W(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:B)*Math.pow(t,e),i=Math.round(V*n*(Math.random()-.5)*2);return Math.min(z,n+i)}function H(e){return e&&e._delegate?e._delegate:e}},568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S,StyledEngineProvider:()=>C,ThemeContext:()=>l.T,css:()=>w,default:()=>E,internal_processStyles:()=>T,keyframes:()=>x});var i=n(8168),r=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(4575);var c=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},u=function(e,t,n){c(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}},h=n(6598),d=n(9436),p=a,f=function(e){return"theme"!==e},g=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?p:f},m=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},v=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return c(t,n,i),(0,d.s)((function(){return u(t,n,i)})),null},y=function e(t,n){var o,s,a=t.__emotion_real===t,c=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var u=m(t,n,a),d=u||g(c),p=!d("as");return function(){var f=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&y.push("label:"+o+";"),null==f[0]||void 0===f[0].raw)y.push.apply(y,f);else{y.push(f[0][0]);for(var _=f.length,b=1;b<_;b++)y.push(f[b],f[0][b])}var w=(0,l.w)((function(e,t,n){var i=p&&e.as||c,o="",a=[],f=e;if(null==e.theme){for(var m in f={},e)f[m]=e[m];f.theme=r.useContext(l.T)}"string"===typeof e.className?o=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var _=(0,h.J)(y.concat(a),t.registered,f);o+=t.key+"-"+_.name,void 0!==s&&(o+=" "+s);var b=p&&void 0===u?g(i):d,w={};for(var x in e)p&&"as"===x||b(x)&&(w[x]=e[x]);return w.className=o,n&&(w.ref=n),r.createElement(r.Fragment,null,r.createElement(v,{cache:t,serialized:_,isStringTag:"string"===typeof i}),r.createElement(i,w))}));return w.displayName=void 0!==o?o:"Styled("+("string"===typeof c?c:c.displayName||c.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=c,w.__emotion_styles=y,w.__emotion_forwardProp=u,Object.defineProperty(w,"toString",{value:function(){return"."+s}}),w.withComponent=function(t,r){return e(t,(0,i.A)({},n,r,{shouldForwardProp:m(w,r,!0)})).apply(void 0,y)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var _=n(3803),b=(n(219),(0,l.w)((function(e,t){var n=e.styles,i=(0,h.J)([n],void 0,r.useContext(l.T)),o=r.useRef();return(0,d.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),o.current=[n,r],function(){n.flush()}}),[t]),(0,d.i)((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&u(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null})));function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,h.J)(t)}var x=function(){var e=w.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var A=n(579);let k;function C(e){const{injectFirst:t,children:n}=e;return t&&k?(0,A.jsx)(l.C,{value:k,children:n}):n}function S(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(i=e)||null===i||0===Object.keys(i).length?n:e);var i}:t;return(0,A.jsx)(b,{styles:i})}function E(e,t){return y(e,t)}"object"===typeof document&&(k=(0,_.A)({key:"css",prepend:!0}));const T=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var i=n(4994);t.e$=f,t.eM=function(e,t){const n=d(e),i=d(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.a=g;var r=i(n(457)),o=i(n(9214));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.default)(9,e));let i,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.default)(10,i))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:i}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function h(e){e=l(e);const{values:t}=e,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function d(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(h(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function g(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(e)>.5?f(e,t):g(e,t)}},8052:(e,t,n)=>{"use strict";var i=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:i=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,r.default)({},e,{theme:v((0,r.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:h,slot:p,skipVariantsResolver:g,skipSx:b,overridesResolver:w=y(m(p))}=c,x=(0,o.default)(c,d),A=void 0!==g?g:p&&"Root"!==p&&"root"!==p||!1,k=b||!1;let C=f;"Root"===p||"root"===p?C=i:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const S=(0,s.default)(e,(0,r.default)({shouldForwardProp:C,label:undefined},x)),E=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?i=>_(e,(0,r.default)({},i,{theme:v({theme:i.theme,defaultTheme:n,themeId:t})})):e,T=function(i){let o=E(i);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(E):[];h&&w&&c.push((e=>{const i=v((0,r.default)({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[h]||!i.components[h].styleOverrides)return null;const o=i.components[h].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=_(o,(0,r.default)({},e,{theme:i}))})),w(e,s)})),h&&!A&&c.push((e=>{var i;const o=v((0,r.default)({},e,{defaultTheme:n,themeId:t}));return _({variants:null==o||null==(i=o.components)||null==(i=i[h])?void 0:i.variants},(0,r.default)({},e,{theme:o}))})),k||c.push(u);const d=c.length-a.length;if(Array.isArray(i)&&d>0){const e=new Array(d).fill("");o=[...i,...e],o.raw=[...i.raw,...e]}const p=S(o,...c);return e.muiName&&(p.muiName=e.muiName),p};return S.withConfig&&(T.withConfig=S.withConfig),T}};var r=i(n(4634)),o=i(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(568)),a=n(9482),l=(i(n(7918)),i(n(3382)),i(n(4989))),c=i(n(3234));const u=["ownerState"],h=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const g=(0,l.default)(),m=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:i}=e;return r=n,0===Object.keys(r).length?t:n[i]||n;var r}function y(e){return e?(t,n)=>n[e]:null}function _(e,t){let{ownerState:n}=t,i=(0,o.default)(t,u);const s="function"===typeof e?e((0,r.default)({ownerState:n},i)):e;if(Array.isArray(s))return s.flatMap((e=>_(e,(0,r.default)({ownerState:n},i))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,h);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,r.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,r.default)({ownerState:n},i,n)):e.style))})),t}return s}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>o,vf:()=>a,zu:()=>i});const i={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||r;return t.reduce(((i,r,o)=>(i[e.up(e.keys[o])]=n(t[o]),i)),{})}if("object"===typeof t){const e=o.breakpoints||r;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},9703:(e,t,n)=>{"use strict";function i(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>i})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(8587),r=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,i.A)(e,o),c=s(t),u=Object.keys(c);function h(e){const i="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(i).concat(n,")")}function d(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-a/100).concat(n,")")}function p(e,i){const r=u.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof t[u[r]]?t[u[r]]:i)-a/100).concat(n,")")}return(0,r.A)({keys:u,values:c,up:h,down:d,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):h(e)},not:function(e){const t=u.indexOf(e);return 0===t?h(u[1]):t===u.length-1?d(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(8168),r=n(8587),o=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(2783),u=n(7758),h=n(9703);const d=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,g=(0,r.A)(e,d),m=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let y=(0,o.A)({breakpoints:m,direction:"ltr",components:{},palette:(0,i.A)({mode:"light"},n),spacing:v,shape:(0,i.A)({},a,f)},g);y.applyStyles=h.A;for(var _=arguments.length,b=new Array(_>1?_-1:0),w=1;w<_;w++)b[w-1]=arguments[w];return y=b.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,i.A)({},u.A,null==g?void 0:g.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,private_createBreakpoints:()=>r.A,unstable_applyStyles:()=>o.A});var i=n(8280),r=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(9172);const r=function(e,t){return t?(0,i.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>g,Lc:()=>y,Ms:()=>_});var i=n(9751),r=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),i=s[t],r=a[n]||"";return Array.isArray(r)?r.map((e=>i+e)):[i+r]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...u,...h];function p(e,t,n,i){var o;const s=null!=(o=(0,r.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function g(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=g(t,n),e)),{})}(c(n),r),s=e[n];return(0,i.NI)(e,s,o)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((i=>m(e,t,i,n))).reduce(o.A,{})}function y(e){return v(e,u)}function _(e){return v(e,h)}function b(e){return v(e,d)}y.propTypes={},y.filterProps=u,_.propTypes={},_.filterProps=h,b.propTypes={},b.filterProps=d},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var i=n(7598),r=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:o(e,n)||r,t&&(i=t(i,r,e)),i}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,r.NI)(e,c,(e=>{let r=s(u,l,e);return e===r&&"string"===typeof e&&(r=s(u,l,"".concat(t).concat("default"===e?"":(0,i.A)(e)),e)),!1===n?r:{[n]:r}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var i=n(8604),r=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),r=e=>Object.keys(e).reduce(((t,n)=>i[n]?(0,o.A)(t,i[n](e)):t),{});return r.propTypes={},r.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,r.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),h=c("borderTop",l),d=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),g=c("borderColor"),m=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),_=c("borderLeftColor"),b=c("outline",l),w=c("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,i.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,i._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};x.propTypes={},x.filterProps=["borderRadius"];s(u,h,d,p,f,g,m,v,y,_,x,b,w);const A=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,i.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,i._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};A.propTypes={},A.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,i.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,i.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(A,k,C,(0,r.Ay)({prop:"gridColumn"}),(0,r.Ay)({prop:"gridRow"}),(0,r.Ay)({prop:"gridAutoFlow"}),(0,r.Ay)({prop:"gridAutoColumns"}),(0,r.Ay)({prop:"gridAutoRows"}),(0,r.Ay)({prop:"gridTemplateColumns"}),(0,r.Ay)({prop:"gridTemplateRows"}),(0,r.Ay)({prop:"gridTemplateAreas"}),(0,r.Ay)({prop:"gridArea"}));function S(e,t){return"grey"===t?t:e}s((0,r.Ay)({prop:"color",themeKey:"palette",transform:S}),(0,r.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:S}),(0,r.Ay)({prop:"backgroundColor",themeKey:"palette",transform:S}));function E(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,r.Ay)({prop:"width",transform:E}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:E(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const M=(0,r.Ay)({prop:"minWidth",transform:E}),N=(0,r.Ay)({prop:"height",transform:E}),R=(0,r.Ay)({prop:"maxHeight",transform:E}),L=(0,r.Ay)({prop:"minHeight",transform:E}),P=((0,r.Ay)({prop:"size",cssProperty:"width",transform:E}),(0,r.Ay)({prop:"size",cssProperty:"height",transform:E}),s(T,I,M,N,R,L,(0,r.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x},color:{themeKey:"palette",transform:S},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:S},backgroundColor:{themeKey:"palette",transform:S},p:{style:i.Ms},pt:{style:i.Ms},pr:{style:i.Ms},pb:{style:i.Ms},pl:{style:i.Ms},px:{style:i.Ms},py:{style:i.Ms},padding:{style:i.Ms},paddingTop:{style:i.Ms},paddingRight:{style:i.Ms},paddingBottom:{style:i.Ms},paddingLeft:{style:i.Ms},paddingX:{style:i.Ms},paddingY:{style:i.Ms},paddingInline:{style:i.Ms},paddingInlineStart:{style:i.Ms},paddingInlineEnd:{style:i.Ms},paddingBlock:{style:i.Ms},paddingBlockStart:{style:i.Ms},paddingBlockEnd:{style:i.Ms},m:{style:i.Lc},mt:{style:i.Lc},mr:{style:i.Lc},mb:{style:i.Lc},ml:{style:i.Lc},mx:{style:i.Lc},my:{style:i.Lc},margin:{style:i.Lc},marginTop:{style:i.Lc},marginRight:{style:i.Lc},marginBottom:{style:i.Lc},marginLeft:{style:i.Lc},marginX:{style:i.Lc},marginY:{style:i.Lc},marginInline:{style:i.Lc},marginInlineStart:{style:i.Lc},marginInlineEnd:{style:i.Lc},marginBlock:{style:i.Lc},marginBlockStart:{style:i.Lc},marginBlockEnd:{style:i.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:A},rowGap:{style:C},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:I},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(8168),r=n(8587),o=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const i={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{r[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function c(e){const{sx:t}=e,n=(0,r.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,i.A)({},s,e):s}:(0,i.A)({},s,t),(0,i.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,extendSxProp:()=>r.A,unstable_createStyleFunctionSx:()=>i.k,unstable_defaultSxConfig:()=>o.A});var i=n(2783),r=n(8698),o=n(7758)},2783:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var i=n(7598),r=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,r){const a={[e]:t,theme:n},l=r[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:h,style:d}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,o.Yn)(n,u)||{};if(d)return d(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(p,h,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(p,h,"".concat(e).concat("default"===t?"":(0,i.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var i;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(i=l.unstable_sxConfig)?i:a.A;function u(n){let i=n;if("function"===typeof n)i=n(l);else if("object"!==typeof n)return n;if(!i)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(i).forEach((n=>{const o=(a=i[n],h=l,"function"===typeof a?a(h):a);var a,h;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,r.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(i);return t.every((e=>r.size===Object.keys(e).length))}(e,o)?u=(0,r.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,r.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(7868);function r(e){if("string"!==typeof e)throw new Error((0,i.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7598)},9214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>r});var i=n(8168);function r(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!r(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,i.A)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((i=>{r(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&r(e[i])?a[i]=s(e[i],t[i],n):n.clone?a[i]=r(t[i])?o(t[i]):t[i]:a[i]=t[i]})),a}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,isPlainObject:()=>i.Q});var i=n(9172)},7868:(e,t,n)=>{"use strict";function i(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>i})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7868)},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var i=n(2086);const r=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(r);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const i=s(t);return e.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case i.ForwardRef:return a(e,e.render,"ForwardRef");case i.Memo:return a(e,e.type,"memo");default:return}}}},1387:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}var r;n.d(t,{Gh:()=>P,HS:()=>O,Oi:()=>a,Rr:()=>d,pX:()=>B,pb:()=>M,rc:()=>r,tH:()=>$,ue:()=>g,yD:()=>L,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const o="popstate";function s(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return u("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function p(e,t,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:d=!1}=s,p=l.history,f=r.Pop,g=null,m=v();function v(){return(p.state||{idx:null}).idx}function y(){f=r.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:f,location:b.location,delta:t})}function _(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,p.replaceState(i({},p.state,{idx:m}),""));let b={get action(){return f},get location(){return e(l,p)},listen(e){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(o,y),g=e,()=>{l.removeEventListener(o,y),g=null}},createHref:e=>t(l,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let i=u(b.location,e,t);n&&n(i,e),m=v()+1;let o=c(i,m),s=b.createHref(i);try{p.pushState(o,"",s)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(s)}d&&g&&g({action:f,location:b.location,delta:1})},replace:function(e,t){f=r.Replace;let i=u(b.location,e,t);n&&n(i,e),m=v();let o=c(i,m),s=b.createHref(i);p.replaceState(o,"",s),d&&g&&g({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),m(e,t,n,!1)}function m(e,t,n,i){let r=M(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let o=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=I(r);s=E(o[a],e,i)}return s}function v(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let l=O([i,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of y(e.path))r(e,t,i);else r(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=y(i.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),r&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,b=3,w=2,x=1,A=10,k=-2,C=e=>"*"===e;function S(e,t){let n=e.split("/"),i=n.length;return n.some(C)&&(i+=k),t&&(i+=w),n.filter((e=>!C(e))).reduce(((e,t)=>e+(_.test(t)?b:""===t?x:A)),i)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},o="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===o?t:t.slice(o.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:O([o,u.pathname]),pathnameBase:D(O([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=O([o,u.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function N(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function P(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=d(e):(o=i({},e),a(!o.pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let s,l=""===e||""===o.pathname,c=l?"/":o.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:j(i),hash:F(r)}}(o,s),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!p||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class $ extends Error{}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],z=(new Set(U),["get",...U]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},6603:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"===typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"===typeof t){var r=o(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,l=t.length;a<l;++a){var c=o(e,t[a]);if(void 0==c&&i.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},i=function(e,t){var r=n("",e,t);return void 0==r&&i.original?i.original.apply(this,arguments):r},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},o=function(e,i){i=r(e,i);var o=t.modules[i];if(!o){if("function"===typeof(o=t.payloads[i])){var s={},a={id:i,uri:"",exports:s,packaged:!0};s=o((function(e,t){return n(i,e,t)}),s,a)||a.exports,t.modules[i]=s,delete t.payloads[i]}o=t.modules[i]=s||o}return o};!function(n){var r=e;n&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})),String.prototype.repeat||i(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||i(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];void 0!==i&&null!==i&&Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||i(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return r}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return i}})),Array.prototype.includes||i(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||i(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,i=arguments[1]|0,r=i<0?Math.max(n+i,0):Math.min(i,n),o=arguments[2],s=void 0===o?n:o|0,a=s<0?Math.max(n+s,0):Math.min(s,n);r<a;)t[r]=e,r++;return t})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(e,t,n){t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=e("./deep_copy").deepCopy,t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(o.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(s=u;s<t.length;s++)e(t[s],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function s(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,r){if("undefined"!=typeof document){if(o)if(r)s();else if(!1===r)return o.push([e,n]);if(!i){var a=r;r&&r.getRootNode&&(a=r.getRootNode())&&a!=r||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?s():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s===a&&(a=i.clientWidth),o.removeChild(i),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(t.HI_DPI=!1),"undefined"!==typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||"undefined"===typeof l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/report_error",["require","exports","module"],(function(e,t,n){t.reportError=function(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),ace.define("ace/lib/default_english_messages",["require","exports","module"],(function(e,t,n){t.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],(function(e,t,n){var i,r,o=e("./oop"),s=e("./event_emitter").EventEmitter,a=e("./report_error").reportError,l=e("./default_english_messages").defaultEnglishMessages,c={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return u('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:u('misspelled option "'+e+'"')}};function u(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var h=function(){function e(){this.$defaultOptions={},i=l,r="dollarSigns"}return e.prototype.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),o.implement(e,c),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},e.prototype.setMessages=function(e,t){i=e,t&&t.placeholders&&(r=t.placeholders)},e.prototype.nls=function(e,t,n){i[e]||(u("No message found for the key '"+e+"' in the provided messages, trying to find a translation for the default string '"+t+"'."),i[t]||u("No message found for the default string '"+t+"' in the provided messages. Falling back to the default English message."));var o=i[e]||i[t]||t;return n&&("dollarSigns"===r&&(o=o.replace(/\$(\$|[\d]+)/g,(function(e,t){return"$"==t?"$":n[t]}))),"curlyBrackets"===r&&(o=o.replace(/\{([^\}]+)\}/g,(function(e,t){return n[t]})))),o},e}();h.prototype.warn=u,h.prototype.reportError=a,o.implement(h.prototype,s),t.AppConfig=h})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate-css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var i=e("./lib/lang"),r=e("./lib/net"),o=e("./lib/dom"),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=a[t+"Path"];return null==s?s=a.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l;t.setLoader=function(e){l=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(n,i){var o;if(Array.isArray(n))var s=n[0],a=n[1];else if("string"==typeof n)a=n;var u=function(n){if(n&&!t.$loading[a])return i&&i(n);if(t.$loading[a]||(t.$loading[a]=[]),t.$loading[a].push(i),!(t.$loading[a].length>1)){var o=function(){!function(t,n){"ace/theme/textmate"===t||"./theme/textmate"===t?n(null,e("./theme/textmate")):l?l(t,n):console.error("loader is not configured")}(a,(function(e,n){n&&(t.$loaded[a]=n),t._emit("load.module",{name:a,module:n});var i=t.$loading[a];t.$loading[a]=null,i.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return o();r.loadScript(t.moduleUrl(a,s),o),c()}};if(t.dynamicModules[a])t.dynamicModules[a]().then((function(e){e.default?u(e.default):u(e)}));else{try{o=this.$require(a)}catch(h){}u(o||t.$loaded[a])}},t.$require=function(e){if("function"==typeof n.require){return n.require(e)}},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.35.4"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./config");r.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var o=function(){return this||"undefined"!=typeof window&&window}();function s(t){if(o&&o.document){r.set("packaged",t||e.packaged||i.packaged||o.define&&n.amdD.packaged);var s={},a="",l=document.currentScript||document._currentScript,c=l&&l.ownerDocument||document;l&&l.src&&(a=l.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var u,h=c.getElementsByTagName("script"),d=0;d<h.length;d++){var p=h[d],f=p.src||p.getAttribute("src");if(f){for(var g=p.attributes,m=0,v=g.length;m<v;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(s[(u=y.name.replace(/^data-ace-/,""),u.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var _=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(a=_[1])}}for(var b in a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)"undefined"!==typeof s[b]&&r.set(b,s[b])}}i.exports=function(t){r.init=s,r.$require=e,t.require=e,t.define=n.amdD},s(!0)})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){function e(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},e.prototype.contains=function(e,t){return 0==this.compare(e,t)},e.prototype.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var i={row:n+1,column:0};else if(this.end.row<t)i={row:t,column:0};if(this.start.row>n)var r={row:n+1,column:0};else if(this.start.row<t)r={row:t,column:0};return e.fromPoints(r||this.start,i||this.end)},e.prototype.extend=function(t,n){var i=this.compare(t,n);if(0==i)return this;if(-1==i)var r={row:t,column:n};else var o={row:t,column:n};return e.fromPoints(r||this.start,o||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new e(n.row,n.column,i.row,i.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";for(var i=e("./oop"),r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},o={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)o["Digit"+s]=48+s,o["Numpad"+s]=96+s,r.PRINTABLE_KEYS[48+s]=""+s,r.FUNCTION_KEYS[96+s]="Numpad"+s;for(s=65;s<91;s++){var a=String.fromCharCode(s+32);o["Key"+a.toUpperCase()]=s,r.PRINTABLE_KEYS[s]=a}for(s=1;s<13;s++)o["F"+s]=111+s,r.FUNCTION_KEYS[111+s]="F"+s;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var c in l)o[c]=o[c+"Left"]=o[c+"Right"]=l[c];for(var u in t.$codeToKeyCode=o,r.PRINTABLE_KEYS[173]="-",r.FUNCTION_KEYS){var h=r.FUNCTION_KEYS[u].toLowerCase();r[h]=parseInt(u,10)}for(var u in r.PRINTABLE_KEYS){h=r.PRINTABLE_KEYS[u].toLowerCase();r[h]=parseInt(u,10)}i.mixin(r,r.MODIFIER_KEYS),i.mixin(r,r.PRINTABLE_KEYS),i.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)r.KEY_MODS[t]=e.filter((function(e){return t&r.KEY_MODS[e]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",i.mixin(t,r),t.default=t,t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return void 0==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return i={passive:!1},!0}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};function d(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function p(){s=Object.create(null)}if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){u(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",p,s)}))},t.getModifierString=function(e){return r.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){var l=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=function(e,t,n){var i=d(t);if(!n&&t.code&&(n=r.$codeToKeyCode[t.code]||n),!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var l=t.location;17===n&&1===l?1==s[n]&&(a=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(n in r.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==t.location||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}}(n,e,e.keyCode);return l=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),i),u(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(p(),u(window,"focus",p))},"object"==typeof window&&window.postMessage&&!o.isOldIE){var f=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+f++,r=function(o){o.data==i&&(t.stopPropagation(o),h(n,"message",r),e())};u(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i,r=e("../lib/event"),o=e("../config").nls,s=e("../lib/useragent"),a=e("../lib/dom"),l=e("../lib/lang"),c=e("../clipboard"),u=s.isChrome<18,h=s.isIE,d=s.isChrome>63,p=400,f=e("../lib/keys"),g=f.KEY_MODS,m=s.isIOS,v=m?/\s/:/\n/,y=s.isMobile;i=function(e,t){var n=a.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),n.style.opacity="0",e.insertBefore(n,e.firstChild);var i=!1,_=!1,b=!1,w=!1,x="";y||(n.style.fontSize="1px");var A=!1,k=!1,C="",S=0,E=0,T=0,I=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,N=0;try{var R=document.activeElement===n}catch(X){}this.setNumberOfExtraLines=function(e){I=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,N=e<0?0:e},this.setAriaOptions=function(e){if(e.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete",e.inline?"both":"list"),n.setAttribute("aria-activedescendant",e.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),e.role&&n.setAttribute("role",e.role),e.setLabel){n.setAttribute("aria-roledescription",o("text-input.aria-roledescription","editor"));var i="";if(t.$textInputAriaLabel&&(i+="".concat(t.$textInputAriaLabel,", ")),t.session){var r=t.session.selection.cursor.row;i+=o("text-input.aria-label","Cursor at row $0",[r+1])}n.setAttribute("aria-label",i)}},this.setAriaOptions({role:"textbox"}),r.addListener(n,"blur",(function(e){k||(t.onBlur(e),R=!1)}),t),r.addListener(n,"focus",(function(e){if(!k){if(R=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(P):P()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),x||d||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var i=0!=n.getBoundingClientRect().top}catch(X){return}var r=[];if(i)for(var o=n.parentElement;o&&1==o.nodeType;)r.push(o),o.setAttribute("ace_nocontext","true"),o=!o.parentElement&&o.getRootNode?o.getRootNode().host:o.parentElement;n.focus({preventScroll:!0}),i&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return R},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);b&&r&&(C=n.value="",H()),P()}}));var L=function(e,n){for(var i=n,r=1;r<=e-I&&r<2*N+1;r++)i+=t.session.getLine(e-r).length+1;return i},P=m?function(e){if(R&&(!i||e)&&!w){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=C=r);var o=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&E==o||n.setSelectionRange(4,o),S=4,E=o}}:function(){if(!b&&!w&&(R||D)){b=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;a===M+1?M=(I=M+1)+2*N:a===I-1?I=(M=I-1)-2*N:(a<I-1||a>M+1)&&(I=a>N?a-N:0,M=a>N?a+N:2*N);for(var l=[],c=I;c<=M;c++)l.push(t.session.getLine(c));if(r=l.join("\n"),e=L(s.start.row,s.start.column),i=L(s.end.row,s.end.column),s.start.row<I){var u=t.session.getLine(I-1);e=s.start.row<I-1?0:e,i+=u.length+1,r=u+"\n"+r}else if(s.end.row>M){var h=t.session.getLine(M+1);i=s.end.row>M+1?h.length:s.end.column,i+=r.length+1,r=r+"\n"+h}else y&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>p&&(e<p&&i<p?r=r.slice(0,p):(r="\n",e==i?e=i=0:(e=0,i=1)));var d=r+"\n\n";d!=C&&(n.value=C=d,S=E=d.length)}if(D&&(S=n.selectionStart,E=n.selectionEnd),E!=i||S!=e||n.selectionEnd!=E)try{n.setSelectionRange(e,i),S=e,E=i}catch(X){}b=!1}};this.resetSelection=P,R&&t.onFocus();var O=null;this.setInputHandler=function(e){O=e},this.getInputHandler=function(){return O};var D=!1,j=function(e,i){if(D&&(D=!1),_)return P(),e&&t.onPaste(e),_=!1,"";for(var r=n.selectionStart,o=n.selectionEnd,a=S,l=C.length-E,c=e,u=e.length-r,h=e.length-o,d=0;a>0&&C[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&C.length-d>S-1&&C[C.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var p=c.length-d+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!i&&!c&&!u&&!a&&!l&&!h)return"";w=!0;var f=!1;return s.isAndroid&&". "==c&&(c="  ",f=!0),c&&!a&&!l&&!u&&!h||A?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),w=!1,C=e,S=r,E=o,T=h,f?"\n":c},F=function(e){if(b)return W();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=j(i,!0);(i.length>500||v.test(r)||y&&S<1&&S==E)&&P()},$=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!u){var r=h||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return $(e,t,!0)}}},B=function(e,o){var s=t.getCopyText();if(!s)return r.preventDefault(e);$(e,s)?(m&&(P(s),i=s,setTimeout((function(){i=!1}),10)),o?t.onCut():t.onCopy(),r.preventDefault(e)):(i=!0,n.value=s,n.select(),setTimeout((function(){i=!1,P(),o?t.onCut():t.onCopy()})))},U=function(e){B(e,!0)},z=function(e){B(e,!1)},V=function(e){var i=$(e);c.pasteCancelled()||("string"==typeof i?(i&&t.onPaste(i,e),s.isIE&&setTimeout(P),r.preventDefault(e)):(n.value="",_=!0))};r.addCommandKeyListener(n,(function(e,n,i){if(!b)return t.onCommandKey(e,n,i)}),t),r.addListener(n,"select",(function(e){b||(i?i=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=C.length&&e.value===C&&C&&e.selectionEnd!==E}(n)?y&&n.selectionStart!=S&&P():(t.selectAll(),P()))}),t),r.addListener(n,"input",F,t),r.addListener(n,"cut",U,t),r.addListener(n,"copy",z,t),r.addListener(n,"paste",V,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:z(e);break;case 86:V(e);break;case 88:U(e)}}),t);var W=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(A)return q();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;j(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+E-b.selectionStart+T)}}},H=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",q),e&&F())};function q(){k=!0,n.blur(),n.focus(),k=!1}var K,G=l.delayedCall(W,50).schedule.bind(null,null);function Q(){clearTimeout(K),K=setTimeout((function(){x&&(n.style.cssText=x,x=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!A)){e.data&&(b.useTextareaForIME=!1),setTimeout(W,0),t._signal("compositionStart"),t.on("mousedown",q);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=S,t.onCompositionStart(b),b.useTextareaForIME?(C=n.value="",S=0,E=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),r.addListener(n,"compositionupdate",W,t),r.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(C=n.value),S=E=-1,P()),G()}),t),r.addListener(n,"keydown",G,t),r.addListener(n,"compositionend",H,t),this.getElement=function(){return n},this.setCommandMode=function(e){A=e,n.readOnly=!1},this.setReadOnly=function(e){A||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){D=!0,P(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,i){x||(x=n.style.cssText),n.style.cssText=(i?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+E)*t.renderer.characterWidth*.5+"px;";var o=t.container.getBoundingClientRect(),l=a.computedStyle(t.container),c=o.top+(parseInt(l.borderTopWidth)||0),u=o.left+(parseInt(o.borderLeftWidth)||0),h=o.bottom-c-n.clientHeight-2,d=function(e){a.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(K),s.isWin&&r.capture(t.container,d,Q))},this.onContextMenuClose=Q;var Y=function(e){t.textInput.onContextMenu(e),Q()};r.addListener(n,"mouseup",Y,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),Q()}),t),r.addListener(t.renderer.scroller,"contextmenu",Y,t),r.addListener(n,"contextmenu",Y,t),m&&function(e,t,n){var r=null,o=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),o=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){o=!1}),100)}),!0);var s=function(e){if(document.activeElement===n&&!(o||b||t.$mouseHandler.isMousePressed)&&!i){var r=n.selectionStart,s=n.selectionEnd,a=null,l=0;if(0==r?a=f.up:1==r?a=f.home:s>E&&"\n"==C[s]?a=f.end:r<S&&" "==C[r-1]?(a=f.left,l=g.option):r<S||r==S&&E!=S&&r==s?a=f.left:s>E&&C.slice(0,s).split("\n").length>2?a=f.down:s>E&&" "==C[s-1]?(a=f.right,l=g.option):(s>E||s==E&&E!=S&&r==s)&&(a=f.right),r!==s&&(l|=g.shift),a){if(!t.onCommandKey({},l,a)&&t.commands){a=f.keyCodeToString(a);var c=t.commands.findKeyCommand(l,a);c&&t.execCommand(c)}S=r,E=s,P("")}}};document.addEventListener("selectionchange",s),t.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.TextInput=i,t.$setUserAgentForTests=function(e,t){y=e,m=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent"),r=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}return e.prototype.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(r>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=i;else if(i-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},e}();function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}r.prototype.selectEnd=r.prototype.selectByLinesEnd,r.prototype.selectAllEnd=r.prototype.selectByLinesEnd,r.prototype.selectByWordsEnd=r.prototype.selectByLinesEnd,t.DefaultHandlers=r})),ace.define("ace/lib/scroll",["require","exports","module"],(function(e,t,n){t.preventParentScroll=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e("./lib/dom"),s=(e("./lib/event"),e("./range").Range),a=e("./lib/scroll").preventParentScroll,l="ace_tooltip",c=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=o.createElement("div"),this.$element.className=l,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},e.prototype.setClassName=function(e){o.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=l+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")},e.prototype.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},e.prototype.hide=function(e){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=l,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),u=new(function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,i;this.popups.sort((function(e,t){return t.priority-e.priority}));var o=[];try{for(var s=r(this.popups),a=s.next();!a.done;a=s.next()){var l=a.value,c=!0;try{for(var u=(n=void 0,r(o)),h=u.next();!h.done;h=u.next()){var d=h.value;if(this.doPopupsOverlap(d,l)){c=!1;break}}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}c?o.push(l):l.hide()}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),i=t.getElement().getBoundingClientRect();return n.left<i.right&&n.right>i.left&&n.top<i.bottom&&n.bottom>i.top},e}());t.popupManager=u,t.Tooltip=c;var h=function(e){function t(t){void 0===t&&(t=document.body);var n=e.call(this,t)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var i=n.getElement();return i.style.whiteSpace="pre-wrap",i.style.pointerEvents="auto",i.addEventListener("mouseout",n.onMouseOut),i.tabIndex=-1,i.addEventListener("blur",function(){i.contains(document.activeElement)||this.hide()}.bind(n)),i.addEventListener("wheel",a),n}return i(t,e),t.prototype.addToEditor=function(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var i=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(i.row,i.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;this.idleTime-e>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-e):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),i=t.session.getLine(n.row);if(n.column==i.length){var r=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),o=t.session.documentToScreenPosition(n.row,n.column);if(o.column!=r.column||o.row!=r.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,i){if((!i||i==this.lastEvent)&&(!this.isOpen||document.activeElement!=this.getElement())){var r=e.renderer;this.isOpen||(u.addPopup(this),this.$registerCloseEvents(),this.setTheme(r.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=s.fromPoints(t.start,t.end);var o=r.textToScreenCoordinates(t.start.row,t.start.column),a=r.scroller.getBoundingClientRect();o.pageX<a.left&&(o.pageX=a.left);var l=this.getElement();l.innerHTML="",l.appendChild(n),l.style.maxHeight="",l.style.display="block";var c=l.clientHeight,h=l.clientWidth,d=window.innerHeight-o.pageY-r.lineHeight,p=!0;o.pageY-c<0&&o.pageY<d&&(p=!1),l.style.maxHeight=(p?o.pageY:d)-10+"px",l.style.top=p?"":o.pageY+r.lineHeight+"px",l.style.bottom=p?window.innerHeight-o.pageY+"px":"",l.style.left=Math.min(o.pageX,window.innerWidth-h-10)+"px"}},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")},t.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,u.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},t}(c);t.HoverTooltip=h})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e("../lib/dom"),s=e("../lib/event"),a=e("../tooltip").Tooltip,l=e("../config").nls;e("../lib/lang");t.GutterHandler=function(e){var t,n,i=e.editor,r=i.renderer.$gutterLayer,a=new c(i);function l(){t&&(t=clearTimeout(t)),a.isOpen&&(a.hideTooltip(),i.off("mousewheel",l))}function u(e){a.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(i.isFocused()&&0==t.getButton()&&"foldWidgets"!=r.getRegion(t)){var n=t.getDocumentPosition().row,o=i.session.selection;if(t.getShiftKey())o.selectTo(n,0);else{if(2==t.domEvent.detail)return i.selectAll(),t.preventDefault();e.$clickSelection=i.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(s){var c=s.domEvent.target||s.domEvent.srcElement;if(o.hasCssClass(c,"ace_fold-widget"))return l();a.isOpen&&e.$tooltipFollowsMouse&&u(s),n=s,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row;if(t==i.session.getLength()){var o=i.renderer.pixelToScreenCoordinates(0,n.y).row,s=n.$pos;if(o>i.session.documentToScreenRow(s.row,s.column))return l()}if(a.showTooltip(t),a.isOpen)if(i.on("mousewheel",l),e.$tooltipFollowsMouse)u(n);else{var c=n.getGutterRow(),h=r.$lines.get(c);if(h){var d=h.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),p=a.getElement().style;p.left=d.right+"px",p.top=d.bottom+"px"}else u(n)}}():l()}),50))})),s.addListener(i.renderer.$gutter,"mouseout",(function(e){n=null,a.isOpen&&!t&&(t=setTimeout((function(){t=null,l()}),50))}),i),i.on("changeSession",l),i.on("input",l)};var c=function(e){function t(t){var n=e.call(this,t.container)||this;return n.editor=t,n}return i(t,e),t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+o>i&&(t-=20+o),a.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:l("gutter-tooltip.aria-label.error.singular","error"),plural:l("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:l("gutter-tooltip.aria-label.warning.singular","warning"),plural:l("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:l("gutter-tooltip.aria-label.info.singular","information message"),plural:l("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,i,r=this.editor.renderer.$gutterLayer,s=r.$annotations[e];i=s?{displayText:Array.from(s.displayText),type:Array.from(s.type)}:{displayText:[],type:[]};var a=r.session.getFoldLine(e);if(a&&r.$showFoldedAnnotations){for(var l,c={error:[],warning:[],info:[]},u=e+1;u<=a.end.row;u++)if(r.$annotations[u])for(var h=0;h<r.$annotations[u].text.length;h++){var d=r.$annotations[u].type[h];c[d].push(r.$annotations[u].text[h]),"error"!==d?"warning"!==d||(l="warning_fold"):l="error_fold"}if("error_fold"===l||"warning_fold"===l){var p="".concat(t.annotationsToSummaryString(c)," in folded code.");i.displayText.push(p),i.type.push(l)}}if(0===i.displayText.length)return this.hide();var f={error:[],warning:[],info:[]},g=r.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(u=0;u<i.displayText.length;u++){var m=o.createElement("span"),v=o.createElement("span");(n=v.classList).add.apply(n,["ace_".concat(i.type[u]),g]),v.setAttribute("aria-label","".concat(t.annotationLabels[i.type[u].replace("_fold","")].singular)),v.setAttribute("role","img"),v.appendChild(o.createTextNode(" ")),m.appendChild(v),m.appendChild(o.createTextNode(i.displayText[u])),m.appendChild(o.createElement("br")),f[i.type[u].replace("_fold","")].push(m)}var y=this.getElement();o.removeChildren(y),f.error.forEach((function(e){return y.appendChild(e)})),f.warning.forEach((function(e){return y.appendChild(e)})),f.info.forEach((function(e){return y.appendChild(e)})),y.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(e){var n,i,o=[];try{for(var s=r(["error","warning","info"]),a=s.next();!a.done;a=s.next()){var l=a.value;if(e[l].length){var c=1===e[l].length?t.annotationLabels[l].singular:t.annotationLabels[l].plural;o.push("".concat(e[l].length," ").concat(c))}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o.join(", ")},t}(a);t.GutterTooltip=c})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=function(){function e(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},e.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},e.prototype.getButton=function(){return i.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();t.MouseEvent=o})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="\xa0";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,h,d,p,f,g,m,v,y=t.container,_=0;function b(){var e=d;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||r||o?(t.moveCursorToPosition(e),m=i,v={x:l,y:c}):a(v.x,v.y,l,c)>5?m=null:i-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=d.row,f=e.column!=d.column,m=!n||e.row!=n.row;p||f&&!m?g?i-g>=200&&t.renderer.scrollCursorIntoView(d):g=i:g=null}(d,e)}function w(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),b(),u=setInterval(b,20),_=0,r.addListener(document,"mousemove",k)}function x(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!f&&t.$resetCursorStyle(),h=null,d=null,_=0,g=null,m=null,r.removeListener(document,"mousemove",k)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),r.setDragImage&&r.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),r.clearData(),r.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,s||w(),_++,e.dataTransfer.dropEffect=p=S(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(w(),_++),null!==A&&(A=null),e.dataTransfer.dropEffect=p=S(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--_<=0&&s)return x(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(f)switch(p){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var i=n.getData("Text");h={start:d,end:t.session.insert(d,i)},t.focus(),p=null}return x(),r.preventDefault(e)}},r.addListener(y,"dragstart",this.onDragStart.bind(e),t),r.addListener(y,"dragend",this.onDragEnd.bind(e),t),r.addListener(y,"dragenter",this.onDragEnter.bind(e),t),r.addListener(y,"dragover",this.onDragOver.bind(e),t),r.addListener(y,"dragleave",this.onDragLeave.bind(e),t),r.addListener(y,"drop",this.onDrop.bind(e),t);var A=null;function k(){null==A&&(A=setTimeout((function(){null!=A&&s&&x()}),20))}function C(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function S(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,h,d,p,f="scroll",g=0,m=0,v=0,y=0;function _(){var e=window.navigator&&window.navigator.clipboard,n=!1,i=function(e){return t.commands.canExecute(e,t)},r=function(r){var s=r.target.getAttribute("action");if("more"==s||!n)return n=!n,function(){var r=t.getCopyText(),s=t.session.getUndoManager().hasUndo();p.replaceChild(o.buildDom(n?["span",!r&&i("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&i("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&i("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&i("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&i("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],i("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],i("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),p.firstChild)}();"paste"==s?e.readText().then((function(e){t.execCommand(s,e)})):s&&("cut"!=s&&"copy"!=s||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(s)),p.firstChild.style.display="none",n=!1,"openCommandPalette"!=s&&t.focus()};p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function b(){if(t.getOption("enableMobileMenu")){p||_();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),i=t.renderer.textToScreenCoordinates(0,0).pageX,r=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();p.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=i+r-o.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",w)}else p&&w()}function w(e){p&&(p.style.display="none"),t.off("input",w)}function x(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),f="wait",b()}r.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var _=r[0],b=_.clientX,w=_.clientY;Math.abs(n-b)+Math.abs(s-w)>o&&(a=-1),n=e.clientX=b,s=e.clientY=w,v=y=0;var A=new i(e,t);if(h=A.getDocumentPosition(),p-a<500&&1==r.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{m=0;var k=t.selection.cursor,C=t.selection.isEmpty()?k:t.selection.anchor,S=t.renderer.$cursorLayer.getPixelPosition(k,!0),E=t.renderer.$cursorLayer.getPixelPosition(C,!0),T=t.renderer.scroller.getBoundingClientRect(),I=t.renderer.layerConfig.offset,M=t.renderer.scrollLeft,N=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<T.left)return void(f="zoom");var R=N(e.clientX-T.left-S.left+M,e.clientY-T.top-S.top+I),L=N(e.clientX-T.left-E.left+M,e.clientY-T.top-E.top+I);R<3.5&&L<3.5&&(f=R>L?"cursor":"anchor"),f=L<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(x,450)}a=p}),t),r.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==f?(f="",g=0):c?(t.selection.moveToPosition(h),g=0,b()):"scroll"==f?(g+=60,u=setInterval((function(){g--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(g=0)}),10),w()):b(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==f)){var o=r[0],a=n-o.clientX,u=s-o.clientY;if("wait"==f){if(!(a*a+u*u>4))return e.preventDefault();f="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==f){var p=new i(e,t);p.speed=1,p.wheelX=a,p.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(v=a/d,y=u/d),t._emit("mousewheel",p),p.propagationStopped||(v=y=0)}else{var g=new i(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(g):"anchor"==f&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(){function e(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)}return e.prototype.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(u,20)},e.prototype.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();h.prototype.releaseMouse=null,u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))};t.FoldHandler=r})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),o=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},e.prototype.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},e.prototype.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},e.prototype.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,h=1,d=2,p=3,f=4,g=5,m=6,v=7,y=8,_=9,b=10,w=11,x=12,A=13,k=14,C=15,S=16,E=17,T=18,I=[T,T,T,T,T,T,T,T,T,m,g,m,y,g,T,T,T,T,T,T,T,T,T,T,T,T,T,T,g,g,g,m,y,f,f,w,w,w,f,f,f,f,f,b,_,b,_,_,d,d,d,d,d,d,d,d,d,d,_,f,f,f,f,f,f,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,f,f,f,f,f,f,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,f,f,f,f,T,T,T,T,T,T,g,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,_,f,w,w,w,w,f,f,f,f,u,f,f,T,f,f,w,w,d,d,f,u,f,f,f,d,u,f,f,f,f,f],M=[y,y,y,y,y,y,y,y,y,y,y,T,T,T,u,h,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,y,g,A,k,C,S,E,_,w,w,w,w,w,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,_,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,y];function N(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,l,c,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;h=o}h++}else n.reverse()}function R(e,t,n,r){var l,c,I,M,N=t[r];switch(N){case u:case h:o=!1;case f:case p:return N;case d:return o?p:d;case v:return o=!0,h;case y:return f;case _:return r<1||r+1>=t.length||(l=n[r-1])!=d&&l!=p||(c=t[r+1])!=d&&c!=p?f:(o&&(c=p),c==l?c:f);case b:return(l=r>0?n[r-1]:g)==d&&r+1<t.length&&t[r+1]==d?d:f;case w:if(r>0&&n[r-1]==d)return d;if(o)return f;for(M=r+1,I=t.length;M<I&&t[M]==w;)M++;return M<I&&t[M]==d?d:f;case x:for(I=t.length,M=r+1;M<I&&t[M]==x;)M++;if(M<I){var R=e[r],L=R>=1425&&R<=2303||64286==R;if(l=t[M],L&&(l==h||l==v))return h}return r<1||(l=t[r-1])==g?f:n[r-1];case g:return o=!1,s=!0,i;case m:return a=!0,f;case A:case k:case S:case E:case C:o=!1;case T:return f}}function L(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?u:I[t]:5==n?/[\u0591-\u05f4]/.test(e)?h:u:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?x:/[\u0660-\u0669\u066b-\u066c]/.test(e)?p:1642==t?w:/[\u06f0-\u06f9]/.test(e)?d:v:32==n&&t<=8287?M[255&t]:254==n&&t>=65136?v:f}t.L=u,t.R=h,t.EN=d,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var d=e.split(""),_=new Array(d.length),b=new Array(d.length),w=[];i=u?1:0,function(e,t,n,u){var h=i?c:l,d=null,p=null,f=null,v=0,_=null,b=-1,w=null,x=null,A=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=L(e[w]);for(r=i,o=!1,s=!1,a=!1,x=0;x<n;x++){if(d=v,A[x]=p=R(e,u,A,x),_=240&(v=h[d][p]),v&=15,t[x]=f=h[v][5],_>0)if(16==_){for(w=b;w<x;w++)t[w]=1;b=-1}else b=-1;if(h[v][6])-1==b&&(b=x);else if(b>-1){for(w=b;w<x;w++)t[w]=f;b=-1}u[x]==g&&(t[x]=0),r|=f}if(a)for(w=0;w<n;w++)if(u[w]==m){t[w]=i;for(var k=w-1;k>=0&&u[k]==y;k--)t[k]=i}}(d,w,d.length,n);for(var x=0;x<_.length;_[x]=x,x++);N(2,w,_),N(1,w,_);for(x=0;x<_.length-1;x++)n[x]===p?w[x]=t.AN:w[x]===h&&(n[x]>v&&n[x]<A||n[x]===f||n[x]===T)?w[x]=t.ON_R:x>0&&"\u0644"===d[x-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[x])&&(w[x-1]=w[x]=t.R_H,x++);d[d.length-1]===t.DOT&&(w[d.length-1]=t.B),"\u202b"===d[0]&&(w[0]=t.RLE);for(x=0;x<_.length;x++)b[x]=w[_[x]];return{logicalFromVisual:_,bidiLevels:b}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=L(e.charAt(i)),n||t[i]!=h&&t[i]!=v&&t[i]!=p||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,r.stringRepeat(i.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},e.prototype.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!==0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[r]%2===0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},e.prototype.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<r.length;p++)d=i.logicalFromVisual[p],n=r[p],(c=d>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&p===r.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!==0&&r[i]%2===0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2===0&&r[i]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2===0||!this.isRtlDir&&0===i&&r[i]%2!==0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!==0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent},e}();t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},e.prototype.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},e.prototype.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},e.prototype.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},e.prototype.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},e.prototype.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},e.prototype.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(i){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},e.prototype.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();a.prototype.setSelectionAnchor=a.prototype.setAnchor,a.prototype.getSelectionAnchor=a.prototype.getAnchor,a.prototype.setSelectionRange=a.prototype.setRange,i.implement(a.prototype,o),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(e,t,n){"use strict";var i=e("./lib/report_error").reportError,r=2e3,o=function(){function e(e){for(var t in this.splitRegex,this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),c.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}}return e.prototype.$setMaxTokenCount=function(e){r=0|e},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},e.prototype.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},e.prototype.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},e.prototype.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=o[s[y]]).onMatch?f.onMatch(g,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],u=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(u=m);break}if(g)if("string"===typeof p)f&&!1===f.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},e}();o.prototype.reportError=i,t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(e,t,n){"use strict";var i,r=e("../lib/deep_copy").deepCopy;(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],s)i.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,l.next=h,r(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&("$self"===p&&(p="start"),c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i;(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call((i=function(){this.$behaviours={}}).prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1}return e.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)},e}();t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r,o=e("../../lib/oop"),s=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,l=e("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},d={'"':'"',"'":"'"},p=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return i=h[t];i=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}};(r=function(e){e=e||{},this.add("braces","insertion",(function(t,n,o,s,a){var c=o.getCursorPosition(),u=s.doc.getLine(c.row);if("{"==a){p(o);var h=o.getSelectionRange(),d=s.doc.getTextRange(h),g=s.getTokenAt(c.row,c.column);if(""!==d&&"{"!==d&&o.getWrapBehavioursEnabled())return f(h,d,"{","}");if(g&&/(?:string)\.quasi|\.xml/.test(g.type)){if([/tag\-(?:open|name)/,/attribute\-name/].some((function(e){return e.test(g.type)}))||/(string)\.quasi/.test(g.type)&&"$"!==g.value[c.column-g.start-1])return;return r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}}if(r.isSaneInsertion(o,s))return/[\]\}\)]/.test(u[c.column])||o.inMultiSelectMode||e.braces?(r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(p(o),"}"==u.substring(c.column,c.column+1))if(null!==s.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&r.isAutoInsertedClosing(c,u,a))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){p(o);var m="";if(r.isMaybeInsertedClosing(c,u)&&(m=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===u.substring(c.column,c.column+1)){var v=s.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!v)return null;var y=this.$getIndent(s.getLine(v.row))}else{if(!m)return void r.clearMaybeInsertedClosing();y=this.$getIndent(u)}var _=y+s.getTabString();return{text:"\n"+_+"\n"+y+m,selection:[1,_.length,1,_.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(p(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,o){if("("==o){p(n);var s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"(",")");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){p(n);var l=n.getCursorPosition(),c=i.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,c,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(p(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,o){if("["==o){p(n);var s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"[","]");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){p(n);var l=n.getCursorPosition(),c=i.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,c,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(p(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||d;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;p(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),h=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==h&&m&&/escape/.test(m.type))return null;var y,_=m&&/string|escape/.test(m.type),b=!v||/string|escape/.test(v.type);if(g==s)(y=_!==b)&&/string\.end/.test(v.type)&&(y=!1);else{if(_&&!b)return null;if(_&&b)return null;var w=i.$mode.tokenRe;w.lastIndex=0;var x=w.test(h);w.lastIndex=0;var A=w.test(g),k=i.$mode.$pairQuotesAfter;if(!(k&&k[s]&&k[s].test(h))&&x||A)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var C=u[c.column-2];if(h==s&&(C==s||w.test(C)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||d,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(p(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,i,r){if("doc-start"===e&&("\n"===r||"\r\n"===r)&&n.selection.isEmpty()){var o=n.getCursorPosition();if(0===o.column)return;for(var s=i.doc.getLine(o.row),a=i.doc.getLine(o.row+1),l=i.getTokens(o.row),c=0,u=0;u<l.length;u++){c+=l[u].value.length;var h=l[u];if(c>=o.column){if(c===o.column){if(!/\.doc/.test(h.type))return;if(/\*\//.test(h.value)){var d=l[u+1];if(!d||!/\.doc/.test(d.type))return}}var p=o.column-(c-h.value.length),f=h.value.indexOf("*/"),g=h.value.indexOf("/**",f>-1?f+2:0);if(-1!==g&&p>g&&p<g+3)return;if(-1!==f&&-1!==g&&p>=f&&p<=g||!/\.doc/.test(h.type))return;break}}var m=this.$getIndent(s);if(/\s*\*/.test(a))return/^\s*\*/.test(s)?{text:r+m+"* ",selection:[1,2+m.length,1,2+m.length]}:{text:r+m+" * ",selection:[1,3+m.length,1,3+m.length]};if(/\/\*\*/.test(s.substring(0,o.column)))return{text:r+m+" * "+r+" "+m+"*/",selection:[1,4+m.length,1,4+m.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new a(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",c)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new a(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",c))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",u)},r.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},r.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},r.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},o.inherits(r,s),t.CstyleBehaviour=r})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i,r=e("../config"),o=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("../unicode"),c=e("../lib/lang"),u=e("../token_iterator").TokenIterator,h=e("../range").Range;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,l=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(c.escapeRegExp).join("|"),p=this.lineCommentStart[0];else g=c.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var i=n[1].length,o=n[0].length;d(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var h=p+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?r.insertInLine({row:t,column:a},h):r.insertInLine({row:t,column:a},p))},_=function(e,t){return g.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%l!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return l>2?i%l!=l-1:i%l==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+c.escapeRegExp(p)+")"),m=new RegExp("(?:"+c.escapeRegExp(f)+")\\s*$"),v=function(e,t){_(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},f),r.insertInLine({row:t,column:a},p))},y=function(e,t){var n;(n=e.match(m))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&r.removeInLine(t,n[1].length,n[0].length)},_=function(e,n){if(g.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function b(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var w=1/0;b((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!_(e,t)&&(s=!1)):w>e.length&&(w=e.length)})),a==1/0&&(a=w,o=!1,s=!1),u&&a%l!=0&&(a=Math.floor(a/l)*l),b(s?y:v)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(g=new u(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var c,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;c=new h(p,f,p,f+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new u(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;d=new h(p,f,p,f+r.end.length);break}a=g.stepForward()}d&&t.remove(d),c&&(t.remove(c),o=c.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,o=r.$modes[i];o||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],a=function(e){!function(t){var n=s[e],i=t[n];t[s[e]]=function(){return this.$delegator(n,arguments,i)}}(l)},l=this;for(t=0;t<s.length;t++)a(t)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(s=this.$modes[r])return s[e].apply(s,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"===typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"===typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)if(/keyword|support|storage/.test(r[o].token[a])){i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((i=function(){this.HighlightRules=s}).prototype),t.Mode=i})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var s=[i,1].concat(t.lines);e.splice.apply(e,s),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,r)+o.substring(a):e.splice(i,l-i+1,o.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if((e.start.row!=e.end.row||e.start.row==this.row)&&!(e.start.row>this.row)){var t=function(e,t,n){var i="insert"==e.action,r=(i?1:-1)*(e.end.row-e.start.row),o=(i?1:-1)*(e.end.column-e.start.column),a=e.start,l=i?a:e.end;if(s(t,a,n))return{row:t.row,column:t.column};if(s(l,t,!n))return{row:t.row+r,column:t.column+(t.row==l.row?o:0)};return{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},e.prototype.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},e.prototype.detach=function(){this.document.off("change",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();function s(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}o.prototype.$insertRight=!1,i.implement(o.prototype,r),t.Anchor=o})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(){function e(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new a(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},e.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},e.prototype.getLine=function(e){return this.$lines[e]||""},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},e.prototype.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return void 0==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new s(r,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},e.prototype.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column},e.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},e}();l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",i.implement(l.prototype,o),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(){function e(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();i.implement(o.prototype,r),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./range").Range,o=function(){function e(e,t,n){void 0===n&&(n="text"),this.setRegexp(e),this.clazz=t,this.type=n}return e.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},e.prototype.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l={},c=s;c<=a;c++){var u=this.cache[c];null==u&&((u=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new r(c,e.offset,c,e.offset+e.length)})),this.cache[c]=u.length?u:"");for(var h=u.length;h--;){var d=u[h].toScreenRange(n),p=d.toString();l[p]||(l[p]=!0,t.drawSingleLineMarker(e,d,this.clazz,o))}}},e}();o.prototype.MAX_RANGES=500,t.SearchHighlight=o})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){function e(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},e.prototype.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},e.prototype.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)g(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)},e}();i.prototype.hasUndo=i.prototype.canUndo,i.prototype.hasRedo=i.prototype.canRedo,i.prototype.isClean=i.prototype.isAtBookmark,i.prototype.markClean=i.prototype.bookmark;var r=e("./range").Range,o=r.comparePoints;r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),p(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){p(e.start,t.start,t.end,n),p(e.end,t.start,t.end,n)}function p(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function f(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=h(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}t.UndoManager=i})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){function e(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},e.prototype.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},e.prototype.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},e.prototype.split=function(t,n){var i=this.getNextFoldTo(t,n);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new e(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},e.prototype.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},e.prototype.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}},e}();t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},e.prototype.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=r,r=n[o];var s=i(e.end,r.start);s<0||(0!=s||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},e.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},e.prototype.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((u=o[s]).end.row>=i)break}if("insert"==e.action)for(var l=r-i,c=-t.column+n.column;s<a;s++){if((u=o[s]).start.row>i)break;if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;s<a;s++){if((u=o[s]).start.row>r)break;u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}},e}();r.prototype.comparePoints=i,t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=function(e){function t(t,n){var i=e.call(this)||this;return i.foldLine=null,i.placeholder=n,i.range=t,i.start=t.start,i.end=t.end,i.sameRow=t.start.row==t.end.row,i.subFolds=i.ranges=[],i}return i(t,e),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},t.prototype.clone=function(){var e=new t(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,o(t.start,n),o(t.end,n);for(var i=e.start.row,r=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(i,r));s++);var l=this.subFolds[s],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=s;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(i,r));u++);0==a&&u++;for(var h=this.subFolds.splice(s,u-s,e),d=0==a?h.length-1:h.length,p=c;p<d;p++)e.addSubFold(h[p]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)},t}(e("../range_list").RangeList);function o(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}t.Fold=r})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator,a=e("../mouse/mouse_event").MouseEvent;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var g=i[f];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;n=e}for(var o=r=this.getFoldsInRangeList(n);1==r.length&&i.comparePoints(r[0].start,n.start)<0&&i.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(r):this.expandFolds(r),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var l=new RegExp(a),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));o=r.stepForward()}c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+o.value.length,r=new s(this,e,t);var u=this.getState(r.$row);if(-1!=n){var h=-1;do{if(o=r.stepForward(),-1==h){var d=this.getState(r.$row);u.toString()!==d.toString()&&(h=r.$row)}else if(r.$row>h)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn(),c}},this.foldAll=function(e,t,n,i){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){t instanceof a&&(t=t.domEvent);var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,o=!t&&n.charAt(e.column-1),s=o&&o.match(i);if(s||(o=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(i)),!s)return null;var a=new r(e.row,e.column-1,e.row,e.column),l=s[1]?this.$findClosingBracket(s[1],e):this.$findOpeningBracket(s[2],e);return l?[a,new r(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,o=t.value,s=0,a=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(-1!==(n=t).type.indexOf("tag-close")&&!c){var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(t=e.stepForward()){if(">"===t.value&&!c){u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(i=t.value))if("<"===n.value)s++;else if("</"===n.value&&--s<0){e.stepBackward();var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),!t||">"!==t.value)return;var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(o===i&&"/>"===t.value&&--s<0)p=d=h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),u=new r(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(t&&s>=0);if(a&&u&&h&&p&&l&&d)return{openTag:new r(a.start.row,a.start.column,u.end.row,u.end.column),closeTag:new r(h.start.row,h.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:d}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,o=0,s=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new r(s,a,s,l);e.stepForward();var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),t&&">"===t.value){var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,s=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++o>0){var d=new r(s,a,s,l),p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&o--}else if("/>"===t.value){for(var g=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){o--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var v=0;v<g;v++)e.stepForward()}}while(n&&o<=0);return p&&f&&c&&h&&d&&u?{openTag:new r(p.start.row,p.start.column,f.end.row,f.end.column),closeTag:new r(c.start.row,c.start.column,h.end.row,h.end.column),openTagName:d,closeTagName:u}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=e("./undomanager").UndoManager,g=function(){function e(t,n){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var i=this;this.bgTokenizer.on("update",(function(e){i._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(n),s._signal("session",this),this.destroyed=!1}return e.prototype.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},e.prototype.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=new f;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var i=new e(t.value);return t.folds.forEach((function(e){i.addFold("...",u.fromPoints(e.start,e.end))})),i.setAnnotations(t.annotations),i.setBreakpoints(t.breakpoints),i.setMode(t.mode),i.setScrollLeft(t.scrollLeft),i.setScrollTop(t.scrollTop),i.setUndoManager(n),i.selection.fromJSON(t.selection),i},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},e.prototype.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},e.prototype.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption("tabSize",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption("overwrite",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},e.prototype.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},e.prototype.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))r=/\s/;else r=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new u(e,o,e,s)},e.prototype.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption("useWorker",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},e.prototype.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},e.prototype.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},e.prototype.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(r=s.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=s.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=s.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(s.start,s.start))):i=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return i},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var a=e.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return o},e.prototype.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},e.prototype.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e);i=(t=this.$clipRowToDocument(t))-e+1}var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=r.row&&g.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,d);c=this.$foldData,u=0;if(g=this.getFoldLine(o)){var f=g.range.compareInside(i.row,i.column);0==f?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,r.column-i.column)):-1==f&&(g.addRemoveChars(o,0,r.column-i.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);l<=t;)(i=this.getFoldLine(l,i))?(n=[],i.walk(function(e,t,i,o){var s;if(null!=e){(s=this.$getDisplayTokens(e,n.length))[0]=y;for(var a=1;a<s.length;a++)s[a]=_}else s=this.$getDisplayTokens(r[t].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,a,o),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(n,a,o),l++)},e.prototype.$computeWrapSplits=function(e,t,n){if(0==e.length)return[];var i=[],r=e.length,o=0,s=0,a=this.$wrapAsCode,l=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===l?0:Math.floor(t/2);function u(t){for(var r=t-o,u=o;u<t;u++){var d=e[u];12!==d&&2!==d||(r-=1)}i.length||(h=function(){var t=0;if(0===c)return t;if(l)for(var i=0;i<e.length;i++){var r=e[i];if(r==w)t+=1;else{if(r!=x){if(r==A)continue;break}t+=n}}return a&&!1!==l&&(t+=n),Math.min(t,c)}(),i.indent=h),s+=r,i.push(s),o=t}for(var h=0;r-o>t-h;){var d=o+t-h;if(e[d-1]>=w&&e[d]>=w)u(d);else if(e[d]!=y&&e[d]!=_){for(var p=Math.max(d-(t-(t>>2)),o-1);d>p&&e[d]<y;)d--;if(a){for(;d>p&&e[d]<y;)d--;for(;d>p&&e[d]==b;)d--}else for(;d>p&&e[d]<w;)d--;d>p?u(++d):(e[d=o+t]==v&&d--,u(d-h))}else{for(;d!=o-1&&e[d]!=y;d--);if(d>o){u(d);continue}for(d=o+t;d<e.length&&e[d]==_;d++);if(d==e.length)break;u(d)}}return i},e.prototype.$getDisplayTokens=function(e,t){var n,i=[];t=t||0;for(var r=0;r<e.length;r++){var o=e.charCodeAt(r);if(9==o){n=this.getScreenTabSize(i.length+t),i.push(x);for(var s=1;s<n;s++)i.push(A)}else 32==o?i.push(w):o>39&&o<48||o>57&&o<64?i.push(b):o>=4352&&k(o)?i.push(m,v):i.push(m)}return i},e.prototype.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var i,r;for(null==t&&(t=1/0),n=n||0,r=0;r<e.length&&(9==(i=e.charCodeAt(r))?n+=this.getScreenTabSize(n):i>=4352&&k(i)?n+=2:n+=1,!(n>t));r++);return[n,r]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},e.prototype.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var p=this.getLength()-1,f=this.getNextFoldLine(o),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=p);)a+=l,++o>g&&(o=f.end.row+1,g=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>p)return{row:p,column:this.getLine(p).length};i=this.getLine(o),f=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(r=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],i=i.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),f?f.idxToPosition(s):{row:o,column:s}},e.prototype.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((s=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;f.length>=m[v];)r++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(f)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})},e.prototype.getPrecedingCharacter=function(){var e=this.selection.getCursor();return 0===e.column?0===e.row?"":this.doc.getNewLineCharacter():this.getLine(e.row)[e.column-1]},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},e}();g.$uid=0,g.prototype.$modes=s.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=k,i.implement(g.prototype,a);var m=1,v=2,y=3,_=4,b=9,w=10,x=11,A=12;function k(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){function e(){this.$options={}}return e.prototype.set=function(e){return r.mixin(this.$options,e),this},e.prototype.getOptions=function(){return i.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))||(i=null,!1)})),i},e.prototype.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var p=r[h],f=r[h+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var _=y[d];s.push(new o(v,_.offset,v,_.offset+_.length))}}if(n){var b=n.start.column,w=n.end.column;for(v=0,d=s.length-1;v<d&&s[v].start.column<b&&0==s[v].start.row;)v++;for(var x=n.end.row-n.start.row;v<d&&s[d].end.column>w&&s[d].end.row==x;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},e.prototype.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(n.regExp||(t=t.replace(/\$/g,"$$$$")),t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},e.prototype.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n));var r=e.caseSensitive?"gm":"gmi";try{new RegExp(n,"u"),e.$supportsUnicodeFlag=!0,r+="u"}catch(s){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(n=function(e,t){var n=i.supportsLookbehind();function r(e,i){return void 0===i&&(i=!0),(n&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?n&&t.$supportsUnicodeFlag?i?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var o=Array.from(e),s=o[0],a=o[o.length-1];return r(s)+e+r(a,!1)}(n,e)),e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(s){o=!1}return e.re=o},e.prototype.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(o){return!1}return i},e.prototype.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,o=0!=t.skipCurrent,s=n.unicode,a=t.range,l=t.start;l||(l=a?a[r?"end":"start"]:e.selection.getRange()),l.start&&(l=l[o!=r?"end":"start"]);var c=a?a.start.row:0,u=a?a.end.row:e.getLength()-1;if(r)var h=function(e){var n=l.row;if(!p(n,l.column,e)){for(n--;n>=c;n--)if(p(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=u,c=l.row;n>=c;n--)if(p(n,Number.MAX_VALUE,e))return}};else h=function(e){var n=l.row;if(!p(n,l.column,e)){for(n+=1;n<=u;n++)if(p(n,0,e))return;if(0!=t.wrap)for(n=c,u=l.row;n<=u;n++)if(p(n,0,e))return}};if(t.$isMultiLine)var d=n.length,p=function(t,i,o){var s=r?t-d+1:t;if(!(s<0||s+d>e.getLength())){var a=e.getLine(s),l=a.search(n[0]);if(!(!r&&l<i||-1===l)){for(var c=1;c<d;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var u=a.match(n[d-1])[0].length;if(!(r&&u>i))return!!o(s,l,s+d-1,u)||void 0}}};else if(r)p=function(t,r,o){var a,l=e.getLine(t),c=[],u=0;for(n.lastIndex=0;a=n.exec(l);){var h=a[0].length;if(u=a.index,!h){if(u>=l.length)break;n.lastIndex=u+=i.skipEmptyMatch(l,u,s)}if(a.index+h>r)break;c.push(a.index,h)}for(var d=c.length-1;d>=0;d-=2){var p=c[d-1];if(o(t,p,t,p+(h=c[d])))return!0}};else p=function(t,r,o){var a,l,c=e.getLine(t);for(n.lastIndex=r;l=n.exec(c);){var u=l[0].length;if(o(t,a=l.index,t,a+u))return!0;if(!u&&(n.lastIndex=a+=i.skipEmptyMatch(c,a,s),a>=c.length))return!1}};return{forEach:h}},e}();t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=e("../lib/keys"),o=e("../lib/useragent"),s=r.KEY_MODS,a=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},e.prototype.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(e),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,t,n)}),this)},e.prototype._addCommandToBinding=function(e,t,n){var i,r=this.commandKeyBinding;if(t)if(!r[e]||this.$singleCommand)r[e]=t;else{Array.isArray(r[e])?-1!=(i=r[e].indexOf(t))&&r[e].splice(i,1):r[e]=[r[e]],"number"!=typeof n&&(n=l(t));var o=r[e];for(i=0;i<o.length;i++){if(l(o[i])>n)break}o.splice(i,0,t)}else delete r[e]},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},e.prototype.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},e.prototype.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=s[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},e.prototype.getStatusText=function(e,t){return t.$keyChain||""},e}();function l(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var c=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.$singleCommand=!0,i}return i(t,e),t}(a);c.call=function(e,t,n){a.prototype.$init.call(e,t,n,!0)},a.call=function(e,t,n){a.prototype.$init.call(e,t,n,!1)},t.HashHandler=c,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,a=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.byName=i.commands,i.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),i}return i(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!this.canExecute(e,t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},t.prototype.canExecute=function(e,t){return"string"===typeof e&&(e=this.commands[e]),!!e&&(!(t&&t.$readOnly&&!e.readOnly)&&!(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t)))},t.prototype.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))},t}(o);r.implement(a.prototype,s),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom"),r=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},e.prototype.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=i.createElement("div"),e.el.textContent=e.text),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&i.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}},e}();t.LineWidgets=r})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../mouse/default_gutter_handler").GutterTooltip,o=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===i.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=i.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return null===t&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===n?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-e)<Math.abs(t-e)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new s(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==i.tab){if(e.keyCode===i.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==i.up)if(e.keyCode!==i.down){if(e.keyCode===i.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===i.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==i.enter&&e.keyCode!==i.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var n=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=n.right+"px",r.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},e.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n},e.prototype.$getFoldWidget=function(e){return this.lines.get(e).element.childNodes[1]},e.prototype.$getAnnotation=function(e){return this.lines.get(e).element.childNodes[2]},e.prototype.$findNearestFoldWidget=function(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusAnnotation=function(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveFoldWidgetDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveAnnotationUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$moveAnnotationDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$switchLane=function(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){if(this.lines.get(t).row==e)return t}return null},e}();t.GutterKeyboardHandler=o;var s=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return i.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},e.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},e}();t.GutterKeyboardEvent=s})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,u=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,p=e("./search").Search,f=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,y=e("./config"),_=e("./token_iterator").TokenIterator,b=e("./line_widgets").LineWidgets,w=e("./keyboard/gutter_handler").GutterKeyboardHandler,x=e("./config").nls,A=e("./clipboard"),k=e("./lib/keys"),C=function(){function e(t,n,i){this.session,this.$toDestroy=[];var r=t.getContainerElement();this.container=r,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new m(a.isMac?"mac":"win",v),"object"==typeof document&&(this.textInput=new l(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new u(this)),this.keyBinding=new h(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||i&&i.session||new d("")),y.resetOptions(this),i&&this.setOptions(i),y._signal("editor",this)}return e.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},e.prototype.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},e.prototype.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;y.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e){this.renderer.setStyle(e)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption("fontSize",e)},e.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),i=e.getKeyboardHandler(),r=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(n,r);if(!o){var s=new _(t,n.row,n.column).getCurrentToken();if(s&&/\b(?:tag-open|tag-name)/.test(s.type)){var a=t.getMatchingTags(n);a&&(o=[a.openTagName.isEmpty()?a.openTag:a.openTagName,a.closeTagName.isEmpty()?a.closeTag:a.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var l="ace_bracket";Array.isArray(o)?1==o.length&&(l="ace_error_bracket"):o=[o],2==o.length&&(0==f.comparePoints(o[0].end,o[1].start)?o=[f.fromPoints(o[0].start,o[1].end)]:0==f.comparePoints(o[0].start,o[1].end)&&(o=[f.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},e.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},e.prototype.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},e.prototype.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),A.lineMode=!!n&&s.text,s.text},e.prototype.onCopy=function(){this.commands.exec("copy",this)},e.prototype.onCut=function(){this.commands.exec("cut",this)},e.prototype.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},e.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===A.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=2==r.length&&(!r[0]||!r[1]);if(r.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=f.fromPoints(r,r)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},e.prototype.autoIndent=function(){for(var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new f(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),i="",r="",o="",s=e.getTabString(),a=0;a<n.length;a++)for(var l=n[a].start.row,c=n[a].end.row,u=l;u<=c;u++){u>0&&(i=e.getState(u-1),r=e.getLine(u-1),o=t.getNextLineIndent(i,r,s));var h=e.getLine(u),d=t.$getIndent(h);if(o!==d){if(d.length>0){var p=new f(u,0,u,d.length);e.remove(p)}o.length>0&&e.insert({row:u,column:0},o)}t.autoOutdent(i,e,u)}},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},e.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},e.prototype.setDragDelay=function(e){this.setOption("dragDelay",e)},e.prototype.getDragDelay=function(){return this.getOption("dragDelay")},e.prototype.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},e.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},e.prototype.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption("readOnly",e)},e.prototype.getReadOnly=function(){return this.getOption("readOnly")},e.prototype.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},e.prototype.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.session.widgetManager||(this.session.widgetManager=new b(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new f(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new f(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var i=e.getLine(t.start.row),r=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=s.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new f(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-i-1;o<0&&(o=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,o>=a&&o<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var p=h[d],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(p[f])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(s.escapeRegExp(p[f]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},e.prototype.findLinkAt=function(e,t){var n,r,o=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),s=t;s<0&&(s=0);var a,l=0,c=0;try{for(var u=i(o),h=u.next();!h.done;h=u.next()){var d=h.value;if(c=l+d.length,s>=l&&s<=c&&d.match(/((?:https?|ftp):\/\/[\S]+)/)){a=d.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(p){n={error:p}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n));n.start=o,n.end=s,e.setSelectionRange(n,i)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new _(this.session,n.row,n.column),r=i.getCurrentToken(),o=0;r&&-1!==r.type.indexOf("tag-name")&&(r=i.stepBackward());var s=r||i.stepForward();if(s){var a,l,c=!1,u={},h=n.column-s.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;h<s.value.length&&!c;h++)if(d[s.value[h]])switch(l=d[s.value[h]]+"."+s.type.replace("rparen","lparen"),isNaN(u[l])&&(u[l]=0),s.value[h]){case"(":case"[":case"{":u[l]++;break;case")":case"]":case"}":u[l]--,-1===u[l]&&(a="bracket",c=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(u[s.value])&&(u[s.value]=0),"<"===r.value&&o>1?u[s.value]++:"</"===r.value&&u[s.value]--,-1===u[s.value]&&(a="tag",c=!0));c||(r=s,o++,s=i.stepForward(),h=0)}while(s&&!c);if(a){var p,g;if("bracket"===a)(p=this.session.getBracketRange(n))||(g=(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(p=this.session.getBracketRange(g)));else if("tag"===a){if(!s||-1===s.type.indexOf("tag-name"))return;if(0===(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(p=m.closeTag).start:(p=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?p.end:p.start))}g=g||p.start}(g=p&&p.cursor||g)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},e.prototype.prompt=function(e,t,n){var i=this;y.loadModule("ace/ext/prompt",(function(r){r.prompt(i,e,t,n)}))},e}();C.$uid=0,C.prototype.curOp=null,C.prototype.prevOp={},C.prototype.$mergeableCommands=["backspace","del","insertstring"],C.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],r.implement(C.prototype,g),y.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?S.attach(this):S.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?S.attach(this):S.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},i=function(e){if(e.target==this.renderer.scroller&&e.keyCode===k.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(a.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",x("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",x("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",i.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",x("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",x("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new w(this)),t.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",i.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(e){this.$textInputAriaLabel=e},initialValue:""},enableMobileMenu:{set:function(e){this.$enableMobileMenu=e},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var S={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},e.prototype.createCell=function(e,t,n,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o},e}();t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=e("../config").nls,c=function(){function e(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[],type:[],displayText:[]});var s=n.text,a=n.text,l=n.type;s=s?o.escapeHTML(s):n.html||"",a=a||(n.html||""),-1===r.text.indexOf(s)&&(r.text.push(s),r.type.push(l),r.displayText.push(a));var c=n.className;c?r.className=c:"error"==l?r.className=" ace_error":"warning"==l&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=l||r.className||(r.className=" ace_info")}},e.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},e.prototype.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(l=r.end.row+1,o=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,u),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},e.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},e.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,u);this.$renderCell(a,e,o,r),i.push(a),r++}return i},e.prototype.$renderCell=function(e,t,n,r){var o=e.element,s=this.session,a=o.childNodes[0],c=o.childNodes[1],u=o.childNodes[2],h=u.firstChild,d=s.$firstLineNumber,p=s.$breakpoints,f=s.$decorations,g=s.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&s.foldWidgets,v=n?n.start.row:Number.MAX_VALUE,y=t.lineHeight+"px",_=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",b=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",w=(g?g.getText(s,r):r+d).toString();if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=v&&this.$cursorRow<=n.end.row)&&(_+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),p[r]&&(_+=p[r]),f[r]&&(_+=f[r]),this.$annotations[r]&&r!==v&&(_+=this.$annotations[r].className),m){var x=m[r];null==x&&(x=m[r]=s.getFoldWidget(r))}if(x){var A="ace_fold-widget ace_"+x,k="start"==x&&r==v&&r<n.end.row;if(k){A+=" ace_closed";for(var C="",S=!1,E=r+1;E<=n.end.row;E++)if(this.$annotations[E]){if(" ace_error"===this.$annotations[E].className){S=!0,C=" ace_error_fold";break}" ace_warning"!==this.$annotations[E].className||(S=!0,C=" ace_warning_fold")}_+=C}else A+=" ace_open";c.className!=A&&(c.className=A),i.setStyle(c.style,"height",y),i.setStyle(c.style,"display","inline-block"),c.setAttribute("role","button"),c.setAttribute("tabindex","-1");var T=s.getFoldWidgetRange(r);T?c.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[T.start.row+1,T.end.row+1])):n?c.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1])):c.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[r+1])),k?(c.setAttribute("aria-expanded","false"),c.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(c.setAttribute("aria-expanded","true"),c.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else c&&(i.setStyle(c.style,"display","none"),c.setAttribute("tabindex","0"),c.removeAttribute("role"),c.removeAttribute("aria-label"));if(S&&this.$showFoldedAnnotations){switch(u.className="ace_gutter_annotation",h.className=b,h.className+=C,i.setStyle(h.style,"height",y),i.setStyle(u.style,"display","block"),i.setStyle(u.style,"height",y),C){case" ace_error_fold":I=l("gutter.annotation.aria-label.error","Read annotations row $0",[w]);break;case" ace_warning_fold":I=l("gutter.annotation.aria-label.warning","Read annotations row $0",[w])}u.setAttribute("aria-label",I),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else if(this.$annotations[r]){var I;switch(u.className="ace_gutter_annotation",h.className=b,this.$useSvgGutterIcons?h.className+=this.$annotations[r].className:o.classList.add(this.$annotations[r].className.replace(" ","")),i.setStyle(h.style,"height",y),i.setStyle(u.style,"display","block"),i.setStyle(u.style,"height",y),this.$annotations[r].className){case" ace_error":I=l("gutter.annotation.aria-label.error","Read annotations row $0",[w]);break;case" ace_warning":I=l("gutter.annotation.aria-label.warning","Read annotations row $0",[w]);break;case" ace_info":I=l("gutter.annotation.aria-label.info","Read annotations row $0",[w])}u.setAttribute("aria-label",I),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else i.setStyle(u.style,"display","none"),u.removeAttribute("aria-label"),u.removeAttribute("role"),u.setAttribute("tabindex","0");return w!==a.data&&(a.data=w),o.className!=_&&(o.className=_),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,s)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,s)+"px"),e.text=w,"none"===u.style.display&&"none"===c.style.display?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0},e}();function u(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");e.appendChild(n);var r=i.createElement("span");e.appendChild(r);var o=i.createElement("span");return r.appendChild(o),e}c.prototype.$fixedWidth=!1,c.prototype.$highlightGutterLine=!0,c.prototype.$renderer="",c.prototype.$showLineNumbers=!0,c.prototype.$showFoldWidgets=!0,r.implement(c.prototype,s),t.Gutter=c})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),o=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,t,n,r,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),p=new i(c,t.start.column,c,h);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?t.start.column:s.getRowWrapIndent(c),p.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),r,c==l?0:1,o)},e.prototype.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(r||""))}if(!((s=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(r||""))}},e.prototype.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+(e.width+(r||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},e.prototype.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},e.prototype.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},e}();o.prototype.$padding=0,t.Marker=o})),ace.define("ace/layer/text_util",["require","exports","module"],(function(e,t,n){var i=new Set(["text","rparen","lparen"]);t.isTextToken=function(e){return i.has(e)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=e("../config").nls,c=e("./text_util").isTextToken,u=function(){function e(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+s,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),o++}return i},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,i){for(var r,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,u=this.dom.createFragment(this.element),h=0;r=a.exec(i);){var d=r[1],p=r[2],f=r[3],g=r[4],m=r[5];if(s.showSpaces||!p){var v=h!=r.index?i.slice(h,r.index):"";if(h=r.index+r[0].length,v&&u.appendChild(this.dom.createTextNode(v,this.element)),d){var y=s.session.getScreenTabSize(t+r.index);u.appendChild(s.$tabStrings[y].cloneNode(!0)),t+=y-1}else if(p){if(s.showSpaces)(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=o.stringRepeat(s.SPACE_CHAR,p.length),u.appendChild(b);else u.appendChild(this.dom.createTextNode(p,this.element))}else if(f){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=o.stringRepeat(s.SPACE_CHAR,f.length),u.appendChild(b)}else if(g){t+=1,(b=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",b.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=s.showSpaces?s.SPACE_CHAR:g,u.appendChild(b)}else if(m){t+=1,(b=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",b.className="ace_cjk",b.textContent=m,u.appendChild(b)}}}if(u.appendChild(this.dom.createTextNode(h?i.slice(h):i,this.element)),c(n.type))e.appendChild(u);else{var _="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px",b.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),b.className=_,b.appendChild(u),e.appendChild(b)}return t+i.length},e.prototype.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,o=0;o<r.length;o++)if(t.row!==r[o].start.row){this.$highlightIndentGuideMarker.end=r[o].start.row,t.row>r[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(o=t.row+1;o<e.length;o++){var s=e[o],a=/^\s*/.exec(s)[0].length;if(""!==s&&(this.$highlightIndentGuideMarker.end=o,a<=n))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}},e.prototype.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var i=n[t-1];i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--){i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}}},e.prototype.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},e.prototype.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;i-=h.length}if(i+h.length<s)a=this.$renderToken(l,a,u,h),i+=h.length;else{for(;i+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("\xa0",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},e.prototype.$renderSimpleLine=function(e,t){for(var n=0,i=0;i<t.length;i++){var r=t[i],o=r.value;if(0!=i||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,o);n=this.$renderToken(e,n,r,o)}}},e.prototype.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},e.prototype.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,i,o);r=e.lastChild}else{r=e;this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i)}}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},e.prototype.$getFoldLineTokens=function(e,t){var n=this.session,i=[];var r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((s=e[r].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1);o<n&&r<e.length;){var s;(s=e[r].value).length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();u.prototype.EOF_CHAR="\xb6",u.prototype.EOL_CHAR_LF="\xac",u.prototype.EOL_CHAR_CRLF="\xa4",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="\u2014",u.prototype.SPACE_CHAR="\xb7",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,i.implement(u.prototype,a),t.Text=u})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(){function e(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},e.prototype.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(i.setStyle(l,"display","block"),i.translate(a,s.left,s.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();r.prototype.$padding=0,r.prototype.drawCursor=null,t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,l=32768,c=function(){function e(e,t){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();r.implement(c.prototype,a);var u=function(e){function t(t,n){var i=e.call(this,t,"-v")||this;return i.scrollTop=0,i.scrollHeight=0,n.$scrollbarWidth=i.width=o.scrollbarWidth(t.ownerDocument),i.inner.style.width=i.element.style.width=(i.width||15)+5+"px",i.$minWidth=0,i}return i(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>l?(this.coeff=l/e,e=l):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(c);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var h=function(e){function t(t,n){var i=e.call(this,t,"-h")||this;return i.scrollLeft=0,i.height=n.$scrollbarWidth,i.inner.style.height=i.element.style.height=(i.height||15)+5+"px",i}return i(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(c);t.ScrollBar=u,t.ScrollBarV=u,t.ScrollBarH=h,t.VScrollBar=u,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;o.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var l=function(){function e(e,t){this.element=o.createElement("div"),this.element.className="ace_sb"+t,this.inner=o.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();r.implement(l.prototype,a);var c=function(e){function t(t,n){var i=e.call(this,t,"-v")||this;return i.scrollTop=0,i.scrollHeight=0,i.parent=t,i.width=i.VScrollWidth,i.renderer=n,i.inner.style.width=i.element.style.width=(i.width||15)+"px",i.$minWidth=0,i}return i(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,r=t.clientY,o=this.thumbTop;s.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(o+i-r);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t|=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},t}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var u=function(e){function t(t,n){var i=e.call(this,t,"-h")||this;return i.scrollLeft=0,i.scrollWidth=0,i.height=i.HScrollHeight,i.inner.style.height=i.element.style.height=(i.height||12)+"px",i.renderer=n,i}return i(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,r=t.clientX,o=this.thumbLeft;s.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(o+i-r);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t|=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},t}(l);u.prototype.setInnerWidth=u.prototype.setScrollWidth,t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(){function e(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(e){var t=this.changes;return this.changes=0,t},e}();t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=512,u="function"==typeof ResizeObserver,h=200,d=function(){function e(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},e.prototype.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},e.prototype.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return e&&e.parentElement?(Number(window.getComputedStyle(e).zoom)||1)*this.$getZoom(e.parentElement):1},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},e.prototype.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),u=s(this.els[3]),d=n(i(u,l),i(u,c),i(r(l,c),r(u,a))),p=o(1+d[0],i(l,a)),f=o(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/h+d[1]*g[1]/h+1,v=r(o(g[0],p),o(g[1],f));return r(o(1/m/h,v),a)}var y=i(e,a),_=n(i(p,o(d[0],y)),i(f,o(d[1],y)),y);return o(h,_)},e}();d.prototype.$characterSize={width:0,height:0},i.implement(d.prototype,l),t.FontMetrics=d})),ace.define("ace/css/editor-css",["require","exports","module"],(function(e,t,n){n.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    position: relative;\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n    z-index: 1;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text_container > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "\u21a9";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}\n\n.ace_hidden_token {\n    display: none;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event_emitter").EventEmitter,s=function(){function e(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var r={info:1,warning:2,error:3};i.forEach((function(e){e.priority=r[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,s=0;s<i.length;s++){var a=i[s].row,l=this.compensateFoldRows(a,o),c=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-u<this.minDecorationHeight){var d=(u+h)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(d-this.halfMinDecorationHeight),h=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[i[s].type]||null,n.fillRect(0,c,this.canvasWidth,h-u)}}var p=this.renderer.session.selection.getCursor();if(p){l=this.compensateFoldRows(p.row,o),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n},e}();r.implement(s.prototype,o),t.Decorator=s})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./config"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,p=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,g=e("./renderloop").RenderLoop,m=e("./layer/font_metrics").FontMetrics,v=e("./lib/event_emitter").EventEmitter,y=e("./css/editor-css"),_=e("./layer/decorators").Decorator,b=e("./lib/useragent"),w=e("./layer/text_util").isTextToken;r.importCssString(y,"ace_editor.css",!1);var x=function(){function e(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==s.get("useStrictCSP")&&s.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},e.prototype.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},e.prototype.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),!i&&this.$maxLines&&this.lineHeight>1&&(r.style.height&&"0px"!=r.style.height||(r.style.height="1px",i=r.clientHeight||r.scrollHeight)),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},e.prototype.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(i&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(s.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(s.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},e.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},e.prototype.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},e.prototype.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},e.prototype.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},e.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},e.prototype.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},e.prototype.getShowGutter=function(){return this.getOption("showGutter")},e.prototype.setShowGutter=function(e){return this.setOption("showGutter",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left;o-=i.offset;var a=t&&t.useTextareaForIME||b.isMobile?this.lineHeight:1;if(o<0||o>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else r.translate(this.textarea,-100,0)}},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";r.setStyle(this.content.style,"width",o),r.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var p,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,_=this.lineHeight;v=e.screenToDocumentRow(v,0);var b=e.getFoldLine(v);b&&(v=b.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*_,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*_+f,g=this.scrollTop-p*_;var w=0;return(this.layerConfig.width!=r||s)&&(w=this.CHANGE_H_SCROLL),(s||d)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:_,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:_?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/_)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w},e.prototype.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,u=2*this.layerConfig.characterWidth;r-u<c?((r-=u)<this.$padding+u&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):(r+=u,c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0))}},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},e.prototype.$calcSteps=function(e,t){var n,i,r=0,o=this.STEPS,s=[];for(r=0;r<o;++r)s.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return s},e.prototype.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},e.prototype.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):s()):clearInterval(i.$timer);s()}),10)}}function s(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},e.prototype.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},e.prototype.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,i=t||{row:n.row,column:n.column};this.removeGhostText();var o=this.$calculateWrappedTextChunks(e,i);this.addToken(o[0].text,"ghost_text",i.row,i.column),this.$ghostText={text:e,position:{row:i.row,column:i.column}};var s=r.createElement("div");if(o.length>1){var a,l=this.hideTokensAfterPosition(i.row,i.column);o.slice(1).forEach((function(e){var t=r.createElement("div"),n=r.createElement("span");n.className="ace_ghost_text",e.wrapped&&(t.className="ghost_text_line_wrapped"),0===e.text.length&&(e.text=" "),n.appendChild(r.createTextNode(e.text)),t.appendChild(n),s.appendChild(t),a=t})),l.forEach((function(e){var t=r.createElement("span");w(e.type)||(t.className="ace_"+e.type.replace(/\./g," ace_")),t.appendChild(r.createTextNode(e.value)),a.appendChild(t)})),this.$ghostTextWidget={el:s,row:i.row,column:i.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var c=this.$cursorLayer.getPixelPosition(i,!0),u=this.container.getBoundingClientRect().height,h=o.length*this.lineHeight;if(h<u-c.top)return;h<u?this.scrollBy(0,(o.length-1)*this.lineHeight):this.scrollToRow(i.row)}},e.prototype.$calculateWrappedTextChunks=function(e,t){var n=this.$size.scrollerWidth-2*this.$padding,i=Math.floor(n/this.characterWidth)-2;i=i<=0?60:i;for(var r=e.split(/\r?\n/),o=[],s=0;s<r.length;s++){var a=this.session.$getDisplayTokens(r[s],t.column),l=this.session.$computeWrapSplits(a,i,this.session.$tabSize);if(l.length>0){var c=0;l.push(r[s].length);for(var u=0;u<l.length;u++){var h=r[s].slice(c,l[u]);o.push({text:h,wrapped:!0}),c=l[u]}}else o.push({text:r[s],wrapped:!1})}return o},e.prototype.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},e.prototype.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null!=i&&s.length)for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}else s.push(o);this.updateLines(n,n)},e.prototype.hideTokensAfterPosition=function(e,t){for(var n=this.session.getTokens(e),i=0,r=!1,o=[],s=0;s<n.length;s++){var a=n[s];i+=a.value.length,"ghost_text"!==a.type&&(r?(o.push({type:a.type,value:a.value}),a.type="hidden_token"):i===t&&(r=!0))}return this.updateLines(e,e),o},e.prototype.removeExtraToken=function(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)o(e);else{var i=e||this.$options.theme.initialValue;s.loadModule(["theme",i],o)}function o(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t(),b.isSafari&&n.scroller&&(n.scroller.style.background="red",n.scroller.style.background="")}},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},e.prototype.unsetStyle=function(e){r.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.attachToShadowRoot=function(){r.importCssString(y,"ace_editor.css",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new _(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))},e.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=o.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.width,i=t[0].contentRect.height;Math.abs(e.$size.width-n)>1||Math.abs(e.$size.height-i)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},e}();x.prototype.CHANGE_CURSOR=1,x.prototype.CHANGE_MARKER=2,x.prototype.CHANGE_GUTTER=4,x.prototype.CHANGE_SCROLL=8,x.prototype.CHANGE_LINES=16,x.prototype.CHANGE_TEXT=32,x.prototype.CHANGE_SIZE=64,x.prototype.CHANGE_MARKER_BACK=128,x.prototype.CHANGE_MARKER_FRONT=256,x.prototype.CHANGE_FULL=512,x.prototype.CHANGE_H_SCROLL=1024,x.prototype.$changes=0,x.prototype.$padding=null,x.prototype.$frozen=!1,x.prototype.STEPS=8,i.implement(x.prototype,v),s.defineOptions(x.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=x})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(i){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)r=r||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;r=r||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(){function e(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o};this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},e.prototype.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();o.implement(s.prototype,r),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(f,g),v=e.x,y=e.y,_=h.session,b=h.renderer.pixelToScreenCoordinates(v,y),w=b;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var x=d.toOrientedRange();h.addSelectionMarker(x)}var A=d.rangeList.rangeAtPoint(f);h.inVirtualSelectionMode=!0,s&&(A=null,x=d.ranges[0]||x,h.removeSelectionMarker(x)),h.once("mouseup",(function(){var e=d.toOrientedRange();A&&e.isEmpty()&&o(A.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(x.cursor):x&&(h.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var k;e.stop(),h.inVirtualSelectionMode=!0;var C=[],S=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=_.screenToDocumentPosition(e.row,e.column,e.offsetX);o(w,e)&&o(t,d.lead)||(w=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(C),C=d.rectangularRangeBlock(w,b),h.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=h.$mouseHandler.$clickSelection.clone()),C.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(k=d.toOrientedRange(),h.addSelectionMarker(k)),s?b=_.documentToScreenPosition(d.lead):d.moveToPosition(f),w={row:-1,column:-1};var E=S;i.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){S(),clearInterval(T),h.removeSelectionMarkers(C),C.length||(C=[d.toOrientedRange()]),k&&(h.removeSelectionMarker(k),d.toSingleRange(k));for(var t=0;t<C.length;t++)d.addRange(C[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var T=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,p=e.row<t.row;if(p)var f=e.row,g=t.row;else f=t.row,g=e.row;s<0&&(s=0),f<0&&(f=0),f==g&&(n=!0);for(var m=f;m<=g;m++){var v=r.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(u&&(h=v.end,d=u,h.row==d.row&&h.column==d.column))break;u=v.end}v.cursor=o?v.start:v.end,i.push(v)}if(p&&i.reverse(),!n){for(var y=i.length-1;i[y].isEmpty()&&y>0;)y--;if(y>0)for(var _=0;i[_].isEmpty();)_++;for(var b=y;b>=_;b--)i[b].isEmpty()&&i.splice(b,1)}return i}}.call(o.prototype);var d=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),d.toOrientedRange(u[p])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);i?(s=r.fromPoints(a,c)).cursor=s.start:(s=r.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;){var a=i[r];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(r=i.length;r--;){var l=(a=i[r]).clone();t.replace(a,s[r]),a.start.row=l.start.row,a.start.column=l.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,u=c[n]-a;o>u?e.insert(i,l.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,p=h==d;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<g);do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,p),this.session.insert({row:h,column:0},m.join("\n")+"\n"),p||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var p=e.getLine(u).length;return new i(c,a,u,p)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range,s=e("../config").nls;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var a=e.getCursorPosition(),l=a.row,c=n.widgetManager.getWidgetsAtRow(l).filter((function(e){return"errorMarker"==e.type}))[0];c?c.destroy():l-=t;var u,h=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(n,l,t);if(h){var d=h[0];a.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,a.row=d.row,u=e.renderer.$gutterLayer.$annotations[a.row]}else{if(c)return;u={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var p={row:a.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=p.el.appendChild(r.createElement("div")),g=p.el.appendChild(r.createElement("div"));g.className="error_widget_arrow "+u.className;var m=e.renderer.$cursorLayer.getPixelPosition(a).left;g.style.left=m+e.renderer.gutterWidth-5+"px",p.el.className="error_widget_wrapper",f.className="error_widget "+u.className,u.displayText.forEach((function(e,t){f.appendChild(r.createTextNode(e)),t<u.displayText.length-1&&f.appendChild(r.createElement("br"))})),f.appendChild(r.createElement("div"));var v=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return p.destroy(),{command:"null"}};p.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(v),n.widgetManager.removeLineWidget(p),e.off("changeSelection",p.destroy),e.off("changeSession",p.destroy),e.off("mouseup",p.destroy),e.off("change",p.destroy))},e.keyBinding.addKeyboardHandler(v),e.on("changeSelection",p.destroy),e.on("changeSession",p.destroy),e.on("mouseup",p.destroy),e.on("change",p.destroy),e.session.widgetManager.addLineWidget(p),p.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:p.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var i=e("./lib/dom"),r=e("./range").Range,o=e("./editor").Editor,s=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var r=e;if(!(e=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;s=a.value,e=i.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),u=new o(new l(e),c,n),h={document:c,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),u.on("destroy",(function(){h.editor.container.env=null})),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new a),n},t.Range=r,t.Editor=o,t.EditSession=s,t.UndoManager=a,t.VirtualRenderer=l,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){t&&(t.config.init(!0),t.define=ace.define);var n=function(){return this}();for(var i in n||"undefined"==typeof window||(n=window),n||"undefined"==typeof self||(n=self),n.ace||(n.ace=t),t)t.hasOwnProperty(i)&&(n.ace[i]=t[i]);n.ace.default=n.ace,e&&(e.exports=n.ace)}))},454:(e,t,n)=>{e=n.nmd(e),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(e,t,n){"use strict";var i=e("./lib/dom"),r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),a=e("./range").Range,l=e("./range_list").RangeList,c=e("./keyboard/hash_handler").HashHandler,u=e("./tokenizer").Tokenizer,h=e("./clipboard"),d={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var i=e.session.getTextRange();return n?i.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):i},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return h.getText&&h.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:p.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:p.bind(null,{year:"2-digit"}),CURRENT_MONTH:p.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:p.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:p.bind(null,{month:"short"}),CURRENT_DATE:p.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:p.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:p.bind(null,{weekday:"short"}),CURRENT_HOUR:p.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:p.bind(null,{minute:"2-digit"}),CURRENT_SECOND:p.bind(null,{second:"2-digit"})};function p(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}d.SELECTED_TEXT=d.SELECTION;var f=function(){function e(){this.snippetMap={},this.snippetNameMap={},this.variables=d}return e.prototype.getTokenizer=function(){return e.$tokenizer||this.createTokenizer()},e.prototype.createTokenizer=function(){function t(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function n(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var i={regex:"/("+n("/")+"+)/",onMatch:function(e,t,n){var i=n[0];return i.fmtString=!0,i.guard=e.slice(1,-1),i.flag="",""},next:"formatString"};return e.$tokenizer=new u({start:[{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return("}"==i&&n.length||-1!="`$\\".indexOf(i))&&(e=i),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,n,i){var r=t(e.substr(1));return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+n("\\|")+"*\\|",onMatch:function(e,t,n){var i=e.slice(1,-1).replace(/\\[,|\\]|,/g,(function(e){return 2==e.length?e[1]:"\0"})).split("\0").map((function(e){return{value:e}}));return n[0].choices=i,[i[0]]},next:"start"},i,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?e=i:"n"==i?e="\n":"t"==i?e="\t":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var i=n.shift();return i&&(i.flag=e.slice(1,-1)),this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var i={text:e.slice(2)};return n.unshift(i),[i]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var i=n.shift();return this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},i,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),e.$tokenizer},e.prototype.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},e.prototype.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var i=this.variables[t];return"function"==typeof i&&(i=this.variables[t](e,t,n)),null==i?"":i},e.prototype.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var i=t.flag||"",r=t.guard;r=new RegExp(r,i.replace(/[^gim]/g,""));var o="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,s=this,a=e.replace(r,(function(){var e=s.variables.__;s.variables.__=[].slice.call(arguments);for(var t=s.resolveVariables(o,n),i="E",r=0;r<t.length;r++){var a=t[r];if("object"==typeof a)if(t[r]="",a.changeCase&&a.local){var l=t[r+1];l&&"string"==typeof l&&("u"==a.changeCase?t[r]=l[0].toUpperCase():t[r]=l[0].toLowerCase(),t[r+1]=l.substr(1))}else a.changeCase&&(i=a.changeCase);else"U"==i?t[r]=a.toUpperCase():"L"==i&&(t[r]=a.toLowerCase())}return s.variables.__=e,t.join("")}));return a},e.prototype.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},e.prototype.resolveVariables=function(e,t){for(var n=[],i="",r=!0,o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){if(s){if(r=!1,s.fmtString){var a=e.indexOf(s,o+1);-1==a&&(a=e.length),s.fmt=e.slice(o+1,a),o=a}if(s.text){var l=this.getVariableValue(t,s.text,i)+"";s.fmtString&&(l=this.tmStrFormat(l,s,t)),s.formatFunction&&(l=this.tmFormatFunction(l,s,t)),l&&!s.ifEnd?(n.push(l),c(s)):!l&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&n.push(s)}}else n.push(s),"\n"==s?(r=!0,i=""):r&&(i=/^\t*/.exec(s)[0],r=/\S/.test(s))}function c(t){var n=e.indexOf(t,o+1);-1!=n&&(o=n)}return n},e.prototype.getDisplayTextForSnippet=function(e,t){return g.call(this,e,t).text},e.prototype.insertSnippetForSelection=function(e,t,n){void 0===n&&(n={});var i=g.call(this,e,t,n),r=e.getSelectionRange(),o=e.session.replace(r,i.text),s=new m(e),a=e.inVirtualSelectionMode&&e.selection.index;s.addTabstops(i.tabstops,r.start,o,a)},e.prototype.insertSnippet=function(e,t,n){void 0===n&&(n={});var i=this;if(e.inVirtualSelectionMode)return i.insertSnippetForSelection(e,t,n);e.forEachSelection((function(){i.insertSnippetForSelection(e,t,n)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},e.prototype.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),i=e.session.getState(n.row);"object"===typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},e.prototype.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&n.push.apply(n,i[t].includeScopes),n.push("_"),n},e.prototype.expandWithTab=function(e,t){var n=this,i=e.forEachSelection((function(){return n.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},e.prototype.expandSnippetForSelection=function(e,t){var n,i=e.getCursorPosition(),r=e.session.getLine(i.row),o=r.substring(0,i.column),s=r.substr(i.column),a=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=a[e];return t&&(n=this.findMatchingSnippet(t,o,s)),!!n}),this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},e.prototype.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var r=e[i];if((!r.startRe||r.startRe.test(t))&&((!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe)))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},e.prototype.register=function(e,t){var n=this.snippetMap,i=this.snippetNameMap,r=this;function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function a(e,t,n){return e=o(e),t=o(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],i[t]={});var o=i[t];if(e.name){var l=o[e.name];l&&r.unregister(l),o[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=a(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=a(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}e||(e=[]),Array.isArray(e)?e.forEach(l):Object.keys(e).forEach((function(t){l(e[t])})),this._signal("registerSnippets",{scope:t})},e.prototype.unregister=function(e,t){var n=this.snippetMap,i=this.snippetNameMap;function r(e){var r=i[e.scope||t];if(r&&r[e.name]){delete r[e.name];var o=n[e.scope||t],s=o&&o.indexOf(e);s>=0&&o.splice(s,1)}}e.content?r(e):Array.isArray(e)&&e.forEach(r)},e.prototype.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=r.exec(e);){if(t[1])try{i=JSON.parse(t[1]),n.push(i)}catch(l){}if(t[4])i.content=t[4].replace(/^\t/gm,""),n.push(i),i={};else{var o=t[2],s=t[3];if("regex"==o){var a=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=a.exec(s)[1],i.trigger=a.exec(s)[1],i.endTrigger=a.exec(s)[1],i.endGuard=a.exec(s)[1]}else"snippet"==o?(i.tabTrigger=s.match(/^\S*/)[0],i.name||(i.name=s)):o&&(i[o]=s)}}return n},e.prototype.getSnippetByName=function(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var r=i[t];return r&&(n=r[e]),!!n}),this),n},e}();r.implement(f.prototype,o);var g=function(e,t,n){void 0===n&&(n={});var i=e.getCursorPosition(),r=e.session.getLine(i.row),o=e.session.getTabString(),s=r.match(/^\s*/)[0];i.column<s.length&&(s=s.slice(0,i.column)),t=t.replace(/\r/g,"");var a=this.tokenizeTmSnippet(t);a=(a=this.resolveVariables(a,e)).map((function(e){return"\n"!=e||n.excludeExtraIndent?"string"==typeof e?e.replace(/\t/g,o):e:e+s}));var l=[];a.forEach((function(e,t){if("object"==typeof e){var n=e.tabstopId,i=l[n];if(i||((i=l[n]=[]).index=n,i.value="",i.parents={}),-1===i.indexOf(e)){e.choices&&!i.choices&&(i.choices=e.choices),i.push(e);var r=a.indexOf(e,t+1);if(-1!==r){var o=a.slice(t+1,r);o.some((function(e){return"object"===typeof e}))&&!i.value?i.value=o:!o.length||i.value&&"string"===typeof i.value||(i.value=o.join(""))}}}})),l.forEach((function(e){e.length=0}));var c={};function u(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if("object"==typeof i){if(c[i.tabstopId])continue;i=t[e.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}t[n]=i}return t}for(var h=0;h<a.length;h++){var d=a[h];if("object"==typeof d){var p=d.tabstopId,f=l[p],g=a.indexOf(d,h+1);if(c[p])c[p]===d&&(delete c[p],Object.keys(c).forEach((function(e){f.parents[e]=!0})));else{c[p]=d;var m=f.value;"string"!==typeof m?m=u(m):d.fmt&&(m=this.tmStrFormat(m,d,e)),a.splice.apply(a,[h+1,Math.max(0,g-h)].concat(m,d)),-1===f.indexOf(d)&&f.push(d)}}}var v=0,y=0,_="";return a.forEach((function(e){if("string"===typeof e){var t=e.split("\n");t.length>1?(y=t[t.length-1].length,v+=t.length-1):y+=e.length,_+=e}else e&&(e.start?e.end={row:v,column:y}:e.start={row:v,column:y})})),{text:_,tabstops:l,tokens:a}},m=function(){function e(e){if(this.index=0,this.ranges=[],this.tabstops=[],e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)}return e.prototype.attach=function(e){this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.session=e.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},e.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},e.prototype.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},i=n.parents||{},r=this.tabstops.slice(),o=0;o<r.length;o++){var s=r[o],a=s==n||i[s.index];if(s.rangeList.$bias=a?0:1,"remove"==e.action&&s!==n){var l=s.parents&&s.parents[n.index],c=s.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=s.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var h=s.rangeList.ranges.slice(c,u),d=0;d<h.length;d++)this.removeRange(h[d])}s.rangeList.$onChange(e)}var p=this.session;this.$inChange||!t||1!=p.getLength()||p.getValue()||this.detach()},e.prototype.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var n=this.session,i=n.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var o=e[r];if(o.linked){var s=o.original,a=t.snippetManager.tmStrFormat(i,s,this.editor);n.replace(o,a)}}this.$inChange=!1}},e.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},e.prototype.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var r=this.ranges[i].contains(e.row,e.column),o=n||this.ranges[i].contains(t.row,t.column);if(r&&o)return}this.detach()}},e.prototype.onChangeSession=function(){this.detach()},e.prototype.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),this.updateTabstopMarkers(),0===n&&this.detach()},e.prototype.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(t.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var i=this.editor.multiSelect;i.toSingleRange(n);for(var r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},e.prototype.addTabstops=function(e,t,n){var i=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var r=a.fromPoints(n,n);y(r.start,t),y(r.end,t),e[0]=[r],e[0].index=0}var o=[this.index+1,0],s=this.ranges,c=this.snippetId=(this.snippetId||0)+1;e.forEach((function(e,n){var r=this.$openTabstops[n]||e;r.snippetId=c;for(var u=0;u<e.length;u++){var h=e[u],d=a.fromPoints(h.start,h.end||h.start);v(d.start,t),v(d.end,t),d.original=h,d.tabstop=r,s.push(d),r!=e?r.unshift(d):r[u]=d,h.fmtString||r.firstNonLinked&&i?(d.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=d)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===e&&(o.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new l,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},e.prototype.addTabstopMarkers=function(e){var t=this.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},e.prototype.removeTabstopMarkers=function(e){var t=this.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},e.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var e=this.selectedTabstop.snippetId;0===this.selectedTabstop.index&&e--,this.tabstops.forEach((function(t){t.snippetId===e?this.addTabstopMarkers(t):this.removeTabstopMarkers(t)}),this)}},e.prototype.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},e}();m.prototype.keyboardHandler=new c,m.prototype.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}});var v=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},y=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};i.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),t.snippetManager=new f;var _=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(_.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../virtual_renderer").VirtualRenderer,r=e("../editor").Editor,o=e("../range").Range,s=e("../lib/event"),a=e("../lib/lang"),l=e("../lib/dom"),c=e("../config").nls,u=e("./../lib/useragent"),h=function(e){return"suggest-aria-id:".concat(e)},d=u.isSafari?"menu":"listbox",p=u.isSafari?"menuitem":"option",f=u.isSafari?"aria-current":"aria-selected",g=function(e){var t=new i(e);t.$maxLines=4;var n=new r(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n},m=function(e){var t=l.createElement("div"),n=g(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.renderer.$textLayer.element.setAttribute("role",d),n.renderer.$textLayer.element.setAttribute("aria-roledescription",c("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),n.renderer.$textLayer.element.setAttribute("aria-label",c("autocomplete.popup.aria-label","Autocomplete suggestions")),n.renderer.textarea.setAttribute("aria-hidden","true"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i,r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity="0",n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),m.start.row=m.end.row=t.row,e.stop()}));var u=new o(-1,0,-1,1/0),m=new o(-1,0,-1,1/0);m.id=n.session.addMarker(m,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=n.renderer.scrollTop,n.isMouseOver=!0;var t=i.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),y(t))}}else i=e})),n.renderer.on("beforeRender",(function(){if(i&&-1!=u.start.row){i.$pos=null;var e=i.getDocumentPosition().row;u.id||n.setRow(e),y(e,!0)}})),n.renderer.on("afterRender",(function(){var e=n.getRow(),t=n.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow],r=document.activeElement;if(i!==n.selectedNode&&n.selectedNode&&(l.removeCssClass(n.selectedNode,"ace_selected"),r.removeAttribute("aria-activedescendant"),n.selectedNode.removeAttribute(f),n.selectedNode.removeAttribute("id")),n.selectedNode=i,i){l.addCssClass(i,"ace_selected");var o=h(e);i.id=o,t.element.setAttribute("aria-activedescendant",o),r.setAttribute("aria-activedescendant",o),i.setAttribute("role",p),i.setAttribute("aria-roledescription",c("autocomplete.popup.item.aria-roledescription","item")),i.setAttribute("aria-label",n.getData(e).caption||n.getData(e).value),i.setAttribute("aria-setsize",n.data.length),i.setAttribute("aria-posinset",e+1),i.setAttribute("aria-describedby","doc-tooltip"),i.setAttribute(f,"true")}}));var v=function(){y(-1)},y=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},s.addListener(n.container,"mouseout",(function(){n.isMouseOver=!1,v()})),n.on("hide",v),n.on("changeSelection",v),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var _=n.session.bgTokenizer;return _.$tokenizeRow=function(e){var t=n.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t});var r=t.caption||t.value||t.name;function o(e,n){e&&i.push({type:(t.className||"")+(n||""),value:e})}for(var s=r.toLowerCase(),a=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=a.length;u++)if(u!=c&&(t.matchMask&1<<u||u==a.length)){var h=a.slice(c,u);c=u;var d=s.indexOf(h,l);if(-1==d)continue;o(r.slice(l,d),""),l=d+h.length,o(r.slice(d,l),"completion-highlight")}return o(r.slice(l,r.length),""),i.push({type:"completion-spacer",value:" "}),t.meta&&i.push({type:"completion-meta",value:t.meta}),t.message&&i.push({type:"completion-message",value:t.message}),i},_.$updateOnChange=r,_.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.isMouseOver=!1,n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(a.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return m.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,e)),m.start.row!=e&&(n.selection.clearSelection(),m.start.row=m.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",n.anchorPos=null,n.anchor=null,n.isOpen&&(n.isOpen=!1,this._signal("hide"))},n.tryShow=function(e,t,r,o){if(!o&&n.isOpen&&n.anchorPos&&n.anchor&&n.anchorPos.top===e.top&&n.anchorPos.left===e.left&&n.anchor===r)return!0;var s=this.container,a=window.innerHeight,l=window.innerWidth,c=this.renderer,u=c.$maxLines*t*1.4,h={top:0,bottom:0,left:0},d=a-e.top-3*this.$borderSize-t,p=e.top-3*this.$borderSize;r||(r=p<=d||d>=u?"bottom":"top"),"top"===r?(h.bottom=e.top-this.$borderSize,h.top=h.bottom-u):"bottom"===r&&(h.top=e.top+t+this.$borderSize,h.bottom=h.top+u);var f=h.top>=0&&h.bottom<=a;if(!o&&!f)return!1;c.$maxPixelHeight=f?null:"top"===r?p:d,"top"===r?(s.style.top="",s.style.bottom=a-h.bottom+"px",n.isTopdown=!1):(s.style.top=h.top+"px",s.style.bottom="",n.isTopdown=!0),s.style.display="";var g=e.left;return g+s.offsetWidth>l&&(g=l-s.offsetWidth),s.style.left=g+"px",s.style.right="",n.isOpen||(n.isOpen=!0,this._signal("show"),i=null),n.anchorPos=e,n.anchor=r,!0},n.show=function(e,t,n){this.tryShow(e,t,n?"bottom":void 0,!0)},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n};l.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n',"autocompletion.css",!1),t.AcePopup=m,t.$singleLineEditor=g,t.getAriaId=h})),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){function e(e){this.editor=e,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return e.prototype.setScreenReaderContent=function(e){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var e=this.popup.getRow(),t=this.popup.renderer.$textLayer,n=t.element.childNodes[e-t.config.firstRow];if(n){for(var i="doc-tooltip ",r=0;r<this._lines.length;r++)i+="ace-inline-screenreader-line-".concat(r," ");n.setAttribute("aria-describedby",i)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=e.split(/\r\n|\r|\n/);var t=this.createCodeBlock();this.screenReaderDiv.appendChild(t)},e.prototype.destroy=function(){this.screenReaderDiv.remove()},e.prototype.createCodeBlock=function(){var e=document.createElement("pre");e.setAttribute("id","ace-inline-screenreader");for(var t=0;t<this._lines.length;t++){var n=document.createElement("code");n.setAttribute("id","ace-inline-screenreader-line-".concat(t));var i=document.createTextNode(this._lines[t]);n.appendChild(i),e.appendChild(n)}return e},e}();t.AceInlineScreenReader=i})),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],(function(e,t,n){"use strict";var i=e("../snippets").snippetManager,r=e("./inline_screenreader").AceInlineScreenReader,o=function(){function e(){this.editor=null}return e.prototype.show=function(e,t,n){if(n=n||"",e&&this.editor&&this.editor!==e&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!e||!t)return!1;this.inlineScreenReader||(this.inlineScreenReader=new r(e));var o=t.snippet?i.getDisplayTextForSnippet(e,t.snippet):t.value;return!(t.hideInlinePreview||!o||!o.startsWith(n))&&(this.editor=e,this.inlineScreenReader.setScreenReaderContent(o),""===(o=o.slice(n.length))?e.removeGhostText():e.setGhostText(o),!0)},e.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},e.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},e.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},e}();t.AceInline=o})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,n){"use strict";t.parForEach=function(e,t,n){var i=0,r=e.length;0===r&&n();for(var o=0;o<r;o++)t(e[o],(function(e,t){++i===r&&n(e,t)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t-1;o>=0&&n.test(e[o]);o--)r.push(e[o]);return r.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t;o<e.length&&n.test(e[o]);o++)r.push(e[o]);return r},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),i=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,n.column)},t.triggerAutocomplete=function(e,t){t=null==t?e.session.getPrecedingCharacter():t;return e.completers.some((function(e){if(e.triggerCharacters&&Array.isArray(e.triggerCharacters))return e.triggerCharacters.includes(t)}))}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],(function(e,t,n){"use strict";var i=e("./keyboard/hash_handler").HashHandler,r=e("./autocomplete/popup").AcePopup,o=e("./autocomplete/inline").AceInline,s=e("./autocomplete/popup").getAriaId,a=e("./autocomplete/util"),l=e("./lib/lang"),c=e("./lib/dom"),u=e("./snippets").snippetManager,h=e("./config"),d=e("./lib/event"),p=e("./lib/scroll").preventParentScroll,f=function(e,t){t.completer&&t.completer.destroy()},g=function(){function e(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=l.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=l.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=l.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=l.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=l.delayedCall(function(){var t=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!t||0===this.editor.completers.length||(this.completions=new v(e.completionsForLoading),this.openPopup(this.editor,t.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(e,"completionsForLoading",{get:function(){return[{caption:h.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),e.prototype.$init=function(){return this.popup=new r(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),d.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},e.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new o,this.inlineRenderer},e.prototype.getPopup=function(){return this.popup||this.$init()},e.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},e.prototype.$seen=function(e){!this.hasSeen.has(e)&&e&&e.completer&&e.completer.onSeen&&"function"===typeof e.completer.onSeen&&(e.completer.onSeen(this.editor,e),this.hasSeen.add(e))},e.prototype.$onPopupChange=function(e){if(this.inlineRenderer&&this.inlineEnabled){var t=e?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(t),this.popup.isMouseOver&&this.setSelectOnHover)return void this.tooltipTimer.call(null,null);this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},e.prototype.$updateGhostText=function(e){var t=this.base.row,n=this.base.column,i=this.editor.getCursorPosition().column,r=this.editor.session.getLine(t).slice(n,i);this.inlineRenderer.show(this.editor,e,r)?this.$seen(e):this.inlineRenderer.hide()},e.prototype.$onPopupRender=function(){var e=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var t=this.popup.getFirstVisibleRow();t<=this.popup.getLastVisibleRow();t++){var n=this.popup.getData(t);!n||e&&!n.hideInlinePreview||this.$seen(n)}},e.prototype.$onPopupShow=function(e){this.$onPopupChange(e),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},e.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var e=this.editor.container.parentNode,t=[];e;)t.push(e),e.addEventListener("scroll",this.onLayoutChange,{passive:!0}),e=e.parentNode;this.$elements=t}},e.prototype.unObserveLayoutChanges=function(){var e=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach((function(t){t.removeEventListener("scroll",e.onLayoutChange,{passive:!0})})),this.$elements=null},e.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},e.prototype.$updatePopupPosition=function(){var e=this.editor,t=e.renderer,n=t.layerConfig.lineHeight,i=t.$cursorLayer.getPixelPosition(this.base,!0);i.left-=this.popup.getTextLeftOffset();var r=e.container.getBoundingClientRect();i.top+=r.top-t.layerConfig.offset,i.left+=r.left-e.renderer.scrollLeft,i.left+=t.gutterWidth;var o={top:i.top,left:i.left};t.$ghostText&&t.$ghostTextWidget&&this.base.row===t.$ghostText.position.row&&(o.top+=t.$ghostTextWidget.el.offsetHeight);var s=e.container.getBoundingClientRect().bottom-n,a=s<o.top?{top:s,left:o.left}:o;this.popup.tryShow(a,n,"bottom")||this.popup.tryShow(i,n,"top")||this.popup.show(i,n)},e.prototype.openPopup=function(e,t,n){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var i,r=this.popup.getRow(),o=this.popup.data[r];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),e.keyBinding.addKeyboardHandler(this.keyboardHandler),this.stickySelection&&(i=this.popup.data.indexOf(o)),i&&-1!==i||(i=0),this.popup.setRow(this.autoSelect?i:-1),i===r&&o!==this.completions.filtered[i]&&this.$onPopupChange();var a=this.inlineRenderer&&this.inlineEnabled;if(i===r&&a){var l=this.popup.getData(this.popup.getRow());this.$updateGhostText(l)}n||(this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},e.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},e.prototype.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},e.prototype.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),r=this.popup&&this.popup.container;t==n||t.parentNode==r||i||t==this.tooltipNode||e.relatedTarget==n||this.detach()},e.prototype.mousedownListener=function(e){this.detach()},e.prototype.mousewheelListener=function(e){this.popup&&!this.popup.isMouseOver&&this.detach()},e.prototype.mouseOutListener=function(e){this.popup.isOpen&&this.$updatePopupPosition()},e.prototype.goTo=function(e){this.popup.goTo(e)},e.prototype.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(""===e.value)return this.detach();var n=this.completions,i=this.getCompletionProvider().insertMatch(this.editor,e,n.filterText,t);return this.completions==n&&this.detach(),i},e.prototype.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},e.prototype.getCompletionProvider=function(e){return this.completionProvider||(this.completionProvider=new m(e)),this.completionProvider},e.prototype.gatherCompletions=function(e,t){return this.getCompletionProvider().gatherCompletions(e,t)},e.prototype.updateCompletions=function(t,n){if(t&&this.base&&this.completions){var i=this.editor.getCursorPosition();if((o=this.editor.session.getTextRange({start:this.base,end:i}))==this.completions.filterText)return;return this.completions.setFilter(o),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=o||this.completions.filtered[0].snippet?void this.openPopup(this.editor,o,t):this.detach():this.detach()}if(n&&n.matches){i=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(i.row,i.column),this.base.$insertRight=!0,this.completions=new v(n.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",t)}var r=this.editor.getSession(),o=(i=this.editor.getCursorPosition(),a.getCompletionPrefix(this.editor));this.base=r.doc.createAnchor(i.row,i.column-o.length),this.base.$insertRight=!0;var s={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:o,pos:i}).provideCompletions(this.editor,s,function(n,i,r){var o=i.filtered,s=a.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),r){if(!o.length){var l=!this.autoShown&&this.emptyMessage;if("function"==typeof l&&(l=this.emptyMessage(s)),l){var c=[{caption:l,value:""}];return this.completions=new v(c),this.openPopup(this.editor,s,t),this.popup.renderer.setStyle("ace_loading",!1),void this.popup.renderer.setStyle("ace_empty-message",!0)}return this.detach()}if(1==o.length&&o[0].value==s&&!o[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==o.length)return this.insertMatch(o[0])}this.completions=!r&&this.showLoadingState?new v(e.completionsForLoading.concat(o),i.filterText):i,this.openPopup(this.editor,s,t),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!r)}.bind(this)),!this.showLoadingState||this.autoShown||this.popup&&this.popup.isOpen||this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},e.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},e.prototype.updateDocTooltip=function(){var e=this.popup,t=this.completions.filtered,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;if(!n||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var r=this.editor.completers.length,o=0;o<r;o++){var s=this.editor.completers[o];if(s.getDocTooltip&&n.completerId===s.id){i=s.getDocTooltip(n);break}}if(i||"string"==typeof n||(i=n),"string"==typeof i&&(i={docText:i}),!i||!i.docHTML&&!i.docText)return this.hideDocTooltip();this.showDocTooltip(i)},e.prototype.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=c.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",p));var t=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(t.isDark?"ace_dark ":"")+(t.cssClass||"");var n=this.tooltipNode;e.docHTML?n.innerHTML=e.docHTML:e.docText&&(n.textContent=e.docText),n.parentNode||this.popup.container.appendChild(this.tooltipNode);var i=this.popup,r=i.container.getBoundingClientRect();n.style.top=i.container.style.top,n.style.bottom=i.container.style.bottom,n.style.display="block",window.innerWidth-r.right<320?r.left<320?i.isTopdown?(n.style.top=r.bottom+"px",n.style.left=r.left+"px",n.style.right="",n.style.bottom=""):(n.style.top=i.container.offsetTop-n.offsetHeight+"px",n.style.left=r.left+"px",n.style.right="",n.style.bottom=""):(n.style.right=window.innerWidth-r.left+"px",n.style.left=""):(n.style.left=r.right+1+"px",n.style.right="")},e.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},e.prototype.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},e.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",f),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},e}();g.prototype.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},Backspace:function(e){e.execCommand("backspace"),!a.getCompletionPrefix(e)&&e.completer&&e.completer.detach()},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},g.for=function(e){return e.completer instanceof g||(e.completer&&(e.completer.destroy(),e.completer=null),h.get("sharedPopups")?(g.$sharedInstance||(g.$sharedInstance=new g),e.completer=g.$sharedInstance):(e.completer=new g,e.once("destroy",f))),e.completer},g.startCommand={name:"startAutocomplete",exec:function(e,t){var n=g.for(e);n.autoInsert=!1,n.autoSelect=!0,n.autoShown=!1,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var m=function(){function e(e){this.initialPosition=e,this.active=!0}return e.prototype.insertByIndex=function(e,t,n){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(e,this.completions.filtered[t],n)},e.prototype.insertMatch=function(e,t,n){if(!t)return!1;if(e.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(e,t);else{if(!this.completions)return!1;var i=this.completions.filterText.length,r=0;if(t.range&&t.range.start.row===t.range.end.row&&(i-=this.initialPosition.prefix.length,i+=this.initialPosition.pos.column-t.range.start.column,r+=t.range.end.column-this.initialPosition.pos.column),i||r){var o;o=e.selection.getAllRanges?e.selection.getAllRanges():[e.getSelectionRange()];for(var s,a=0;s=o[a];a++)s.start.column-=i,s.end.column+=r,e.session.remove(s)}t.snippet?u.insertSnippet(e,t.snippet):this.$insertString(e,t),t.completer&&t.completer.onInsert&&"function"==typeof t.completer.onInsert&&t.completer.onInsert(e,t),t.command&&"startAutocomplete"===t.command&&e.execCommand(t.command)}return e.endOperation(),!0},e.prototype.$insertString=function(e,t){var n=t.value||t;e.execCommand("insertstring",n)},e.prototype.gatherCompletions=function(e,t){var n=e.getSession(),i=e.getCursorPosition(),r=a.getCompletionPrefix(e),o=[];this.completers=e.completers;var s=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,n,i,r,(function(n,i){l.hideInlinePreview&&(i=i.map((function(e){return Object.assign(e,{hideInlinePreview:l.hideInlinePreview})}))),!n&&i&&(o=o.concat(i)),t(null,{prefix:a.getCompletionPrefix(e),matches:o,finished:0===--s})}))})),!0},e.prototype.provideCompletions=function(e,t,n){var i=function(e){var i=e.prefix,r=e.matches;this.completions=new v(r),t.exactMatch&&(this.completions.exactMatch=!0),t.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(i),(e.finished||this.completions.filtered.length)&&n(null,this.completions,e.finished)}.bind(this),r=!0,o=null;if(this.gatherCompletions(e,function(e,t){this.active&&(e&&(n(e,[],!0),this.detach()),0===t.prefix.indexOf(t.prefix)&&(r?o=t:i(t)))}.bind(this)),r=!1,o){var s=o;o=null,i(s)}},e.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach((function(e){"function"===typeof e.cancel&&e.cancel()}))},e}(),v=function(){function e(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1,this.ignoreCaption=!1}return e.prototype.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)}));var n=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)})),this.filtered=t},e.prototype.filterCompletions=function(e,t){var n=[],i=t.toUpperCase(),r=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=!this.ignoreCaption&&o.caption||o.value||o.snippet;if(a){var l,c,u=-1,h=0,d=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var p=a.toLowerCase().indexOf(r);if(p>-1)d=p;else for(var f=0;f<t.length;f++){var g=a.indexOf(r[f],u+1),m=a.indexOf(i[f],u+1);if((l=g>=0&&(m<0||g<m)?g:m)<0)continue e;(c=l-u-1)>0&&(-1===u&&(d+=10),d+=c,h|=1<<f),u=l}}o.matchMask=h,o.exactMatch=d?0:1,o.$score=(o.score||0)-d,n.push(o)}}return n},e}();t.Autocomplete=g,t.CompletionProvider=m,t.FilteredList=v})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../range").Range,r=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function o(e,t){var n=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(r).length-1}(e,t),o=e.getValue().split(r),s=Object.create(null),a=o[n];return o.forEach((function(e,t){if(e&&e!==a){var i=Math.abs(n-t),r=o.length-i;s[e]?s[e]=Math.max(r,s[e]):s[e]=r}})),s}t.getCompletions=function(e,t,n,i,r){var s=o(t,n);r(null,Object.keys(s).map((function(e){return{caption:e,value:e,score:s[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,n){"use strict";var i=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,o=e("../config"),s=e("../lib/lang"),a=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,i,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,i,r);var o=e.session.getState(n.row),s=t.$mode.getCompletions(o,t,n,i);r(null,s=s.map((function(e){return e.completerId=c.id,e})))},id:"keywordCompleter"},u=function(e){var t={};return e.replace(/\${(\d+)(:(.*?))?}/g,(function(e,n,i,r){return t[n]=r||""})).replace(/\$(\d+?)/g,(function(e,n){return t[n]}))},h={getCompletions:function(e,t,n,r,o){var s=[],a=t.getTokenAt(n.row,n.column);a&&a.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=i.getActiveScopes(e);var l=i.snippetMap,c=[];s.forEach((function(e){for(var t=l[e]||[],n=t.length;n--;){var i=t[n],r=i.name||i.tabTrigger;r&&c.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+"\u21e5 ":"snippet",completerId:h.id})}}),this),o(null,c)},getDocTooltip:function(e){e.snippet&&!e.docHTML&&(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML(u(e.snippet))].join(""))},id:"snippetCompleter"},d=[h,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=h;var p,f={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},g=function(e,t){m(t.session.$mode)},m=function(e){"string"==typeof e&&(e=o.$modes[e]),e&&(i.files||(i.files={}),v(e.$id,e.snippetFileId),e.modes&&e.modes.forEach(m))},v=function(e,t){t&&e&&!i.files[e]&&(i.files[e]={},o.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){m("ace/mode/"+e)}))))})))},y=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!a.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name&&!n){p=e;var i=e.editor.$liveAutocompletionDelay;i?_.delay(i):b(e)}},_=s.delayedCall((function(){b(p)}),0),b=function(e){var t=e.editor,n=a.getCompletionPrefix(t),i=e.args,o=a.triggerAutocomplete(t,i);if(n&&n.length>=t.$liveAutocompletionThreshold||o){var s=r.for(t);s.autoShown=!0,s.showPopup(t)}},w=e("../editor").Editor;e("../config").defineOptions(w.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",y)):this.commands.off("afterExec",y)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(e){e?(this.commands.addCommand(f),this.on("changeMode",g),g(0,this)):(this.commands.removeCommand(f),this.off("changeMode",g))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(t){e&&(e.exports=t)}))},4878:(e,t,n)=>{e=n.nmd(e),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){"use strict";var i,r=e("./lib/oop"),o=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),s=e("./editor").Editor,a=e("./virtual_renderer").VirtualRenderer,l=e("./edit_session").EditSession;(function(){r.implement(this,o),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new s(new a(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new l(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var i=this.$editors.some((function(t){return t.session===e}));return i&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var i=t/this.$splits,r=0;r<this.$splits;r++)(e=this.$editors[r]).container.style.width=i+"px",e.container.style.top="0px",e.container.style.left=r*i+"px",e.container.style.height=n+"px",e.resize();else{var o=n/this.$splits;for(r=0;r<this.$splits;r++)(e=this.$editors[r]).container.style.width=t+"px",e.container.style.top=r*o+"px",e.container.style.left="0px",e.container.style.height=o+"px",e.resize()}}}).call((i=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))}).prototype),t.Split=i})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))},6960:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":"abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes","variable.language":"self|cls","constant.language":"True|False|None|NotImplemented|Ellipsis|__debug__",keyword:"and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal"},"identifier"),t="[uU]?",n="[rR]",i="[fF]",r="(?:[rR][fF]|[fF][rR])",o="(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))",s="(?:\\d+)",a="(?:(?:"+s+"?(?:\\.\\d+))|(?:"+s+"\\.))",l="(?:"+("(?:(?:"+a+"|"+s+")(?:[eE][+-]?\\d+))")+"|"+a+")",c="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:t+'"{3}',next:"qqstring3"},{token:"string",regex:t+'"(?=.)',next:"qqstring"},{token:"string",regex:t+"'{3}",next:"qstring3"},{token:"string",regex:t+"'(?=.)",next:"qstring"},{token:"string",regex:n+'"{3}',next:"rawqqstring3"},{token:"string",regex:n+'"(?=.)',next:"rawqqstring"},{token:"string",regex:n+"'{3}",next:"rawqstring3"},{token:"string",regex:n+"'(?=.)",next:"rawqstring"},{token:"string",regex:i+'"{3}',next:"fqqstring3"},{token:"string",regex:i+'"(?=.)',next:"fqqstring"},{token:"string",regex:i+"'{3}",next:"fqstring3"},{token:"string",regex:i+"'(?=.)",next:"fqstring"},{token:"string",regex:r+'"{3}',next:"rfqqstring3"},{token:"string",regex:r+'"(?=.)',next:"rfqqstring"},{token:"string",regex:r+"'{3}",next:"rfqstring3"},{token:"string",regex:r+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:c},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:c},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:c},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:c},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:c},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:c},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:c},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:c},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+l+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:l},{token:"constant.numeric",regex:o+"[lL]\\b"},{token:"constant.numeric",regex:o+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};i.inherits(o,r),t.PythonHighlightRules=o})),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+e+")(?:\\s*)(?:#.*)?$")};i.inherits(o,r),function(){this.getFoldWidgetRange=function(e,t,n){var i=e.getLine(n).match(this.foldingStartMarker);if(i)return i[1]?this.openingBracketBlock(e,i[1],n,i.index):i[2]?this.indentationBlock(e,n,i.index+i[2].length):this.indentationBlock(e,n)}}.call(o.prototype)})),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./python_highlight_rules").PythonHighlightRules,s=e("./folding/pythonic").FoldMode,a=e("../range").Range,l=function(){this.HighlightRules=o,this.foldingRules=new s("\\:"),this.$behaviour=this.$defaultBehaviour};i.inherits(l,r),function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;if(r.length&&"comment"==r[r.length-1].type)return i;"start"==e&&(t.match(/^.*[\{\(\[:]\s*$/)&&(i+=n));return i};var e={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(t,n,i){if("\r\n"!==i&&"\r"!==i&&"\n"!==i)return!1;var r=this.getTokenizer().getLineTokens(n.trim(),t).tokens;if(!r)return!1;do{var o=r.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&("keyword"==o.type&&e[o.value])},this.autoOutdent=function(e,t,n){n+=1;var i=this.$getIndent(t.getLine(n)),r=t.getTabString();i.slice(-r.length)==r&&t.remove(new a(n,i.length-r.length,n,i.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}.call(l.prototype),t.Mode=l})),ace.require(["ace/mode/python"],(function(t){e&&(e.exports=t)}))},8321:(e,t,n)=>{e=n.nmd(e),ace.define("ace/theme/github-css",["require","exports","module"],(function(e,t,n){n.exports='/* CSS style content from github\'s default pygments highlighter template.\n   Cursor and selection styles from textmate.css. */\n.ace-github .ace_gutter {\n  background: #e8e8e8;\n  color: #AAA;\n}\n\n.ace-github  {\n  background: #fff;\n  color: #000;\n}\n\n.ace-github .ace_keyword {\n  font-weight: bold;\n}\n\n.ace-github .ace_string {\n  color: #D14;\n}\n\n.ace-github .ace_variable.ace_class {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_numeric {\n  color: #099;\n}\n\n.ace-github .ace_constant.ace_buildin {\n  color: #0086B3;\n}\n\n.ace-github .ace_support.ace_function {\n  color: #0086B3;\n}\n\n.ace-github .ace_comment {\n  color: #998;\n  font-style: italic;\n}\n\n.ace-github .ace_variable.ace_language  {\n  color: #0086B3;\n}\n\n.ace-github .ace_paren {\n  font-weight: bold;\n}\n\n.ace-github .ace_boolean {\n  font-weight: bold;\n}\n\n.ace-github .ace_string.ace_regexp {\n  color: #009926;\n  font-weight: normal;\n}\n\n.ace-github .ace_variable.ace_instance {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_language {\n  font-weight: bold;\n}\n\n.ace-github .ace_cursor {\n  color: black;\n}\n\n.ace-github.ace_focus .ace_marker-layer .ace_active-line {\n  background: rgb(255, 255, 204);\n}\n.ace-github .ace_marker-layer .ace_active-line {\n  background: rgb(245, 245, 245);\n}\n\n.ace-github .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-github.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n/* bold keywords cause cursor issues for some fonts */\n/* this disables bold style for editor and keeps for static highlighter */\n.ace-github.ace_nobold .ace_line > span {\n    font-weight: normal !important;\n}\n\n.ace-github .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-github .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-github .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-github .ace_gutter-active-line {\n    background-color : rgba(0, 0, 0, 0.07);\n}\n\n.ace-github .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-github .ace_invisible {\n  color: #BFBFBF\n}\n\n.ace-github .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-github .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-github .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-github",t.cssText=e("./github-css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/github"],(function(t){e&&(e.exports=t)}))},854:(e,t,n)=>{n(672)},1989:(e,t,n)=>{"use strict";var i=n(6267),r=n(3229),o=n(7903),s=n(6735),a=n(7638),l=n(3101),c=n(705),u=n(9335),h=n(2702),d=n(7482),p=n(3403);e.exports=function(e){return new Promise((function(t,n){var f,g=e.data,m=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}i.isFormData(g)&&i.isStandardBrowserEnv()&&delete m["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var x=a(e.baseURL,e.url);function A(){if(_){var i="getAllResponseHeaders"in _?l(_.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:i,config:e,request:_};r((function(e){t(e),y()}),(function(e){n(e),y()}),o),_=null}}if(_.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=A:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(A)},_.onabort=function(){_&&(n(new h("Request aborted",h.ECONNABORTED,e,_)),_=null)},_.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,_,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,i.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,_)),_=null},i.isStandardBrowserEnv()){var k=(e.withCredentials||c(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in _&&i.forEach(m,(function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete m[t]:_.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),v&&"json"!==v&&(_.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){_&&(n(!e||e&&e.type?new d:e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),g||(g=null);var C=p(x);C&&-1===["http","https","file"].indexOf(C)?n(new h("Unsupported protocol "+C+":",h.ERR_BAD_REQUEST,e)):_.send(g)}))}},672:(e,t,n)=>{"use strict";var i=n(6267),r=n(6973),o=n(8938),s=n(6438);var a=function e(t){var n=new o(t),a=r(o.prototype.request,n);return i.extend(a,o.prototype,n),i.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(2989));a.Axios=o,a.CanceledError=n(7482),a.CancelToken=n(7690),a.isCancel=n(7767),a.VERSION=n(3104).version,a.toFormData=n(7289),a.AxiosError=n(2702),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(8125),a.isAxiosError=n(8738),e.exports=a,e.exports.default=a},7690:(e,t,n)=>{"use strict";var i=n(7482);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},7482:(e,t,n)=>{"use strict";var i=n(2702);function r(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}n(6267).inherits(r,i,{__CANCEL__:!0}),e.exports=r},7767:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8938:(e,t,n)=>{"use strict";var i=n(6267),r=n(6735),o=n(6664),s=n(4395),a=n(6438),l=n(7638),c=n(2478),u=c.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!r){var h=[s,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=t;i.length;){var p=i.shift(),f=i.shift();try{d=p(d)}catch(g){f(g);break}}try{o=s(d)}catch(g){return Promise.reject(g)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},h.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(a(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},2702:(e,t,n)=>{"use strict";var i=n(6267);function r(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,a,l){var c=Object.create(o);return i.toFlatObject(e,c,(function(e){return e!==Error.prototype})),r.call(c,e.message,t,n,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=r},6664:(e,t,n)=>{"use strict";var i=n(6267);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},7638:(e,t,n)=>{"use strict";var i=n(2762),r=n(1523);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},4395:(e,t,n)=>{"use strict";var i=n(6267),r=n(3024),o=n(7767),s=n(2989),a=n(7482);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6438:(e,t,n)=>{"use strict";var i=n(6267);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},3229:(e,t,n)=>{"use strict";var i=n(2702);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},3024:(e,t,n)=>{"use strict";var i=n(6267),r=n(2989);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},2989:(e,t,n)=>{"use strict";var i=n(6267),r=n(2121),o=n(2702),s=n(9335),a=n(7289),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:s,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(1989)),e}(),transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=i.isObject(e),s=t&&t["Content-Type"];if((n=i.isFileList(e))||o&&"multipart/form-data"===s){var l=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,l&&new l)}return o||"application/json"===s?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o.from(a,o.ERR_BAD_RESPONSE,this,null,this.response);throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3055)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(l)})),e.exports=u},9335:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3104:e=>{e.exports={version:"0.27.2"}},6973:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},6735:(e,t,n)=>{"use strict";var i=n(6267);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},1523:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},7903:(e,t,n)=>{"use strict";var i=n(6267);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},2762:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},8738:(e,t,n)=>{"use strict";var i=n(6267);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},705:(e,t,n)=>{"use strict";var i=n(6267);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},2121:(e,t,n)=>{"use strict";var i=n(6267);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},3055:e=>{e.exports=null},3101:(e,t,n)=>{"use strict";var i=n(6267),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},3403:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8125:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7289:(e,t,n)=>{"use strict";var i=n(6267);e.exports=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(i.isPlainObject(o)||i.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+s);n.push(o),i.forEach(o,(function(n,o){if(!i.isUndefined(n)){var a,l=s?s+"."+o:o;if(n&&!s&&"object"===typeof n)if(i.endsWith(o,"{}"))n=JSON.stringify(n);else if(i.endsWith(o,"[]")&&(a=i.toArray(n)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(l,r(e))}));e(n,l)}})),n.pop()}else t.append(s,r(o))}(e),t}},2478:(e,t,n)=>{"use strict";var i=n(3104).version,r=n(2702),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new r(o(i," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[i]&&(s[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),o=i.length;o-- >0;){var s=i[o],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new r("option "+s+" must be "+c,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}},validators:o}},6267:(e,t,n)=>{"use strict";var i,r=n(6973),o=Object.prototype.toString,s=(i=Object.create(null),function(e){var t=o.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var u=a("ArrayBuffer");function h(e){return null!==e&&"object"===typeof e}function d(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),g=a("Blob"),m=a("FileList");function v(e){return"[object Function]"===o.call(e)}var y=a("URLSearchParams");function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||o.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:p,isFile:f,isBlob:g,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:_,merge:function e(){var t={};function n(n,i){d(t[i])&&d(n)?t[i]=e(t[i],n):d(n)?t[i]=e({},n):l(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)_(arguments[i],n);return t},extend:function(e,t,n){return _(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,o,s={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;r-- >0;)s[o=i[r]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},5388:e=>{var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,i,r){"undefined"==typeof r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];"undefined"==typeof i&&(i=!0);var s=i,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var u=this.diff_compute_(e,n,s,o);return l&&u.unshift(new t.Diff(0,l)),c&&u.push(new t.Diff(0,c)),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,i,r,o){var s;if(!e)return[new t.Diff(1,i)];if(!i)return[new t.Diff(n,e)];var a=e.length>i.length?e:i,l=e.length>i.length?i:e,c=a.indexOf(l);if(-1!=c)return s=[new t.Diff(1,a.substring(0,c)),new t.Diff(0,l),new t.Diff(1,a.substring(c+l.length))],e.length>i.length&&(s[0][0]=s[2][0]=n),s;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,i)];var u=this.diff_halfMatch_(e,i);if(u){var h=u[0],d=u[1],p=u[2],f=u[3],g=u[4],m=this.diff_main(h,p,r,o),v=this.diff_main(d,f,r,o);return m.concat([new t.Diff(0,g)],v)}return r&&e.length>100&&i.length>100?this.diff_lineMode_(e,i,o):this.diff_bisect_(e,i,o)},t.prototype.diff_lineMode_=function(e,i,r){var o=this.diff_linesToChars_(e,i);e=o.chars1,i=o.chars2;var s=o.lineArray,a=this.diff_main(e,i,!1,r);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var l=0,c=0,u=0,h="",d="";l<a.length;){switch(a[l][0]){case 1:u++,d+=a[l][1];break;case n:c++,h+=a[l][1];break;case 0:if(c>=1&&u>=1){a.splice(l-c-u,c+u),l=l-c-u;for(var p=this.diff_main(h,d,!1,r),f=p.length-1;f>=0;f--)a.splice(l,0,p[f]);l+=p.length}u=0,c=0,h="",d=""}l++}return a.pop(),a},t.prototype.diff_bisect_=function(e,i,r){for(var o=e.length,s=i.length,a=Math.ceil((o+s)/2),l=a,c=2*a,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var p=o-s,f=p%2!=0,g=0,m=0,v=0,y=0,_=0;_<a&&!((new Date).getTime()>r);_++){for(var b=-_+g;b<=_-m;b+=2){for(var w=l+b,x=(E=b==-_||b!=_&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-b;E<o&&x<s&&e.charAt(E)==i.charAt(x);)E++,x++;if(u[w]=E,E>o)m+=2;else if(x>s)g+=2;else if(f){if((C=l+p-b)>=0&&C<c&&-1!=h[C])if(E>=(k=o-h[C]))return this.diff_bisectSplit_(e,i,E,x,r)}}for(var A=-_+v;A<=_-y;A+=2){for(var k,C=l+A,S=(k=A==-_||A!=_&&h[C-1]<h[C+1]?h[C+1]:h[C-1]+1)-A;k<o&&S<s&&e.charAt(o-k-1)==i.charAt(s-S-1);)k++,S++;if(h[C]=k,k>o)y+=2;else if(S>s)v+=2;else if(!f){if((w=l+p-A)>=0&&w<c&&-1!=u[w]){var E;x=l+(E=u[w])-w;if(E>=(k=o-k))return this.diff_bisectSplit_(e,i,E,x,r)}}}}return[new t.Diff(n,e),new t.Diff(1,i)]},t.prototype.diff_bisectSplit_=function(e,t,n,i,r){var o=e.substring(0,n),s=t.substring(0,i),a=e.substring(n),l=t.substring(i),c=this.diff_main(o,s,!1,r),u=this.diff_main(a,l,!1,r);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var n=[],i={};function r(e){for(var t="",r=0,s=-1,a=n.length;s<e.length-1;){-1==(s=e.indexOf("\n",r))&&(s=e.length-1);var l=e.substring(r,s+1);(i.hasOwnProperty?i.hasOwnProperty(l):void 0!==i[l])?t+=String.fromCharCode(i[l]):(a==o&&(l=e.substring(r),s=e.length),t+=String.fromCharCode(a),i[l]=a,n[a++]=l),r=s+1}return t}n[0]="";var o=4e4,s=r(e);return o=65535,{chars1:s,chars2:r(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],r=[],o=0;o<i.length;o++)r[o]=t[i.charCodeAt(o)];e[n][1]=r.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var o=0,s=1;;){var a=e.substring(r-s),l=t.indexOf(a);if(-1==l)return o;s+=l,0!=l&&e.substring(r-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;var r=this;function o(e,t,n){for(var i,o,s,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var h=r.diff_commonPrefix(e.substring(n),t.substring(c)),d=r.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),i=e.substring(0,n-d),o=e.substring(n+h),s=t.substring(0,c-d),a=t.substring(c+h))}return 2*u.length>=e.length?[i,o,s,a,u]:null}var s,a,l,c,u,h=o(n,i,Math.ceil(n.length/4)),d=o(n,i,Math.ceil(n.length/2));return h||d?(s=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=s[0],l=s[1],c=s[2],u=s[3]):(c=s[0],u=s[1],a=s[2],l=s[3]),[a,l,c,u,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var i=!1,r=[],o=0,s=null,a=0,l=0,c=0,u=0,h=0;a<e.length;)0==e[a][0]?(r[o++]=a,l=u,c=h,u=0,h=0,s=e[a][1]):(1==e[a][0]?u+=e[a][1].length:h+=e[a][1].length,s&&s.length<=Math.max(l,c)&&s.length<=Math.max(u,h)&&(e.splice(r[o-1],0,new t.Diff(n,s)),e[r[o-1]+1][0]=1,o--,a=--o>0?r[o-1]:-1,l=0,c=0,u=0,h=0,s=null,i=!0)),a++;for(i&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var d=e[a-1][1],p=e[a][1],f=this.diff_commonOverlap_(d,p),g=this.diff_commonOverlap_(p,d);f>=g?(f>=d.length/2||f>=p.length/2)&&(e.splice(a,0,new t.Diff(0,p.substring(0,f))),e[a-1][1]=d.substring(0,d.length-f),e[a+1][1]=p.substring(f),a++):(g>=d.length/2||g>=p.length/2)&&(e.splice(a,0,new t.Diff(0,d.substring(0,g))),e[a-1][0]=1,e[a-1][1]=p.substring(0,p.length-g),e[a+1][0]=n,e[a+1][1]=d.substring(g),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var i=e.charAt(e.length-1),r=n.charAt(0),o=i.match(t.nonAlphaNumericRegex_),s=r.match(t.nonAlphaNumericRegex_),a=o&&i.match(t.whitespaceRegex_),l=s&&r.match(t.whitespaceRegex_),c=a&&i.match(t.linebreakRegex_),u=l&&r.match(t.linebreakRegex_),h=c&&e.match(t.blanklineEndRegex_),d=u&&n.match(t.blanklineStartRegex_);return h||d?5:c||u?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var i=1;i<e.length-1;){if(0==e[i-1][0]&&0==e[i+1][0]){var r=e[i-1][1],o=e[i][1],s=e[i+1][1],a=this.diff_commonSuffix(r,o);if(a){var l=o.substring(o.length-a);r=r.substring(0,r.length-a),o=l+o.substring(0,o.length-a),s=l+s}for(var c=r,u=o,h=s,d=n(r,o)+n(o,s);o.charAt(0)===s.charAt(0);){r+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var p=n(r,o)+n(o,s);p>=d&&(d=p,c=r,u=o,h=s)}e[i-1][1]!=c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=u,h?e[i+1][1]=h:(e.splice(i+1,1),i--))}i++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var i=!1,r=[],o=0,s=null,a=0,l=!1,c=!1,u=!1,h=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(u||h)?(r[o++]=a,l=u,c=h,s=e[a][1]):(o=0,s=null),u=h=!1):(e[a][0]==n?h=!0:u=!0,s&&(l&&c&&u&&h||s.length<this.Diff_EditCost/2&&l+c+u+h==3)&&(e.splice(r[o-1],0,new t.Diff(n,s)),e[r[o-1]+1][0]=1,o--,s=null,l&&c?(u=h=!0,o=0):(a=--o>0?r[o-1]:-1,u=h=!1),i=!0)),a++;i&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var i,r=0,o=0,s=0,a="",l="";r<e.length;)switch(e[r][0]){case 1:s++,l+=e[r][1],r++;break;case n:o++,a+=e[r][1],r++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(i=this.diff_commonPrefix(l,a))&&(r-o-s>0&&0==e[r-o-s-1][0]?e[r-o-s-1][1]+=l.substring(0,i):(e.splice(0,0,new t.Diff(0,l.substring(0,i))),r++),l=l.substring(i),a=a.substring(i)),0!==(i=this.diff_commonSuffix(l,a))&&(e[r][1]=l.substring(l.length-i)+e[r][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i))),r-=o+s,e.splice(r,o+s),a.length&&(e.splice(r,0,new t.Diff(n,a)),r++),l.length&&(e.splice(r,0,new t.Diff(1,l)),r++),r++):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,o=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),c=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),c=!0)),r++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var i,r=0,o=0,s=0,a=0;for(i=0;i<e.length&&(1!==e[i][0]&&(r+=e[i][1].length),e[i][0]!==n&&(o+=e[i][1].length),!(r>t));i++)s=r,a=o;return e.length!=i&&e[i][0]===n?a:a+(t-s)},t.prototype.diff_prettyHtml=function(e){for(var t=[],i=/&/g,r=/</g,o=/>/g,s=/\n/g,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1].replace(i,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(l){case 1:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[a]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==n&&(t[i]=e[i][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,i=0,r=0,o=0;o<e.length;o++){var s=e[o][0],a=e[o][1];switch(s){case 1:i+=a.length;break;case n:r+=a.length;break;case 0:t+=Math.max(i,r),i=0,r=0}}return t+=Math.max(i,r)},t.prototype.diff_toDelta=function(e){for(var t=[],i=0;i<e.length;i++)switch(e[i][0]){case 1:t[i]="+"+encodeURI(e[i][1]);break;case n:t[i]="-"+e[i][1].length;break;case 0:t[i]="="+e[i][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,i){for(var r=[],o=0,s=0,a=i.split(/\t/g),l=0;l<a.length;l++){var c=a[l].substring(1);switch(a[l].charAt(0)){case"+":try{r[o++]=new t.Diff(1,decodeURI(c))}catch(d){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var h=e.substring(s,s+=u);"="==a[l].charAt(0)?r[o++]=new t.Diff(0,h):r[o++]=new t.Diff(n,h);break;default:if(a[l])throw new Error("Invalid diff operation in diff_fromDelta: "+a[l])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return r},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),r=this;function o(e,i){var o=e/t.length,s=Math.abs(n-i);return r.Match_Distance?o+s/r.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(o(0,a),s)));var l,c,u=1<<t.length-1;a=-1;for(var h,d=t.length+e.length,p=0;p<t.length;p++){for(l=0,c=d;l<c;)o(p,n+c)<=s?l=c:d=c,c=Math.floor((d-l)/2+l);d=c;var f=Math.max(1,n-c+1),g=Math.min(n+c,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<p)-1;for(var v=g;v>=f;v--){var y=i[e.charAt(v-1)];if(m[v]=0===p?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],m[v]&u){var _=o(p,v-1);if(_<=s){if(s=_,!((a=v-1)>n))break;f=Math.max(1,2*n-a)}}}if(o(p+1,n)>s)break;h=m}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var i=n.substring(e.start2,e.start2+e.length1),r=0;n.indexOf(i)!=n.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,i=n.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var o=n.substring(e.start2-r,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var s=n.substring(e.start2+e.length1,e.start2+e.length1+r);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,i,r){var o,s;if("string"==typeof e&&"string"==typeof i&&"undefined"==typeof r)o=e,(s=this.diff_main(o,i,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&"undefined"==typeof i&&"undefined"==typeof r)s=e,o=this.diff_text1(s);else if("string"==typeof e&&i&&"object"==typeof i&&"undefined"==typeof r)o=e,s=i;else{if("string"!=typeof e||"string"!=typeof i||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");o=e,s=r}if(0===s.length)return[];for(var a=[],l=new t.patch_obj,c=0,u=0,h=0,d=o,p=o,f=0;f<s.length;f++){var g=s[f][0],m=s[f][1];switch(c||0===g||(l.start1=u,l.start2=h),g){case 1:l.diffs[c++]=s[f],l.length2+=m.length,p=p.substring(0,h)+m+p.substring(h);break;case n:l.length1+=m.length,l.diffs[c++]=s[f],p=p.substring(0,h)+p.substring(h+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&s.length!=f+1?(l.diffs[c++]=s[f],l.length1+=m.length,l.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,d),a.push(l),l=new t.patch_obj,c=0,d=p,u=h)}1!==g&&(u+=m.length),g!==n&&(h+=m.length)}return c&&(this.patch_addContext_(l,d),a.push(l)),a},t.prototype.patch_deepCopy=function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=new t.patch_obj;o.diffs=[];for(var s=0;s<r.diffs.length;s++)o.diffs[s]=new t.Diff(r.diffs[s][0],r.diffs[s][1]);o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,n[i]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var i=this.patch_addPadding(e);t=i+t+i,this.patch_splitMax(e);for(var r=0,o=[],s=0;s<e.length;s++){var a,l,c=e[s].start2+r,u=this.diff_text1(e[s].diffs),h=-1;if(u.length>this.Match_MaxBits?-1!=(a=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(h=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(t,u,c),-1==a)o[s]=!1,r-=e[s].length2-e[s].length1;else if(o[s]=!0,r=a-c,u==(l=-1==h?t.substring(a,a+u.length):t.substring(a,h+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+u.length);else{var d=this.diff_main(u,l,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(d);for(var p,f=0,g=0;g<e[s].diffs.length;g++){var m=e[s].diffs[g];0!==m[0]&&(p=this.diff_xIndex(d,f)),1===m[0]?t=t.substring(0,a+p)+m[1]+t.substring(a+p):m[0]===n&&(t=t.substring(0,a+p)+t.substring(a+this.diff_xIndex(d,f+m[1].length))),m[0]!==n&&(f+=m[1].length)}}}}return[t=t.substring(i.length,t.length-i.length),o]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,i="",r=1;r<=n;r++)i+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=n,e[r].start2+=n;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,i)),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>s[0][1].length){var a=n-s[0][1].length;s[0][1]=i.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new t.Diff(0,i)),o.length1+=n,o.length2+=n;else if(n>s[s.length-1][1].length){a=n-s[s.length-1][1].length;s[s.length-1][1]+=i.substring(0,a),o.length1+=a,o.length2+=a}return i},t.prototype.patch_splitMax=function(e){for(var i=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=i)){var o=e[r];e.splice(r--,1);for(var s=o.start1,a=o.start2,l="";0!==o.diffs.length;){var c=new t.patch_obj,u=!0;for(c.start1=s-l.length,c.start2=a-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push(new t.Diff(0,l)));0!==o.diffs.length&&c.length1<i-this.Patch_Margin;){var h=o.diffs[0][0],d=o.diffs[0][1];1===h?(c.length2+=d.length,a+=d.length,c.diffs.push(o.diffs.shift()),u=!1):h===n&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*i?(c.length1+=d.length,s+=d.length,u=!1,c.diffs.push(new t.Diff(h,d)),o.diffs.shift()):(d=d.substring(0,i-c.length1-this.Patch_Margin),c.length1+=d.length,s+=d.length,0===h?(c.length2+=d.length,a+=d.length):u=!1,c.diffs.push(new t.Diff(h,d)),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var p=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==p&&(c.length1+=p.length,c.length2+=p.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=p:c.diffs.push(new t.Diff(0,p))),u||e.splice(++r,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var i=[];if(!e)return i;for(var r=e.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<r.length;){var a=r[o].match(s);if(!a)throw new Error("Invalid patch string: "+r[o]);var l=new t.patch_obj;for(i.push(l),l.start1=parseInt(a[1],10),""===a[2]?(l.start1--,l.length1=1):"0"==a[2]?l.length1=0:(l.start1--,l.length1=parseInt(a[2],10)),l.start2=parseInt(a[3],10),""===a[4]?(l.start2--,l.length2=1):"0"==a[4]?l.length2=0:(l.start2--,l.length2=parseInt(a[4],10)),o++;o<r.length;){var c=r[o].charAt(0);try{var u=decodeURI(r[o].substring(1))}catch(h){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)l.diffs.push(new t.Diff(n,u));else if("+"==c)l.diffs.push(new t.Diff(1,u));else if(" "==c)l.diffs.push(new t.Diff(0,u));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}o++}}return i},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[i+1]=e+encodeURI(this.diffs[i][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},219:(e,t,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var v=s[m];if(!o[v]&&(!i||!i[v])&&(!g||!g[v])&&(!a||!a[v])){var y=d(n,v);try{c(t,v,y)}catch(_){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case h:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case r:return t}}}function x(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||w(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},2043:(e,t,n)=>{var i="__lodash_hash_undefined__",r=1/0,o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,g="object"==typeof self&&self&&self.Object===Object&&self,m=f||g||Function("return this")();var v=Array.prototype,y=Function.prototype,_=Object.prototype,b=m["__core-js_shared__"],w=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),x=y.toString,A=_.hasOwnProperty,k=_.toString,C=RegExp("^"+x.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=m.Symbol,E=v.splice,T=$(m,"Map"),I=$(Object,"create"),M=S?S.prototype:void 0,N=M?M.toString:void 0;function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function O(e,t){for(var n,i,r=e.length;r--;)if((n=e[r][0])===(i=t)||n!==n&&i!==i)return r;return-1}function D(e,t){var n;t=function(e,t){if(V(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||H(e))return!0;return c.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:V(n=t)?n:B(n);for(var i=0,r=t.length;null!=e&&i<r;)e=e[U(t[i++])];return i&&i==r?e:void 0}function j(e){if(!W(e)||(t=e,w&&w in t))return!1;var t,n=function(e){var t=W(e)?k.call(e):"";return t==o||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?C:p;return n.test(function(e){if(null!=e){try{return x.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function F(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function $(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return j(n)?n:void 0}R.prototype.clear=function(){this.__data__=I?I(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(I){var n=t[e];return n===i?void 0:n}return A.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:A.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=I&&void 0===t?i:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,n=O(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),!0)},L.prototype.get=function(e){var t=this.__data__,n=O(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return O(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,i=O(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new R,map:new(T||L),string:new R}},P.prototype.delete=function(e){return F(this,e).delete(e)},P.prototype.get=function(e){return F(this,e).get(e)},P.prototype.has=function(e){return F(this,e).has(e)},P.prototype.set=function(e,t){return F(this,e).set(e,t),this};var B=z((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(H(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(t);var n=[];return u.test(e)&&n.push(""),e.replace(h,(function(e,t,i,r){n.push(i?r.replace(d,"$1"):t||e)})),n}));function U(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function z(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(z.Cache||P),n}z.Cache=P;var V=Array.isArray;function W(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&k.call(e)==a}e.exports=function(e,t,n){var i=null==e?void 0:D(e,t);return void 0===i?n:i}},67:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",y="[object Object]",_="[object Promise]",b="[object Proxy]",w="[object RegExp]",x="[object Set]",A="[object String]",k="[object Symbol]",C="[object Undefined]",S="[object WeakMap]",E="[object ArrayBuffer]",T="[object DataView]",I=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[a]=N[l]=N[E]=N[u]=N[T]=N[h]=N[d]=N[p]=N[g]=N[m]=N[y]=N[w]=N[x]=N[A]=N[S]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,L="object"==typeof self&&self&&self.Object===Object&&self,P=R||L||Function("return this")(),O=t&&!t.nodeType&&t,D=O&&e&&!e.nodeType&&e,j=D&&D.exports===O,F=j&&R.process,$=function(){try{return F&&F.binding&&F.binding("util")}catch(e){}}(),B=$&&$.isTypedArray;function U(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,H,q=Array.prototype,K=Function.prototype,G=Object.prototype,Q=P["__core-js_shared__"],Y=K.toString,X=G.hasOwnProperty,J=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=G.toString,ee=RegExp("^"+Y.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=j?P.Buffer:void 0,ne=P.Symbol,ie=P.Uint8Array,re=G.propertyIsEnumerable,oe=q.splice,se=ne?ne.toStringTag:void 0,ae=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ce=(W=Object.keys,H=Object,function(e){return W(H(e))}),ue=Fe(P,"DataView"),he=Fe(P,"Map"),de=Fe(P,"Promise"),pe=Fe(P,"Set"),fe=Fe(P,"WeakMap"),ge=Fe(Object,"create"),me=ze(ue),ve=ze(he),ye=ze(de),_e=ze(pe),be=ze(fe),we=ne?ne.prototype:void 0,xe=we?we.valueOf:void 0;function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function Ee(e){var t=this.__data__=new ke(e);this.size=t.size}function Te(e,t){var n=He(e),i=!n&&We(e),r=!n&&!i&&qe(e),o=!n&&!i&&!r&&Xe(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!X.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,l))||a.push(c);return a}function Ie(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Me(e){return null==e?void 0===e?C:v:se&&se in Object(e)?function(e){var t=X.call(e,se),n=e[se];try{e[se]=void 0;var i=!0}catch(o){}var r=Z.call(e);i&&(t?e[se]=n:delete e[se]);return r}(e):function(e){return Z.call(e)}(e)}function Ne(e){return Ye(e)&&Me(e)==a}function Re(e,t,n,i,s){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!==e&&t!==t:function(e,t,n,i,s,c){var p=He(e),f=He(t),v=p?l:Be(e),_=f?l:Be(t),b=(v=v==a?y:v)==y,C=(_=_==a?y:_)==y,S=v==_;if(S&&qe(e)){if(!qe(t))return!1;p=!0,b=!1}if(S&&!b)return c||(c=new Ee),p||Xe(e)?Oe(e,t,n,i,s,c):function(e,t,n,i,s,a,l){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!a(new ie(e),new ie(t)));case u:case h:case m:return Ve(+e,+t);case d:return e.name==t.name&&e.message==t.message;case w:case A:return e==t+"";case g:var c=z;case x:var p=i&r;if(c||(c=V),e.size!=t.size&&!p)return!1;var f=l.get(e);if(f)return f==t;i|=o,l.set(e,t);var v=Oe(c(e),c(t),i,s,a,l);return l.delete(e),v;case k:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,v,n,i,s,c);if(!(n&r)){var I=b&&X.call(e,"__wrapped__"),M=C&&X.call(t,"__wrapped__");if(I||M){var N=I?e.value():e,R=M?t.value():t;return c||(c=new Ee),s(N,R,n,i,c)}}if(!S)return!1;return c||(c=new Ee),function(e,t,n,i,o,s){var a=n&r,l=De(e),c=l.length,u=De(t),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in t:X.call(t,p)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var g=!0;s.set(e,t),s.set(t,e);var m=a;for(;++d<c;){var v=e[p=l[d]],y=t[p];if(i)var _=a?i(y,v,p,t,e,s):i(v,y,p,e,t,s);if(!(void 0===_?v===y||o(v,y,n,i,s):_)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,s,c)}(e,t,n,i,Re,s))}function Le(e){return!(!Qe(e)||function(e){return!!J&&J in e}(e))&&(Ke(e)?ee:I).test(ze(e))}function Pe(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||G;return e===n}(e))return ce(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Oe(e,t,n,i,s,a){var l=n&r,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=a.get(e);if(h&&a.get(t))return h==t;var d=-1,p=!0,f=n&o?new Se:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var g=e[d],m=t[d];if(i)var v=l?i(m,g,d,t,e,a):i(g,m,d,e,t,a);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!U(t,(function(e,t){if(r=t,!f.has(r)&&(g===e||s(g,e,n,i,a)))return f.push(t);var r}))){p=!1;break}}else if(g!==m&&!s(g,m,n,i,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function De(e){return function(e,t,n){var i=t(e);return He(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Je,$e)}function je(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===i?void 0:n}return X.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:X.call(t,e)},Ae.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ge&&void 0===t?i:t,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},ke.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Ie(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,i=Ie(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(he||ke),string:new Ae}},Ce.prototype.delete=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},Ce.prototype.get=function(e){return je(this,e).get(e)},Ce.prototype.has=function(e){return je(this,e).has(e)},Ce.prototype.set=function(e,t){var n=je(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,i),this},Se.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new ke,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var i=n.__data__;if(!he||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ce(i)}return n.set(e,t),this.size=n.size,this};var $e=ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(ae(e),(function(t){return re.call(e,t)})))}:function(){return[]},Be=Me;function Ue(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function ze(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!==e&&t!==t}(ue&&Be(new ue(new ArrayBuffer(1)))!=T||he&&Be(new he)!=g||de&&Be(de.resolve())!=_||pe&&Be(new pe)!=x||fe&&Be(new fe)!=S)&&(Be=function(e){var t=Me(e),n=t==y?e.constructor:void 0,i=n?ze(n):"";if(i)switch(i){case me:return T;case ve:return g;case ye:return _;case _e:return x;case be:return S}return t});var We=Ne(function(){return arguments}())?Ne:function(e){return Ye(e)&&X.call(e,"callee")&&!re.call(e,"callee")},He=Array.isArray;var qe=le||function(){return!1};function Ke(e){if(!Qe(e))return!1;var t=Me(e);return t==p||t==f||t==c||t==b}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Xe=B?function(e){return function(t){return e(t)}}(B):function(e){return Ye(e)&&Ge(e.length)&&!!N[Me(e)]};function Je(e){return null!=(t=e)&&Ge(t.length)&&!Ke(t)?Te(e):Pe(e);var t}e.exports=function(e,t){return Re(e,t)}},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5494:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6603),s=n(5173),a=n(5043),l=n(67),c=n(4288),u=(0,c.getAceInstance)(),h=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,i=t.onBeforeLoad,r=t.onValidate,o=t.mode,s=t.focus,a=t.theme,l=t.fontSize,h=t.lineHeight,d=t.value,p=t.defaultValue,f=t.showGutter,g=t.wrapEnabled,m=t.showPrintMargin,v=t.scrollMargin,y=void 0===v?[0,0,0,0]:v,_=t.keyboardHandler,b=t.onLoad,w=t.commands,x=t.annotations,A=t.markers,k=t.placeholder;this.editor=u.edit(this.refEditor),i&&i(u);for(var C=Object.keys(this.props.editorProps),S=0;S<C.length;S++)this.editor[C[S]]=this.props.editorProps[C[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"===typeof o?"ace/mode/".concat(o):o),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"===typeof l?"".concat(l,"px"):l),h&&(this.editor.container.style.lineHeight="number"===typeof h?"".concat(h,"px"):"".concat(h),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(p||(d||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(g),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),k&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),r&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(x||[]),A&&A.length>0&&this.handleMarkers(A);var E=this.editor.$options;c.editorOptions.forEach((function(t){E.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(w)&&w.forEach((function(t){"string"===typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),_&&this.editor.setKeyboardHandler("ace/keyboard/"+_),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),s&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,i=0;i<c.editorOptions.length;i++){var r=c.editorOptions[i];n[r]!==t[r]&&this.editor.setOption(r,n[r])}if(n.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+n.className+" "+o.join(" ")}var s=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(s){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"===typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"===typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.lineHeight!==t.lineHeight&&(this.editor.container.style.lineHeight="number"===typeof n.lineHeight?"".concat(n.lineHeight,"px"):n.lineHeight,this.editor.renderer.updateFontSize()),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),l(n.setOptions,t.setOptions)||this.handleOptions(n),!s&&l(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!l(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),l(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.editor&&this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var i in n)n.hasOwnProperty(i)&&this.editor.getSession().removeMarker(n[i].id);for(var i in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(i)&&"ace_active-line"!==n[i].clazz&&"ace_selected-word"!==n[i].clazz&&this.editor.getSession().removeMarker(n[i].id);e.forEach((function(e){var n=e.startRow,i=e.startCol,r=e.endRow,s=e.endCol,a=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new o.Range(n,i,r,s);t.editor.getSession().addMarker(h,a,l,u)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,i=e.renderer.placeholderNode;!n&&i?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!i?((i=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",i.className="ace_comment ace_placeholder",i.style.padding="0 9px",i.style.position="absolute",i.style.zIndex="3",e.renderer.scroller.appendChild(i)):n&&i&&(i.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,i=e.height,o=e.style,s=r({width:n,height:i},o);return a.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={mode:s.oneOfType([s.string,s.object]),focus:s.bool,theme:s.string,name:s.string,className:s.string,height:s.string,width:s.string,fontSize:s.oneOfType([s.number,s.string]),lineHeight:s.oneOfType([s.number,s.string]),showGutter:s.bool,onChange:s.func,onCopy:s.func,onPaste:s.func,onFocus:s.func,onInput:s.func,onBlur:s.func,onScroll:s.func,value:s.string,defaultValue:s.string,onLoad:s.func,onSelectionChange:s.func,onCursorChange:s.func,onBeforeLoad:s.func,onValidate:s.func,minLines:s.number,maxLines:s.number,readOnly:s.bool,highlightActiveLine:s.bool,tabSize:s.number,showPrintMargin:s.bool,cursorStart:s.number,debounceChangePeriod:s.number,editorProps:s.object,setOptions:s.object,style:s.object,scrollMargin:s.array,annotations:s.array,markers:s.array,keyboardHandler:s.string,wrapEnabled:s.bool,enableSnippets:s.bool,enableBasicAutocompletion:s.oneOfType([s.bool,s.array]),enableLiveAutocompletion:s.oneOfType([s.bool,s.array]),navigateToFileEnd:s.bool,commands:s.array,placeholder:s.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(a.Component);t.default=h},2734:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(5173),o=n(5043),s=n(225),a=n(5388),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return i(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new a,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var i=e.diff_main(t,n);e.diff_cleanupSemantic(i);var r=this.generateDiffedLines(i);return this.setCodeMarkers(r)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,i=1,r={left:[],right:[]},o={left:1,right:1};return e.forEach((function(e){var s=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var c=a[0],u=a[a.length-1],h=0;switch(s){case t:o.left+=l,o.right+=l;break;case n:"\n"===c&&(o.left++,l--),0===(h=l)&&r.right.push({startLine:o.right,endLine:o.right}),"\n"===u&&(h-=1),r.left.push({startLine:o.left,endLine:o.left+h}),o.left+=l;break;case i:"\n"===c&&(o.right++,l--),0===(h=l)&&r.left.push({startLine:o.left,endLine:o.left}),"\n"===u&&(h-=1),r.right.push({startLine:o.right,endLine:o.right+h}),o.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),r},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},i=0;i<e.left.length;i++){var r={startRow:e.left[i].startLine-1,endRow:e.left[i].endLine,type:"text",className:"codeMarker"};n.left.push(r)}for(i=0;i<e.right.length;i++){r={startRow:e.right[i].startLine-1,endRow:e.right[i].endLine,type:"text",className:"codeMarker"};n.right.push(r)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return o.createElement(s.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:r.number,editorProps:r.object,enableBasicAutocompletion:r.bool,enableLiveAutocompletion:r.bool,focus:r.bool,fontSize:r.number,height:r.string,highlightActiveLine:r.bool,maxLines:r.number,minLines:r.number,mode:r.string,name:r.string,className:r.string,onLoad:r.func,onPaste:r.func,onScroll:r.func,onChange:r.func,orientation:r.string,readOnly:r.bool,scrollMargin:r.array,setOptions:r.object,showGutter:r.bool,showPrintMargin:r.bool,splits:r.number,style:r.object,tabSize:r.number,theme:r.string,value:r.array,width:r.string,wrapEnabled:r.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(o.Component);t.default=l},4288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var e;return"undefined"===typeof window?(n.g.window={},e=n(6603),delete n.g.window):window.ace?(e=window.ace).acequire=window.ace.require||window.ace.acequire:e=n(6603),e};t.debounce=function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}},1869:(e,t,n)=>{"use strict";var i=n(5494);n(2734).default,n(225).default,t.Ay=i.default},225:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4288),s=(0,o.getAceInstance)(),a=n(6603),l=n(4878),c=n(5173),u=n(5043),h=n(67),d=n(2043),p=function(e){function t(t){var n=e.call(this,t)||this;return o.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=o.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,i=t.onBeforeLoad,r=t.mode,a=t.focus,c=t.theme,u=t.fontSize,h=t.value,p=t.defaultValue,f=t.cursorStart,g=t.showGutter,m=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,_=void 0===y?[0,0,0,0]:y,b=t.keyboardHandler,w=t.onLoad,x=t.commands,A=t.annotations,k=t.markers,C=t.splits;this.editor=s.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(c)),i&&i(s);var S=Object.keys(this.props.editorProps),E=new l.Split(this.editor.container,"ace/theme/".concat(c),C);this.editor.env.split=E,this.splitEditor=E.getEditor(0),this.split=E,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var T=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),E.forEach((function(t,n){for(var i=0;i<S.length;i++)t[S[i]]=e.props.editorProps[S[i]];var a=d(p,n),l=d(h,n,"");t.session.setUndoManager(new s.UndoManager),t.setTheme("ace/theme/".concat(c)),t.renderer.setScrollMargin(_[0],_[1],_[2],_[3]),t.getSession().setMode("ace/mode/".concat(r)),t.setFontSize(u),t.renderer.setShowGutter(g),t.getSession().setUseWrapMode(m),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===a?l:a,f);var y=d(A,n,[]),w=d(k,n,[]);t.getSession().setAnnotations(y),w&&w.length>0&&e.handleMarkers(w,t);for(i=0;i<o.editorOptions.length;i++){var C=o.editorOptions[i];T.hasOwnProperty(C)?t.setOption(C,e.props[C]):e.props[C]&&console.warn("ReaceAce: editor option ".concat(C," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(x)&&x.forEach((function(e){"string"===typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),b&&t.setKeyboardHandler("ace/keyboard/"+b)})),n&&(this.refEditor.className+=" "+n),a&&this.splitEditor.focus();var I=this.editor.env.split;I.setOrientation("below"===this.props.orientation?I.BELOW:I.BESIDE),I.resize(!0),w&&w(I)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,i=this.props,r=this.editor.env.split;if(i.splits!==n.splits&&r.setSplits(i.splits),i.orientation!==n.orientation&&r.setOrientation("below"===i.orientation?r.BELOW:r.BESIDE),r.forEach((function(e,r){i.mode!==n.mode&&e.getSession().setMode("ace/mode/"+i.mode),i.keyboardHandler!==n.keyboardHandler&&(i.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):e.setKeyboardHandler(null)),i.fontSize!==n.fontSize&&e.setFontSize(i.fontSize),i.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(i.showPrintMargin),i.showGutter!==n.showGutter&&e.renderer.setShowGutter(i.showGutter);for(var s=0;s<o.editorOptions.length;s++){var a=o.editorOptions[s];i[a]!==n[a]&&e.setOption(a,i[a])}h(i.setOptions,n.setOptions)||t.handleOptions(i,e);var l=d(i.value,r,"");if(e.getValue()!==l){t.silent=!0;var c=e.session.selection.toJSON();e.setValue(l,i.cursorStart),e.session.selection.fromJSON(c),t.silent=!1}var u=d(i.annotations,r,[]),p=d(n.annotations,r,[]);h(u,p)||e.getSession().setAnnotations(u);var f=d(i.markers,r,[]),g=d(n.markers,r,[]);!h(f,g)&&Array.isArray(f)&&t.handleMarkers(f,e)})),i.className!==n.className){var s=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+i.className+" "+s.join(" ")}i.theme!==n.theme&&r.setTheme("ace/theme/"+i.theme),i.focus&&!n.focus&&this.splitEditor.focus(),i.height===this.props.height&&i.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),i=0;i<n.length;i++)t.setOption(n[i],e.setOptions[n[i]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var i in n)n.hasOwnProperty(i)&&t.getSession().removeMarker(n[i].id);for(var i in n=t.getSession().getMarkers(!1))n.hasOwnProperty(i)&&t.getSession().removeMarker(n[i].id);e.forEach((function(e){var n=e.startRow,i=e.startCol,r=e.endRow,o=e.endCol,s=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new a.Range(n,i,r,o);t.getSession().addMarker(h,s,l,u)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,i=e.height,o=e.style,s=r({width:n,height:i},o);return u.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(u.Component);t.default=p},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D,j=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var $=!1;function B(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case x:return"Portal";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ae=null,ke=null;function Ce(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wr(t),xe(e.stateNode,e.type,t))}}function Se(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function Ee(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Me=!1;function Ne(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==Ae||null!==ke)&&(Ie(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Le=!1}function Oe(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,je=null,Fe=!1,$e=null,Be={onError:function(e){De=!0,je=e}};function Ue(e,t,n,i,r,o,s,a,l){De=!1,je=null,Oe.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===i)return We(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=ht(a):0!==(o&=s)&&(i=ht(o))}else 0!==(s=n&~r)?i=ht(s):0!==o&&(i=ht(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,At,kt,Ct,St=!1,Et=[],Tt=null,It=null,Mt=null,Nt=new Map,Rt=new Map,Lt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function jt(e){var t=yr(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function $t(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Mt&&Ft(Mt)&&(Mt=null),Nt.forEach($t),Rt.forEach($t)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==It&&Ut(It,e),null!==Mt&&Ut(Mt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)jt(n),null===n.blockedOn&&Lt.shift()}var Vt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,i){var r=_t,o=Vt.transition;Vt.transition=null;try{_t=1,Kt(e,t,n,i)}finally{_t=r,Vt.transition=o}}function qt(e,t,n,i){var r=_t,o=Vt.transition;Vt.transition=null;try{_t=4,Kt(e,t,n,i)}finally{_t=r,Vt.transition=o}}function Kt(e,t,n,i){if(Wt){var r=Qt(e,t,n,i);if(null===r)Wi(e,t,i,Gt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,i,r),!0;case"dragenter":return It=Dt(It,e,t,n,i,r),!0;case"mouseover":return Mt=Dt(Mt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Nt.set(o,Dt(Nt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Rt.set(o,Dt(Rt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<Pt.indexOf(e)){for(;null!==r;){var o=_r(r);if(null!==o&&wt(o),null===(o=Qt(e,t,n,i))&&Wi(e,t,i,Gt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Gt=null;function Qt(e,t,n,i){if(Gt=null,null!==(e=yr(e=we(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=j({},cn,{view:0,detail:0}),dn=on(hn),pn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),gn=on(j({},pn,{dataTransfer:0})),mn=on(j({},hn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Cn(){return kn}var Sn=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Sn),Tn=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Mn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Nn),Ln=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Dn=u&&"TextEvent"in window&&!On,jn=u&&(!Pn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),$n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,i){Se(i),0<(t=qi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Fi(e,0)}function Qn(e){if(K(br(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Kn=qn=null)}function ni(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ne(Gn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function oi(e,t){if("click"===e)return Qn(t)}function si(e,t){if("input"===e||"change"===e)return Qn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==mi||mi!==G(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=qi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Ai={},ki={};function Ci(e){if(Ai[e])return Ai[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Ai[e]=n[t];return e}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Si=Ci("animationend"),Ei=Ci("animationiteration"),Ti=Ci("animationstart"),Ii=Ci("transitionend"),Mi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Mi.set(e,t),l(t,[e])}for(var Li=0;Li<Ni.length;Li++){var Pi=Ni[Li];Ri(Pi.toLowerCase(),"on"+(Pi[0].toUpperCase()+Pi.slice(1)))}Ri(Si,"onAnimationEnd"),Ri(Ei,"onAnimationIteration"),Ri(Ti,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ii,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Di=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function ji(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(o(198));var u=je;De=!1,je=null,Fe||(Fe=!0,$e=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;ji(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;ji(r,a,c),o=l}}}if(Fe)throw e=$e,Fe=!1,$e=null,e}function $i(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Vi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Ui]){e[Ui]=!0,s.forEach((function(t){"selectionchange"!==t&&(Di.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Bi("selectionchange",!1,t))}}function Vi(e,t,n,i){switch(Yt(t)){case 1:var r=Ht;break;case 4:r=qt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=yr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Ne((function(){var i=o,r=we(n),s=[];e:{var a=Mi.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Si:case Ei:case Ti:l=vn;break;case Ii:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Re(f,d))&&u.push(Hi(f,g,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:br(l),p=null==c?a:br(c),(a=new u(g,f+"leave",l,n,r)).target=h,a.relatedTarget=p,g=null,yr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Ki(p))f++;for(p=0,g=d;g;g=Ki(g))p++;for(;0<f-p;)u=Ki(u),f--;for(;0<p-f;)d=Ki(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Gi(s,a,l,u,!1),null!==c&&null!==h&&Gi(s,h,c,u,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Wn(a))if(Xn)m=si;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(e,i))?Hn(s,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?br(i):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(s,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(s,n,r)}var y;if(Pn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(y=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,zn=!0)),0<(v=qi(i,_)).length&&(_=new bn(_,e,null,n,r),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=Un(n))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:($n=!0,Fn);case"textInput":return(e=t.data)===Fn&&$n?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}Fi(s,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Re(e,n))&&i.unshift(Hi(e,o,r)),null!=(o=Re(e,t))&&i.push(Hi(e,o,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Re(n,o))&&s.unshift(Hi(n,l,a)):r||null!=(l=Re(n,o))&&s.push(Hi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qi=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Qi,"\n").replace(Yi,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(o(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);zt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wr(e){return e[pr]||null}var xr=[],Ar=-1;function kr(e){return{current:e}}function Cr(e){0>Ar||(e.current=xr[Ar],xr[Ar]=null,Ar--)}function Sr(e,t){Ar++,xr[Ar]=e.current,e.current=t}var Er={},Tr=kr(Er),Ir=kr(!1),Mr=Er;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Cr(Ir),Cr(Tr)}function Pr(e,t,n){if(Tr.current!==Er)throw Error(o(168));Sr(Tr,t),Sr(Ir,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,V(e)||"Unknown",r));return j({},n,i)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Mr=Tr.current,Sr(Tr,e),Sr(Ir,Ir.current),!0}function jr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Or(e,t,Mr),i.__reactInternalMemoizedMergedChildContext=e,Cr(Ir),Cr(Tr),Sr(Tr,e)):Cr(Ir),Sr(Ir,n)}var Fr=null,$r=!1,Br=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function zr(){if(!Br&&null!==Fr){Br=!0;var e=0,t=_t;try{var n=Fr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,$r=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ke(Ze,zr),r}finally{_t=t,Br=!1}}return null}var Vr=[],Wr=0,Hr=null,qr=0,Kr=[],Gr=0,Qr=null,Yr=1,Xr="";function Jr(e,t){Vr[Wr++]=qr,Vr[Wr++]=Hr,Hr=e,qr=t}function Zr(e,t,n){Kr[Gr++]=Yr,Kr[Gr++]=Xr,Kr[Gr++]=Qr,Qr=e;var i=Yr;e=Xr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Yr=1<<32-st(t)+r|n<<r|i,Xr=o+e}else Yr=1<<o|n<<r|i,Xr=e}function eo(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function to(e){for(;e===Hr;)Hr=Vr[--Wr],Vr[Wr]=null,qr=Vr[--Wr],Vr[Wr]=null;for(;e===Qr;)Qr=Kr[--Gr],Kr[Gr]=null,Xr=Kr[--Gr],Kr[Gr]=null,Yr=Kr[--Gr],Kr[Gr]=null}var no=null,io=null,ro=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:Yr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=io;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var i=no;t&&ao(e,t)?so(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=cr(e.nextSibling)}function fo(){io=no=null,ro=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===A?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&_o(o)===t.type)?((i=r(t,n.props)).ref=vo(e,t,n),i.return=e,i):((i=Pc(n.type,n.key,n.props,null,e.mode,i)).ref=vo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case x:return n.key===r?u(e,t,n,i):null;case R:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:h(e,t,n,i,null);yo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case R:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return h(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function g(r,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(r,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(r,h),o=s(v,o,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),ro&&Jr(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return ro&&Jr(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=f(h,r,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),c}function m(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=p(r,g,y.value,c);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(r,g),a=s(_,a,m),null===h?u=_:h.sibling=_,h=_,g=v}if(y.done)return n(r,g),ro&&Jr(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return ro&&Jr(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=f(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(r,e)})),ro&&Jr(r,m),u}return function e(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===A){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&_o(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=vo(i,u,s),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}s.type===A?((o=Oc(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Pc(s.type,s.key,s.props,null,i.mode,l)).ref=vo(i,o,s),l.return=i,i=l)}return a(i);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Fc(s,i.mode,l)).return=i,i=o}return a(i);case R:return e(i,o,(u=s._init)(s._payload),l)}if(te(s))return g(i,o,s,l);if(O(s))return m(i,o,s,l);yo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=jc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var wo=bo(!0),xo=bo(!1),Ao=kr(null),ko=null,Co=null,So=null;function Eo(){So=Co=ko=null}function To(e){var t=Ao.current;Cr(Ao),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){ko=e,So=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Ro=null;function Lo(e){null===Ro?Ro=[e]:Ro.push(e)}function Po(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Lo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Oo(e,i)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Oo(e,n)}return null===(r=i.interleaved)?(t.next=t,Lo(i)):(t.next=r.next,r.next=t),i.interleaved=t,Oo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,i){var r=e.updateQueue;Do=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,p=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=j({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=h}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Ho={},qo=kr(Ho),Ko=kr(Ho),Go=kr(Ho);function Qo(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Sr(Go,t),Sr(Ko,e),Sr(qo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(qo),Sr(qo,t)}function Xo(){Cr(qo),Cr(Ko),Cr(Go)}function Jo(e){Qo(Go.current);var t=Qo(qo.current),n=le(t,e.type);t!==n&&(Sr(Ko,e),Sr(qo,n))}function Zo(e){Ko.current===e&&(Cr(qo),Cr(Ko))}var es=kr(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function is(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,ps=0;function fs(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function ms(e,t,n,i,r,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Zs:ea,e=n(i,r),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,rs.current=ta,e=n(i,r)}while(hs)}if(rs.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function _s(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ls,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,as.lanes|=h,Dl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(_a=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,as.lanes|=s,Dl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);ai(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function As(){}function ks(e,t){var n=as,i=_s(),r=t(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,_a=!0),i=i.queue,Ds(Es.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ns(9,Ss.bind(null,n,i,r,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||Cs(n,t,r)}return r}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,i){t.value=n,t.getSnapshot=i,Ts(t)&&Is(e)}function Es(e,t,n){return n((function(){Ts(t)&&Is(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Is(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function Ms(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Rs(){return _s().memoizedState}function Ls(e,t,n,i){var r=ys();as.flags|=e,r.memoizedState=Ns(1|t,n,void 0,void 0===i?null:i)}function Ps(e,t,n,i){var r=_s();i=void 0===i?null:i;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==i&&gs(i,s.deps))return void(r.memoizedState=Ns(t,n,o,i))}as.flags|=e,r.memoizedState=Ns(1|t,n,o,i)}function Os(e,t){return Ls(8390656,8,e,t)}function Ds(e,t){return Ps(2048,8,e,t)}function js(e,t){return Ps(4,2,e,t)}function Fs(e,t){return Ps(4,4,e,t)}function $s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4,4,$s.bind(null,t,e),n)}function Us(){}function zs(e,t){var n=_s();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=_s();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ai(n,t)||(n=gt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function Hs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=os.transition;os.transition={};try{e(!1),t()}finally{_t=n,os.transition=i}}function qs(){return _s().memoizedState}function Ks(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Ys(t,n);else if(null!==(n=Po(e,t,n,i))){nc(n,e,i,ec()),Xs(n,t,i)}}function Gs(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Ys(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(r.next=r,Lo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Po(e,t,r,i))&&(nc(n,e,i,r=ec()),Xs(n,t,i))}}function Qs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:No,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:No,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ys();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ks.bind(null,as,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ms,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=as,r=ys();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||Cs(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Os(Es.bind(null,i,s,e),[e]),i.flags|=2048,Ns(9,Ss.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(ro){var n=Xr;t=":"+t+"R"+(n=(Yr&~(1<<32-st(Yr)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:No,useCallback:zs,useContext:No,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:js,useLayoutEffect:Fs,useMemo:Vs,useReducer:ws,useRef:Rs,useState:function(){return ws(bs)},useDebugValue:Us,useDeferredValue:function(e){return Ws(_s(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],_s().memoizedState]},useMutableSource:As,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:zs,useContext:No,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:js,useLayoutEffect:Fs,useMemo:Vs,useReducer:xs,useRef:Rs,useState:function(){return xs(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=_s();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[xs(bs)[0],_s().memoizedState]},useMutableSource:As,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=$o(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,r))&&(nc(t,e,r,i),Uo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=$o(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,r))&&(nc(t,e,r,i),Uo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=$o(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Bo(e,r,i))&&(nc(t,e,i,n),Uo(t,e,i))}};function oa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function sa(e,t,n){var i=!1,r=Er,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(r=Rr(t)?Mr:Tr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):Er),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=No(o):(o=Rr(t)?Mr:Tr.current,r.context=Nr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ia(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Vo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=$o(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=i),ha(0,t)},n}function fa(e,t,n){(n=$o(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$o(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ya=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,i){t.child=null===e?xo(t,null,n,i):wo(t,e.child,n,i)}function wa(e,t,n,i,r){n=n.render;var o=t.ref;return Mo(t,r),i=ms(e,t,n,i,o,r),n=vs(),null===e||_a?(ro&&n&&eo(t),t.flags|=1,ba(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function xa(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,(e=Lc(o,i)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(_a=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Wa(e,t,r);0!==(131072&e.flags)&&(_a=!0)}}return Sa(e,t,n,i,r)}function ka(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Ll,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Ll,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Sr(Ll,Rl),Rl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Sr(Ll,Rl),Rl|=i;return ba(e,t,r,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,i,r){var o=Rr(n)?Mr:Tr.current;return o=Nr(t,o),Mo(t,r),n=ms(e,t,n,i,o,r),i=vs(),null===e||_a?(ro&&i&&eo(t),t.flags|=1,ba(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function Ea(e,t,n,i,r){if(Rr(n)){var o=!0;Dr(t)}else o=!1;if(Mo(t,r),null===t.stateNode)Va(e,t),sa(t,n,i),la(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Nr(t,c=Rr(n)?Mr:Tr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,s,i,c),Do=!1;var d=t.memoizedState;s.state=d,Vo(t,i,s,r),l=t.memoizedState,a!==i||d!==l||Ir.current||Do?("function"===typeof u&&(ia(t,n,u,i),l=t.memoizedState),(a=Do||oa(t,n,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Nr(t,l=Rr(n)?Mr:Tr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,i,l),Do=!1,d=t.memoizedState,s.state=d,Vo(t,i,s,r);var f=t.memoizedState;a!==h||d!==f||Ir.current||Do?("function"===typeof p&&(ia(t,n,p,i),f=t.memoizedState),(c=Do||oa(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ta(e,t,n,i,o,r)}function Ta(e,t,n,i,r,o){Ca(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&jr(t,n,!1),Wa(e,t,o);i=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=i.state,r&&jr(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),Yo(e,t.containerInfo)}function Ma(e,t,n,i,r){return fo(),go(r),t.flags|=256,ba(e,t,n,i),t.child}var Na,Ra,La,Pa,Oa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var i,r=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sr(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,r,0,null),e=Oc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,a){if(n)return 256&t.flags?(t.flags&=-257,$a(e,t,a,i=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Dc({mode:"visible",children:i.children},r,0,null),(s=Oc(s,r,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return $a(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,$a(e,t,a,i=ua(s=Error(o(419)),i,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(i=Il)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Oo(e,r),nc(i,e,r,-1))}return gc(),$a(e,t,a,i=ua(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,io=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Kr[Gr++]=Yr,Kr[Gr++]=Xr,Kr[Gr++]=Qr,Yr=e.id,Xr=e.overflow,Qr=t),t=Fa(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,s,n);if(a){a=r.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Lc(i,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,r}return e=(a=e.child).sibling,r=Lc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fa(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $a(e,t,n,i){return null!==i&&go(i),wo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Io(e.return,t,n)}function Ua(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function za(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ba(e,t,i.children,n),0!==(2&(i=es.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Sr(es,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ua(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ts(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ka(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Rr(t.type)&&Lr(),qa(t),null;case 3:return i=t.stateNode,Xo(),Cr(Ir),Cr(Tr),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ra(e,t),qa(t),null;case 5:Zo(t);var r=Qo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return qa(t),null}if(e=Qo(qo.current),ho(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[dr]=t,i[pr]=s,e=0!==(1&t.mode),n){case"dialog":$i("cancel",i),$i("close",i);break;case"iframe":case"object":case"embed":$i("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)$i(Oi[r],i);break;case"source":$i("error",i);break;case"img":case"image":case"link":$i("error",i),$i("load",i);break;case"details":$i("toggle",i);break;case"input":Y(i,s),$i("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$i("invalid",i);break;case"textarea":re(i,s),$i("invalid",i)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$i("scroll",i)}switch(n){case"input":q(i),Z(i,s,!0);break;case"textarea":q(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":$i("cancel",e),$i("close",e),r=i;break;case"iframe":case"object":case"embed":$i("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)$i(Oi[r],e);r=i;break;case"source":$i("error",e),r=i;break;case"img":case"image":case"link":$i("error",e),$i("load",e),r=i;break;case"details":$i("toggle",e),r=i;break;case"input":Y(e,i),r=Q(e,i),$i("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=j({},i,{value:void 0}),$i("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),$i("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&$i("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":q(e),Z(e,i,!1);break;case"textarea":q(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Qo(Go.current),Qo(qo.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(s=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return qa(t),null;case 13:if(Cr(es),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[dr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Xo(),Ra(e,t),null===e&&zi(t.stateNode.containerInfo),qa(t),null;case 10:return To(t.type._context),qa(t),null;case 19:if(Cr(es),null===(s=t.memoizedState))return qa(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Ha(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zl&&(t.flags|=128,i=!0,Ha(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ts(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return qa(t),null}else 2*Xe()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,i=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,Sr(es,i?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ga(e,t){switch(to(t),t.tag){case 1:return Rr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Cr(Ir),Cr(Tr),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Cr(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(es),null;case 4:return Xo(),null;case 10:return To(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},La=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Qo(qo.current);var o,s=null;switch(n){case"input":r=Q(e,r),i=Q(e,i),s=[];break;case"select":r=j({},r,{value:void 0}),i=j({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$i("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Pa=function(e,t,n,i){n!==i&&(t.flags|=4)};var Qa=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){kc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var i=ul,r=hl;ul=null,dl(e,t,n),hl=r,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),zt(e)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){kc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(i=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=i):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var i=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,a,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){kc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&i&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),vl(e),512&i&&null!==n&&Za(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(m){kc(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,u)}switch(l){case"input":J(r,s);break;case"textarea":oe(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(r,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(m){kc(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(m){kc(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Xe())),4&i&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||h,gl(t,e),Ya=u):gl(t,e),vl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(i,n,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Ja=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){kc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&i&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),cl(e,al(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==Ja;){var r=Ja,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Qa;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var c=Ya;if(Qa=s,(Ya=l)&&!c)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?xl(r):null!==l?(l.return=s,Ja=l):xl(r);for(;null!==o;)Ja=o,_l(o,t,n),o=o.sibling;Ja=r,Qa=a,Ya=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ya)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&rl(t)}catch(p){kc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){kc(t,r,l)}}var o=t.return;try{rl(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Al,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Il=null,Ml=null,Nl=0,Rl=0,Ll=kr(0),Pl=0,Ol=null,Dl=0,jl=0,Fl=0,$l=null,Bl=null,Ul=0,zl=1/0,Vl=null,Wl=!1,Hl=null,ql=null,Kl=!1,Gl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Nl?Nl&-Nl:null!==mo.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,i){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));vt(e,n,i),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(jl|=n),4===Pl&&ac(e,Nl)),ic(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(zl=Xe()+500,$r&&zr()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var i=dt(e,e===Il?Nl:0);if(0===i)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$r=!0,Ur(e)}(lc.bind(null,e)):Ur(lc.bind(null,e)),sr((function(){0===(6&Tl)&&zr()})),n=null;else{switch(bt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var i=dt(e,e===Il?Nl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mc(e,i);else{t=i;var r=Tl;Tl|=2;var s=fc();for(Il===e&&Nl===t||(Vl=null,zl=Xe()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}Eo(),Cl.current=s,Tl=r,null!==Ml?t=0:(Il=null,Nl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=oc(e,r))),1===t)throw n=Ol,dc(e,0),ac(e,i),ic(e,Xe()),n;if(6===t)ac(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mc(e,i))&&(0!==(s=ft(e))&&(i=s,t=oc(e,s))),1===t))throw n=Ol,dc(e,0),ac(e,i),ic(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bl,Vl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=Ul+500-Xe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Bl,Vl),t);break}wc(e,Bl,Vl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Bl,Vl),i);break}wc(e,Bl,Vl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Tl))throw Error(o(327));xc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Vl),ic(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(zl=Xe()+500,$r&&zr())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&xc();var t=Tl;Tl|=1;var n=El.transition,i=_t;try{if(El.transition=null,_t=1,e)return e()}finally{_t=i,El.transition=n,0===(6&(Tl=t))&&zr()}}function hc(){Rl=Ll.current,Cr(Ll)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Ml)for(n=Ml.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:Xo(),Cr(Ir),Cr(Tr),is();break;case 5:Zo(i);break;case 4:Xo();break;case 13:case 19:Cr(es);break;case 10:To(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Ml=e=Lc(e.current,null),Nl=Rl=t,Pl=0,Ol=null,Fl=jl=Dl=0,Bl=$l=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(i=(n=Ro[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Ro=null}return e}function pc(e,t){for(;;){var n=Ml;try{if(Eo(),rs.current=Js,us){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,Sl.current=null,null===n||null===n.return){Pl=1,Ol=t,Ml=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ga(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),go(ca(c,l));break e}}s=c=ca(c,l),4!==Pl&&(Pl=2),null===$l?$l=[s]:$l.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===ql||!ql.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Il||0===(268435455&Dl)&&0===(268435455&jl)||ac(Il,Nl)}function mc(e,t){var n=Tl;Tl|=2;var i=fc();for(Il===e&&Nl===t||(Vl=null,dc(e,t));;)try{vc();break}catch(r){pc(e,r)}if(Eo(),Tl=n,Cl.current=i,null!==Ml)throw Error(o(261));return Il=null,Nl=0,Pl}function vc(){for(;null!==Ml;)_c(Ml)}function yc(){for(;null!==Ml&&!Qe();)_c(Ml)}function _c(e){var t=Al(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Ml=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Rl)))return void(Ml=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Pl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Pl&&(Pl=5)}function wc(e,t,n){var i=_t,r=El.transition;try{El.transition=null,_t=1,function(e,t,n,i){do{xc()}while(null!==Gl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,s),e===Il&&(Ml=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var a=_t;_t=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(er=Wt,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=a),p===s&&++h===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),ml(n,e),fi(tr),Wt=!!er,tr=er=null,e.current=n,yl(n,e,r),Ye(),Tl=l,_t=a,El.transition=s}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=r),s=e.pendingLanes,0===s&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,zr()}(e,t,n,i)}finally{El.transition=r,_t=i}return null}function xc(){if(null!==Gl){var e=bt(Ql),t=El.transition,n=_t;try{if(El.transition=null,_t=16>e?16:e,null===Gl)var i=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Tl))throw Error(o(331));var r=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var p=(h=Ja).sibling,f=h.return;if(ol(h),h===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var _=e.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){kc(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=r,zr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,El.transition=t}}return!1}function Ac(e,t,n){e=Bo(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Bo(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Pl||3===Pl&&(130023424&Nl)===Nl&&500>Xe()-Ul?dc(e,0):Fl|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oo(e,t))&&(vt(e,t,n),ic(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Sc(e,n)}function Ic(e,t){return Ke(e,t)}function Mc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,i){return new Mc(e,t,n,i)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,i,r,s){var a=2;if(i=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Oc(n.children,r,s,t);case k:a=8,r|=8;break;case C:return(e=Nc(12,n,t,2|r)).elementType=C,e.lanes=s,e;case I:return(e=Nc(13,n,t,r)).elementType=I,e.lanes=s,e;case M:return(e=Nc(19,n,t,r)).elementType=M,e.lanes=s,e;case L:return Dc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case E:a=9;break e;case T:a=11;break e;case N:a=14;break e;case R:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Oc(e,t,n,i){return(e=Nc(7,e,i,t)).lanes=n,e}function Dc(e,t,n,i){return(e=Nc(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,o,s,a,l){return e=new $c(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Uc(e){if(!e)return Er;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Or(e,n,t)}return t}function zc(e,t,n,i,r,o,s,a,l){return(e=Bc(n,i,!0,e,0,o,0,a,l)).context=Uc(null),n=e.current,(o=$o(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,r),e.current.lanes=r,vt(e,r,i),ic(e,i),e}function Vc(e,t,n,i){var r=t.current,o=ec(),s=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$o(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Bo(r,t,s))&&(nc(e,r,s,o),Uo(e,r,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fo();break;case 5:Jo(t);break;case 1:Rr(t.type)&&Dr(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Sr(Ao,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Sr(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Sr(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Sr(es,1&es.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return za(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(es,es.current),i)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,ro&&0!==(1048576&t.flags)&&Zr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Va(e,t),e=t.pendingProps;var r=Nr(t,Tr.current);Mo(t,n),r=ms(null,t,i,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(i)?(s=!0,Dr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,jo(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,i,e,n),t=Ta(null,t,i,!0,s,n)):(t.tag=0,ro&&s&&eo(t),ba(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(i),e=na(i,e),r){case 0:t=Sa(null,t,i,e,n);break e;case 1:t=Ea(null,t,i,e,n);break e;case 11:t=wa(null,t,i,e,n);break e;case 14:t=xa(null,t,i,na(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Sa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ea(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));i=t.pendingProps,r=(s=t.memoizedState).element,Fo(e,t),Vo(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,i,n,r=ca(Error(o(423)),t));break e}if(i!==r){t=Ma(e,t,i,n,r=ca(Error(o(424)),t));break e}for(io=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=xo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Wa(e,t,n);break e}ba(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(t.flags|=32),Ca(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=wo(t,null,i,n):ba(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Sr(Ao,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Ir.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=$o(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Mo(t,n),i=i(r=No(r)),t.flags|=1,ba(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),xa(e,t,i,r=na(i.type,r),n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Va(e,t),t.tag=1,Rr(i)?(e=!0,Dr(t)):e=!1,Mo(t,n),sa(t,i,r),la(t,i,r,n),Ta(null,t,i,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var e=Wc(s);a.call(e)}}Vc(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Wc(s);o.call(e)}}var s=zc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[fr]=s.current,zi(8===e.nodeType?e.parentNode:e),uc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fr]=l.current,zi(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(s)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Tl)&&(zl=Xe()+500,zr()))}break;case 13:uc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},xt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(o(90));K(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[_r,br,wr,Se,Ee,cc]},tu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,i="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,zi(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,r,0,s,a),e[fr]=t.current,zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case a:case s:case d:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case g:case f:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=h,t.Memo=f},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},3216:(e,t,n)=>{"use strict";var i;n.d(t,{BV:()=>R,Ix:()=>N,Zp:()=>m,g:()=>v,qh:()=>M,zy:()=>f});var r=n(5043),o=n(1387);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}const a=r.createContext(null);const l=r.createContext(null);const c=r.createContext(null);const u=r.createContext(null);const h=r.createContext({outlet:null,matches:[],isDataRoute:!1});const d=r.createContext(null);function p(){return null!=r.useContext(u)}function f(){return p()||(0,o.Oi)(!1),r.useContext(u).location}function g(e){r.useContext(c).static||r.useLayoutEffect(e)}function m(){let{isDataRoute:e}=r.useContext(h);return e?function(){let{router:e}=S(k.UseNavigateStable),t=T(C.UseNavigateStable),n=r.useRef(!1);return g((()=>{n.current=!0})),r.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,s({fromRouteId:t},r)))}),[e,t])}():function(){p()||(0,o.Oi)(!1);let e=r.useContext(a),{basename:t,future:n,navigator:i}=r.useContext(c),{matches:s}=r.useContext(h),{pathname:l}=f(),u=JSON.stringify((0,o.yD)(s,n.v7_relativeSplatPath)),d=r.useRef(!1);return g((()=>{d.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!d.current)return;if("number"===typeof n)return void i.go(n);let s=(0,o.Gh)(n,JSON.parse(u),l,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,o.HS)([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,u,l,e])}()}function v(){let{matches:e}=r.useContext(h),t=e[e.length-1];return t?t.params:{}}function y(e,t,n,i){p()||(0,o.Oi)(!1);let{navigator:a}=r.useContext(c),{matches:l}=r.useContext(h),d=l[l.length-1],g=d?d.params:{},m=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let v,y=f();if(t){var _;let e="string"===typeof t?(0,o.Rr)(t):t;"/"===m||(null==(_=e.pathname)?void 0:_.startsWith(m))||(0,o.Oi)(!1),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=(0,o.ue)(e,{pathname:w});let k=A(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},g,e.params),pathname:(0,o.HS)([m,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:(0,o.HS)([m,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,i);return t&&k?r.createElement(u.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:o.rc.Pop}},k):k}function _(){let e=function(){var e;let t=r.useContext(d),n=E(C.UseRouteError),i=T(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=(0,o.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const b=r.createElement(_,null);class w extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(h.Provider,{value:this.props.routeContext},r.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(a);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(h.Provider,{value:t},i)}function A(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,o.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<l.length;r++){let e=l[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,i,o)=>{let s,a=!1,d=null,p=null;var f;n&&(s=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||b,u&&(h<0&&0===o?(f="route-fallback",!1||I[f]||(I[f]=!0),a=!0,p=null):h===o&&(a=!0,p=i.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,o+1)),m=()=>{let t;return t=s?d:a?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(x,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(w,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function S(e){let t=r.useContext(a);return t||(0,o.Oi)(!1),t}function E(e){let t=r.useContext(l);return t||(0,o.Oi)(!1),t}function T(e){let t=function(){let e=r.useContext(h);return e||(0,o.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.Oi)(!1),n.route.id}const I={};(i||(i=n.t(r,2))).startTransition;function M(e){(0,o.Oi)(!1)}function N(e){let{basename:t="/",children:n=null,location:i,navigationType:a=o.rc.Pop,navigator:l,static:h=!1,future:d}=e;p()&&(0,o.Oi)(!1);let f=t.replace(/^\/*/,"/"),g=r.useMemo((()=>({basename:f,navigator:l,static:h,future:s({v7_relativeSplatPath:!1},d)})),[f,d,l,h]);"string"===typeof i&&(i=(0,o.Rr)(i));let{pathname:m="/",search:v="",hash:y="",state:_=null,key:b="default"}=i,w=r.useMemo((()=>{let e=(0,o.pb)(m,f);return null==e?null:{location:{pathname:e,search:v,hash:y,state:_,key:b},navigationType:a}}),[f,m,v,y,_,b,a]);return null==w?null:r.createElement(c.Provider,{value:g},r.createElement(u.Provider,{children:n,value:w}))}function R(e){let{children:t,location:n}=e;return y(L(t),n)}new Promise((()=>{}));r.Component;function L(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,L(e.props.children,s));e.type!==M&&(0,o.Oi)(!1),e.props.index&&e.props.children&&(0,o.Oi)(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=L(e.props.children,s)),n.push(a)})),n}},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:A.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,w(s)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),I(s,t,r,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=I(a,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,r,u=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],r=0;return I(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:A};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(m=!1,b(e),!g)if(null!==i(c))g=!0,L(x);else{var t=i(u);null!==t&&P(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(S),S=-1),f=!0;var o=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&P(w,h.startTime-n),l=!1}return l}finally{d=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,C=null,S=-1,E=5,T=-1;function I(){return!(t.unstable_now()-T<E)}function M(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?A():(k=!1,C=null)}}else k=!1}if("function"===typeof _)A=function(){_(M)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=M,A=function(){R.postMessage(null)}}else A=function(){v(M,0)};function L(e){C=e,k||(k=!0,A())}function P(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(m?(y(S),S=-1):m=!0,P(w,o-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,L(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},5102:()=>{},4491:()=>{},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{A:()=>i})},8587:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}n.d(t,{A:()=>i})},7150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.g,SDK_VERSION:()=>ue,_DEFAULT_ENTRY_NAME:()=>X,_addComponent:()=>te,_addOrOverwriteComponent:()=>ne,_apps:()=>Z,_clearComponents:()=>se,_components:()=>ee,_getProvider:()=>re,_registerComponent:()=>ie,_removeServiceInstance:()=>oe,deleteApp:()=>fe,getApp:()=>de,getApps:()=>pe,initializeApp:()=>he,onLog:()=>me,registerVersion:()=>ge,setLogLevel:()=>ve});var i=n(8812),r=n(443),o=n(7700);const s=(e,t)=>t.some((t=>e instanceof t));let a,l;const c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=e.call(y(this),t,...i);return h.set(o,t.sort?t.sort():[t]),v(o)}}function m(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),s(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,f):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(v(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),p.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=m(e);return t!==e&&(d.set(e,t),p.set(t,e)),t}const y=e=>p.get(e);const _=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=b.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!_.includes(n))return;const o=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&t.done]))[0]};return w.set(t,o),o}f=(e=>({...e,get:(t,n,i)=>x(t,n)||e.get(t,n,i),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(f);class A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const k="@firebase/app",C="0.9.13",S=new r.Vy("@firebase/app"),E="@firebase/app-compat",T="@firebase/analytics-compat",I="@firebase/analytics",M="@firebase/app-check-compat",N="@firebase/app-check",R="@firebase/auth",L="@firebase/auth-compat",P="@firebase/database",O="@firebase/database-compat",D="@firebase/functions",j="@firebase/functions-compat",F="@firebase/installations",$="@firebase/installations-compat",B="@firebase/messaging",U="@firebase/messaging-compat",z="@firebase/performance",V="@firebase/performance-compat",W="@firebase/remote-config",H="@firebase/remote-config-compat",q="@firebase/storage",K="@firebase/storage-compat",G="@firebase/firestore",Q="@firebase/firestore-compat",Y="firebase",X="[DEFAULT]",J={[k]:"fire-core",[E]:"fire-core-compat",[I]:"fire-analytics",[T]:"fire-analytics-compat",[N]:"fire-app-check",[M]:"fire-app-check-compat",[R]:"fire-auth",[L]:"fire-auth-compat",[P]:"fire-rtdb",[O]:"fire-rtdb-compat",[D]:"fire-fn",[j]:"fire-fn-compat",[F]:"fire-iid",[$]:"fire-iid-compat",[B]:"fire-fcm",[U]:"fire-fcm-compat",[z]:"fire-perf",[V]:"fire-perf-compat",[W]:"fire-rc",[H]:"fire-rc-compat",[q]:"fire-gcs",[K]:"fire-gcs-compat",[G]:"fire-fst",[Q]:"fire-fst-compat","fire-js":"fire-js",[Y]:"fire-js-all"},Z=new Map,ee=new Map;function te(e,t){try{e.container.addComponent(t)}catch(n){S.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ne(e,t){e.container.addOrOverwriteComponent(t)}function ie(e){const t=e.name;if(ee.has(t))return S.debug("There were multiple attempts to register component ".concat(t,".")),!1;ee.set(t,e);for(const n of Z.values())te(n,e);return!0}function re(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;re(e,t).clearInstance(n)}function se(){ee.clear()}const ae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},le=new o.FA("app","Firebase",ae);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const ue="9.23.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:X,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw le.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw le.create("no-options");const a=Z.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(r,a.config))return a;throw le.create("duplicate-app",{appName:s})}const l=new i.h1(s);for(const i of ee.values())l.addComponent(i);const c=new ce(n,r,l);return Z.set(s,c),c}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const t=Z.get(e);if(!t&&e===X&&(0,o.T9)())return he();if(!t)throw le.create("no-app",{appName:e});return t}function pe(){return Array.from(Z.values())}async function fe(e){const t=e.name;Z.has(t)&&(Z.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ge(e,t,n){var r;let o=null!==(r=J[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void S.warn(e.join(" "))}ie(new i.uA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}function me(e,t){if(null!==e&&"function"!==typeof e)throw le.create("invalid-log-argument");(0,r.Ey)(e,t)}function ve(e){(0,r.He)(e)}const ye="firebase-heartbeat-database",_e=1,be="firebase-heartbeat-store";let we=null;function xe(){return we||(we=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=v(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(v(s.result),e.oldVersion,e.newVersion,v(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(ye,_e,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(be)}}).catch((e=>{throw le.create("idb-open",{originalErrorMessage:e.message})}))),we}async function Ae(e,t){try{const n=(await xe()).transaction(be,"readwrite"),i=n.objectStore(be);await i.put(t,ke(e)),await n.done}catch(n){if(n instanceof o.g)S.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});S.warn(e.message)}}}function ke(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ee(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Se();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Se(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Te(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Te(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Se(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await xe();return await t.transaction(be).objectStore(be).get(ke(e))}catch(t){if(t instanceof o.g)S.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});S.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ae(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Te(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ie;Ie="",ie(new i.uA("platform-logger",(e=>new A(e)),"PRIVATE")),ie(new i.uA("heartbeat",(e=>new Ce(e)),"PRIVATE")),ge(k,C,Ie),ge(k,C,"esm2017"),ge("fire-js","")},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>r});var i=n(7700);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===o?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>r,Ey:()=>h,He:()=>u,Vy:()=>c});const i=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const o={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=a[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}function u(e){i.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=o[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];const l=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:l,args:s,type:t.name})}}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,__webpack_require__.d(r,o),r}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".258b012d.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";__webpack_require__.l=(n,i,r,o)=>{if(e[n])e[n].push(i);else{var s,a;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[i];var h=(t,i)=>{s.onerror=s.onload=null,clearTimeout(d);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(i))),t)return t(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,o=n[0],s=n[1],a=n[2],l=0;if(o.some((t=>0!==e[t]))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);if(a)a(__webpack_require__)}for(t&&t(n);l<o.length;l++)r=o[l],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(5043),t=__webpack_require__.t(e,2),n=__webpack_require__(4391),i=__webpack_require__(3216),r=__webpack_require__(1660),o=__webpack_require__(579);function s(){return(0,o.jsx)("div",{children:"signin_page"})}const a=__webpack_require__.p+"static/media/level1.1df8d75e543f3280cdb4.png",l=__webpack_require__.p+"static/media/level2.5689e3a655f84a0dae86.png",c=__webpack_require__.p+"static/media/level3.8acefd2982c0b676d7f5.png",u=__webpack_require__.p+"static/media/level4.26a52a7778888c55f71f.png",h=__webpack_require__.p+"static/media/Master.4614c05ed6814f539a98.png",d=__webpack_require__.p+"static/media/your_bot.c6ec19f7db459cb9fb48.png",p=__webpack_require__.p+"static/media/demo.f4e6f24137dbb791ada3.mp4",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAIAAAAxBA+LAAAYrUlEQVR4nO3dzY4aSbeGUXzU93/LfQa0qvtDWZAZREbsn7VmnhQltPW8Bsvw5++//34AQFf/t/sXAICdDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArRlCAFozhAC0ZggBaM0QAtCaIQSgNUMIQGuGEIDWDCEArf21+xfI5M+fP7t/BYCz/v77792/Qg5eEZ5lBYFcVOskQwhAa94aHedth9/8/D3UU/SbN39V96T9xl195CXgGK8Ix7k5xry/HHfFGJczzBB+xeVx1ZmbcVdc5Wa+YQgve3lbxv1x3su1/PeW3BXD3twVZxjCEZrFgI+1clcMsILfM4SDNItLTtbKXXGJFZzCEI7TLE66VCt3xUlWcBZD+BXN4qOBWrkrPrKCExnCb2kWbwzXyl3xhhWcyxBOoFkc+rJW7opDVnA6QziHZvFiSq3cFS+s4B0M4TSaxY+JtXJX/LCCNzGEM2kWjxtq5a54WME7GcLJNKu5m2rlrpqzgrcyhPNpVlu31spdtWUF72YIb6FZDS2olbtqyAouYAjvolmtLKuVu2rFCq5hCG+kWU0srpW7asIKLmMI76VZ5W2plbsqzwquZAhvp1mFbayVuyrMCi5mCFfQrJK218pdlbT9rhoyhItoVjFBauWuiglyV90YwnU0q4xQtXJXZYS6q1YM4VKaVUDAWrmrAgLeVR+GcDXNSi1srdxVamHvqglDuIFmJRW8Vu4qqeB31YEh3EOz0klRK3eVToq7Ks8QbqNZiSSqlbtKJNFd1WYId9KsFNLVyl2lkO6uCjOEm2lWcElr5a6CS3pXVRnC/TQrrNS1cldhpb6rkgxhCJoVUIFauauACtxVPYYwCs0KpUyt3FUoZe6qGEMYiGYFUaxW7iqIYndViSGMRbO2K1krd7VdybsqwxCGo1kbFa6Vu9qo8F3VYAgj0qwtytfKXW1R/q4KMIRBadZiTWrlrhZrclfZGcK4NGuZVrVyV8u0uqvUDGFomrVAw1q5qwUa3lVehjA6zbpV21q5q1u1vaukDGECmnWT5rVyVzdpflcZGcIcNGs6tXq4qxu4q4wMYRqaNZFa/XBXE7mrpAxhJpo1hVq9cFdTuKu8DGEymvUltTrkrr7krlIzhPlo1jC1esNdDXNX2RnClDRrgFp95K4GuKsCDGFWmnWJWp3kri5xVzUYwsQ06yS1usRdneSuyjCEuWnWR2o1wF195K4qMYTpadYbajXMXb3hrooxhBVo1iG1+pK7OuSu6jGERWjWC7Wawl29cFclGcI6NOuHWk3krn64q6oMYSma9VCrG7irh7sqzRBW07xZanUTd/XfP7qrYgxhQW2bpVa3cldP7qoeQ1hTw2ap1QLuyl2VZAjLatUstVrGXVGPIaysSbPUajF3RTGGsLjyzVKrLdwVlRjC+go3S602cleUYQhbKNkstdrOXVGDIeyiWLPUKgh3RQGGsJEyzVKrUNwV2RnCXgo0S60CclekZgjbSd0stQrLXZGXIewoabPUKjh3RVKGsKl0zVKrFNwVGRnCvhI1S60ScVekYwhbS9EstUrHXZGLIewueLPUKil3RSKGkLjNUqvU3BVZGEIej5DNUqsC3BUpGEL+EapZalWGuyI+Q8i/gjRLrYpxVwRnCPkf25ulViW5KyIzhLza2Cy1KsxdEZYh5MCWZqlVee6KmAwhxxY3S62acFcEZAj51bJmqVUr7opoDCHvLGiWWjXkrgjFEPLBrc1Sq7bcFXEYQj67qVlq1Zy7IghDyCnTm6VWPNwVMRhCzprYLLXih7tiO0PIBVOapVa8cFfsZQi55stmqRWH3BUbGUIuG26WWvGGu2IXQ8iIgWapFR+5K7YwhAy61Cy14iR3xXqGkHEnm6VWXOKuWMwQ8pWPzVIrBrgrVjKEfOtNs9SKYe6KZQwhE5wpkVpxlbtiDUPIHO97pFaMcVcs8MclnbTm27QBJlL4M7wiBKA1QwhAa3/t/gXy8VbDb968e+xJ+83Pk+Yp+o27GuCfci7xipA5Ln0CCJzkrljAEDLBwGdCwkfuijUMId9687+bp3//OH24K5YxhHzl42d8aBYD3BUrGULGnfykK83iEnfFYoaQQZc+71GzOMldsZ4hZMTApx5rFh+5K7YwhFw2/Nn/msUb7opdDCHXfPkNOJrFIXfFRoaQC6Z8D5xm8cJdsZch5KyJ34aqWfxwV2xnCDll+neCaxYPd0UMhpDPptfq8OdoVjfuiiAMIR/cVKvDn6ZZfbgr4jCEvHNrrQ5/pmZ14K4IxRDyqwW1OvzJmlWbuyIaQ8ixZbU6/PmaVZW7IiBDyIHFtTp8FM2qx10RkyHk1ZZaHT6WZlXirgjLEPI/Ntbq8BE1qwZ3RWSGkH9tr9Xh42pWdu6K4Awh/whSq8NH16y83BXxGUIej2C1OvwdNCsjd0UKhpCItXrSrNTcFVkYwu7C1upJs5JyVyRiCFsLXqsnzUrHXZGLIewrRa2eNCsRd0U6hrCpRLV60qwU3BUZGcKO0tXqSbOCc1ckZQjbSVqrJ80Ky12RlyHsJXWtnjQrIHdFaoawkQK1etKsUNwV2RnCLsrU6kmzgnBXFGAIWyhWqyfN2s5dUYMhrK9krZ40ayN3RRmGsLjCtXrSrC3cFZUYwsrK1+pJsxZzVxRjCMtqUqsnzVrGXVGPIaypVa2eNGsBd+WuSjKEBTWs1ZNm3cpdPbmregxhNW1r9aRZN3FX//2juyrGEJbSvFZPmjWdu3q4q9IMYR1q9UOzJnJXP9xVVYawCLV6oVlTuKsX7qokQ1iBWh3SrC+5q0Puqh5DmJ5avaFZw9zVG+6qGEOYm1p9pFkD3NVH7qoSQ5iYWp2kWZe4q5PcVRmGMCu1ukSzTnJXl7irGgxhSmo1QLM+clcD3FUBhjAftRqmWW+4q2HuKjtDmIxafUmzDrmrL7mr1AxhJmo1hWa9cFdTuKu8DGEaajWRZv1wVxO5q6QMYQ5qNZ1mPdzVDdxVRoYwAbW6SfNmuaubNL+rjAxhdGp1q7bNcle3antXSRnC0NRqgYbNclcLNLyrvAxhXGq1TKtmuatlWt1VaoYwKLVarEmz3NViTe4qO0MYkVptUb5Z7mqL8ndVgCEMR602Ktwsd7VR4buqwRDGolbblWyWu9qu5F2VYQgDUasgijXLXQVR7K4qMYRRqFUoZZrlrkIpc1fFGMIQ1CqgAs1yVwEVuKt6DOF+ahVW6ma5q7BS31VJhnAztQouabPcVXBJ76oqQ7iTWqWQrlnuKoV0d1WYIdxGrRJJ1Cx3lUiiu6rNEO6hVumkaJa7SifFXZVnCDdQq6SCN8tdJRX8rjowhKupVWphm+WuUgt7V00YwqXUqoCAzXJXBQS8qz4M4TpqVUaoZrmrMkLdVSuGcBG1KiZIs9xVMUHuqhtDuIJalbS9We6qpO131ZAhvJ1aFbaxWe6qMFu4mCG8l1qVt6VZ7qo8W7iSIbyRWjWxuFnuqglbuIwhvItatbKsWe6qFVu4hiG8hVo1tKBZ7qohW7iAIZxPrdq6tVnuqi1beDdDOJlaNXdTs9xVc7bwVoZwJrXicUOz3BUPW3gnQziNWvFjYrPcFT9s4U0M4RxqxYspzXJXvLCFdzCEE6gVh75slrvikC2czhB+S614Y7hZ7oo3bOFchvArasVHA81yV3xkCycyhOPUipMuNctdcZItnMUQDlIrLjnZLHfFJbZwCkM4Qq0Y8LFZ7ooBtvB7hvAytWLYm2a5K4bZwi8Zwq+oFVeduRl3xVVu5huGcJzLY8z7y3FXjHE5w/547k7ybgOQjsKf4RUhAK0ZQgBa+2v3L5CY9xx+8/M2sqfoN2/eafek/cZdfeRfcMZ4RTjOzTHm0ifLwEkuZ5gh/IrL46qBzxqFj9zMNwzhZf7vKsPe/K95d8Uwn8bwJUM4QrMY8LFW7ooBVvB7hnCQZnHJyVq5Ky6xglMYwnGaxUmXauWuOMkKzmIIv6JZfDRQK3fFR1ZwIkP4Lc3ijeFauSvesIJzGcIJNItDX9bKXXHICk5nCOfQLF5MqZW74oUVvIMhnEaz+DGxVu6KH1bwJoZwJs3icUOt3BUPK3gnQziZZjV3U63cVXNW8FaGcD7NauvWWrmrtqzg3QzhLTSroQW1clcNWcEFDOFdNKuVZbVyV61YwTUM4Y00q4nFtXJXTVjBZQzhvTSrvC21clflWcGVDOHtNKuwjbVyV4VZwcUM4QqaVdL2WrmrkrbfVUOGcBHNKiZIrdxVMUHuqhtDuI5mlRGqVu6qjFB31YohXEqzCghYK3dVQMC76sMQrqZZqYWtlbtKLexdNWEIN9CspILXyl0lFfyuOjCEe2hWOilq5a7SSXFX5RnCbTQrkUS1cleJJLqr2gzhTpqVQrpauasU0t1VYYZwM80KLmmt3FVwSe+qKkO4n2aFlbpW7iqs1HdVkiEMQbMCKlArdxVQgbuqxxBGoVmhlKmVuwqlzF0VYwgD0awgitXKXQVR7K4qMYSxaNZ2JWvlrrYreVdlGMJwNGujwrVyVxsVvqsaDGFEmrVF+Vq5qy3K31UBhjAozVqsSa3c1WJN7io7QxiXZi3TqlbuaplWd5WaIQxNsxZoWCt3tUDDu8rLEEanWbdqWyt3dau2d5WUIUxAs27SvFbu6ibN7yojQ5iDZk2nVg93dQN3lZEhTEOzJlKrH+5qIneVlCHMRLOmUKsX7moKd5WXIUxGs76kVofc1ZfcVWqGMB/NGqZWb7irYe4qO0OYkmYNUKuP3NUAd1WAIcxKsy5Rq5Pc1SXuqgZDmJhmnaRWl7irk9xVGYYwN836SK0GuKuP3FUlhjA9zXpDrYa5qzfcVTGGsALNOqRWX3JXh9xVPYawCM16oVZTuKsX7qokQ1iHZv1Qq4nc1Q93VZUhLEWzHmp1A3f1cFelGcJqmjdLrW7irv77R3dVjCEsqG2z1OpW7urJXdVjCGtq2Cy1WsBduauSDGFZrZqlVsu4K+oxhJU1aZZaLeauKMYQFle+WWq1hbuiEkNYX+FmqdVG7ooyDGELJZulVtu5K2owhF0Ua5ZaBeGuKMAQNlKmWWoVirsiO0PYS4FmqVVA7orUDGE7qZulVmG5K/IyhB0lbZZaBeeuSMoQNpWuWWqVgrsiI0PYV6JmqVUi7op0DGFrKZqlVum4K3IxhN0Fb5ZaJeWuSMQQErdZapWauyILQ8jjEbJZalWAuyIFQ8g/QjVLrcpwV8RnCPlXkGapVTHuiuAMIf9je7PUqiR3RWSGkFcbm6VWhbkrwjKEHNjSLLUqz10RkyHk2OJmqVUT7oqADCG/WtYstWrFXRGNIeSdBc1Sq4bcFaEYQj64tVlq1Za7Ig5DyGc3NUutmnNXBGEIOWV6s9SKh7siBkPIWRObpVb8cFdsZwi5YEqz1IoX7oq9DCHXfNksteKQu2IjQ8hlw81SK95wV+xiCBkx0Cy14iN3xRaGkEGXmqVWnOSuWM8QMu5ks9SKS9wVixlCvvKxWWrFAHfFSoaQb71plloxzF2xjCFkgjMlUiuuclesYQiZ432P1Iox7ooF/rikk9Z8mzbARAp/hleEALRmCAFo7a/dv0A+3mr4zZt3jz1pv/l50jxFv3FXA/xTziVeETLHpU8AgZPcFQsYQiYY+ExI+MhdsYYh5Ftv/nfz9O8fpw93xTKGkK98/IwPzWKAu2IlQ8i4k590pVlc4q5YzBAy6NLnPWoWJ7kr1jOEjBj41GPN4iN3xRaGkMuGP/tfs3jDXbGLIeSaL78BR7M45K7YyBBywZTvgdMsXrgr9jKEnDXx21A1ix/uiu0MIadM/05wzeLhrojBEPLZ9Fod/hzN6sZdEYQh5IObanX40zSrD3dFHIaQd26t1eHP1KwO3BWhGEJ+taBWhz9Zs2pzV0RjCDm2rFaHP1+zqnJXBGQIObC4VoePoln1uCtiMoS82lKrw8fSrErcFWEZQv7HxlodPqJm1eCuiMwQ8q/ttTp8XM3Kzl0RnCHkH0FqdfjompWXuyI+Q8jjEaxWh7+DZmXkrkjBEBKxVk+alZq7IgtD2F3YWj1pVlLuikQMYWvBa/WkWem4K3IxhH2lqNWTZiXirkjHEDaVqFZPmpWCuyIjQ9hRulo9aVZw7oqkDGE7SWv1pFlhuSvyMoS9pK7Vk2YF5K5IzRA2UqBWT5oVirsiO0PYRZlaPWlWEO6KAgxhC8Vq9aRZ27krajCE9ZWs1ZNmbeSuKMMQFle4Vk+atYW7ohJDWFn5Wj1p1mLuimIMYVlNavWkWcu4K+oxhDW1qtWTZi3grtxVSYawoIa1etKsW7mrJ3dVjyGspm2tnjTrJu7qv390V8UYwlKa1+pJs6ZzVw93VZohrEOtfmjWRO7qh7uqyhAWoVYvNGsKd/XCXZVkCCtQq0Oa9SV3dchd1WMI01OrNzRrmLt6w10VYwhzU6uPNGuAu/rIXVViCBNTq5M06xJ3dZK7KsMQZqVWl2jWSe7qEndVgyFMSa0GaNZH7mqAuyrAEOajVsM06w13NcxdZWcIk1GrL2nWIXf1JXeVmiHMRK2m0KwX7moKd5WXIUxDrSbSrB/uaiJ3lZQhzEGtptOsh7u6gbvKyBAmoFY3ad4sd3WT5neVkSGMTq1u1bZZ7upWbe8qKUMYmlot0LBZ7mqBhneVlyGMS62WadUsd7VMq7tKzRAGpVaLNWmWu1qsyV1lZwgjUqstyjfLXW1R/q4KMIThqNVGhZvlrjYqfFc1GMJY1Gq7ks1yV9uVvKsyDGEgahVEsWa5qyCK3VUlhjAKtQqlTLPcVShl7qoYQxiCWgVUoFnuKqACd1WPIdxPrcJK3Sx3FVbquyrJEG6mVsElbZa7Ci7pXVVlCHdSqxTSNctdpZDurgozhNuoVSKJmuWuEkl0V7UZwj3UKp0UzXJX6aS4q/IM4QZqlVTwZrmrpILfVQeGcDW1Si1ss9xVamHvqglDuJRaFRCwWe6qgIB31YchXEetygjVLHdVRqi7asUQLqJWxQRplrsqJshddWMIV1CrkrY3y12VtP2uGjKEt1OrwjY2y10VZgsXM4T3UqvytjTLXZVnC1cyhDdSqyYWN8tdNWELlzGEd1GrVpY1y121YgvXMIS3UKuGFjTLXTVkCxcwhPOpVVu3NstdtWUL72YIJ1Or5m5qlrtqzhbeyhDOpFY8bmiWu+JhC+9kCKdRK35MbJa74octvIkhnEOteDGlWe6KF7bwDoZwArXi0JfNclccsoXTGcJvqRVvDDfLXfGGLZzLEH5FrfhooFnuio9s4USGcJxacdKlZrkrTrKFsxjCQWrFJSeb5a64xBZOYQhHqBUDPjbLXTHAFn7PEF6mVgx70yx3xTBb+CVD+BW14qozN+OuuMrNfMMQjnN5jHl/Oe6KMS5n2B/P3UnebQDSUfgzvCIEoDVDeJa/WAG5qNZJ3hoFoDWvCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFozRAC0JohBKA1QwhAa4YQgNYMIQCtGUIAWjOEALRmCAFo7f8BFN78oknUVc4AAAAASUVORK5CYII=";var g=__webpack_require__(1869);__webpack_require__(6960),__webpack_require__(8321),__webpack_require__(454);function m(t){let{set_new_bot:n,set_code:i,set_selected_bot:s,set_is_open_add_bot:a}=t;const{user:l}=(0,e.useContext)(r.B),c=(0,e.useRef)(null),[u,h]=(0,e.useState)(l.username+(new Date).getMilliseconds());return(0,e.useEffect)((()=>{c.current.onclick=()=>{fetch("https://coganh.onrender.com/create_bot?owner=".concat(l.username,"&bot_name=").concat(u)).then((e=>e.json())).then((e=>{n((new Date).getMilliseconds()),i('# NOTE: tool\n# valid_move(x, y, board): tr\u1ea3 v\u1ec1 c\xe1c n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7 c\u1ee7a m\u1ed9t qu\xe2n c\u1edd - ((x, y), ...)\n# distance(x1, y1, x2, y2): tr\u1ea3 v\u1ec1 s\u1ed1 n\u01b0\u1edbc \u0111i \xedt nh\u1ea5t t\u1eeb (x1, y1) \u0111\u1ebfn (x2, y2) - n\n\n# NOTE: player\n# player.your_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - [(x, y), ...]\n# player.opp_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a \u0111\u1ed1i th\u1ee7 - [(x, y), ...]\n# player.your_side: m\xe0u qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - 1:\ud83d\udd35\n# player.board: b\xe0n c\u1edd - -1:\ud83d\udd34 / 1:\ud83d\udd35 / 0:\u2205\n\n# Remember that player.board[y][x] is the tile at (x, y) when printing\ndef main(player):\n    move = [[-1,0],[0,-1],[0,1],[1,0]]\n    for x,y in player.your_pos:\n        for mx,my in move:\n            if 0 <= x+mx <= 4 and 0 <= y+my <= 4 and player.board[y+my][x+mx] == 0:\n                return {"selected_pos": (x,y), "new_pos": (x+mx, y+my)}'),s(e),a(!1)})).catch((e=>console.log(e)))}}),[u]),(0,o.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/3 h-2/3 bg-slate-700 z-[1000000000000] rounded-lg flex flex-col items-center py-10",children:[(0,o.jsx)("p",{className:"text-3xl my-10",children:"Nh\u1eadp t\xean bot"}),(0,o.jsx)("input",{value:u,onChange:e=>h(e.target.value),className:"bg-slate-700 outline-none border border-white focus:border-blue-500 rounded-md px-5 py-2"}),(0,o.jsx)("div",{ref:c,className:"px-5 py-1 text-2xl bg-blue-600 rounded mt-auto cursor-pointer select-none hover:brightness-90",children:"T\u1ea1o"})]})}function v(t){let{set_selected_bot:n,selected_bot:i,set_new_bot:s,set_is_open_remove_bot:a}=t;const{user:l}=(0,e.useContext)(r.B),c=(0,e.useRef)(null),u=(0,e.useRef)(null);return(0,e.useEffect)((()=>{c.current&&(c.current.onclick=()=>{fetch("https://coganh.onrender.com/remove_bot?owner=".concat(l.username,"&bot_name=").concat(i.bot_name)).then((e=>e.json())).then((e=>{n(null),s((new Date).getMilliseconds()),a(!1)})).catch((e=>console.log(e)))}),u.current&&(u.current.onclick=()=>a(!1))}),[]),(0,o.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/3 h-2/3 bg-slate-700 z-[1000000000000] rounded-lg flex flex-col items-center py-20",children:[(0,o.jsxs)("div",{className:"w-32 h-auto bg-[#DCF9FF] flex flex-col items-center relative mt-10 rounded-md",children:[(0,o.jsx)("img",{className:"max-w-28",src:d,alt:""}),(0,o.jsx)("div",{className:"text-xl text-red-600 font-semibold",children:i.bot_name}),(0,o.jsx)("div",{className:"CB_bot_item_info",style:{transform:"translateY(50%)",display:"block"},children:(0,o.jsxs)("div",{className:"introduce text-xl",children:["\u0110\u1eeaNG X\xd3A T\xd4I :","((((("]})})]}),(0,o.jsxs)("div",{className:"flex mt-auto",children:[(0,o.jsx)("div",{ref:u,className:"px-5 py-1 mx-2 text-2xl bg-blue-600 rounded mt-auto cursor-pointer select-none hover:brightness-90",children:"Gi\u1eef l\u1ea1i"}),(0,o.jsx)("div",{ref:c,className:"px-5 py-1 mx-2 text-2xl bg-slate-400 rounded mt-auto cursor-pointer select-none hover:brightness-90",children:"X\xd3A"})]})]})}const y={level1:a,level2:l,level3:c,level4:u,Master:h,your_bot:d};function _(){const{history:t,user:n}=(0,e.useContext)(r.B),{username:i}=n,[s,_]=(0,e.useState)(""),[b,w]=(0,e.useState)(i),[x,A]=(0,e.useState)([]),[k,C]=(0,e.useState)({bot_name:i}),[S,E]=(0,e.useState)(p),[T,I]=(0,e.useState)(!0),[M,N]=(0,e.useState)(!0),[R,L]=(0,e.useState)(!1),[P,O]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{i&&fetch("https://coganh.onrender.com/get_user_bot/"+n.username).then((e=>e.json())).then((e=>{e[0]?((s.length<5||!k)&&(_(e[0].code),C(e[0])),A(e)):_('# NOTE: tool\n# valid_move(x, y, board): tr\u1ea3 v\u1ec1 c\xe1c n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7 c\u1ee7a m\u1ed9t qu\xe2n c\u1edd - ((x, y), ...)\n# distance(x1, y1, x2, y2): tr\u1ea3 v\u1ec1 s\u1ed1 n\u01b0\u1edbc \u0111i \xedt nh\u1ea5t t\u1eeb (x1, y1) \u0111\u1ebfn (x2, y2) - n\n\n# NOTE: player\n# player.your_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - [(x, y), ...]\n# player.opp_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a \u0111\u1ed1i th\u1ee7 - [(x, y), ...]\n# player.your_side: m\xe0u qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - 1:\ud83d\udd35\n# player.board: b\xe0n c\u1edd - -1:\ud83d\udd34 / 1:\ud83d\udd35 / 0:\u2205\n\n# Remember that player.board[y][x] is the tile at (x, y) when printing\ndef main(player):\n    move = [[-1,0],[0,-1],[0,1],[1,0]]\n    for x,y in player.your_pos:\n        for mx,my in move:\n            if 0 <= x+mx <= 4 and 0 <= y+my <= 4 and player.board[y+my][x+mx] == 0:\n                return {"selected_pos": (x,y), "new_pos": (x+mx, y+my)}')})).catch((e=>console.error(e)))}),[i,b]),(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),t=document.querySelectorAll.bind(document),n=e(".CB_coding_module-nav--saveBtn"),i=t(".fight_result_item");(n.dataset.saved="true")&&(n.style.backgroundColor="#1E1E1E",n.style.color="#fff"),i.forEach((e=>{e.style.display="none"}))}),[s]),(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),t=document.querySelectorAll.bind(document),i="vudeptrAI",r=e(".CB_coding_module-nav--CB_runBtn.cb_btn"),o=e(".CB_coding_module-nav--saveBtn"),a=e(".utility_block-element.terminal"),l=e(".utility_block-element.rule"),c=e(".utility_block-element.result"),u=t(".utility_block-element"),h=e(".CB_coding_module-nav--CB_runBtn.CB_loader"),d=e(".bot_display-video--result"),p=e(".bot_display-video--debug"),f=e(".bot_display-video--help"),g=t(".utility_nav-block--item"),m=e(".utility_nav-block--item.rule"),v=e(".utility_nav-block--item.terminal"),_=e(".utility_nav-block--item.result"),b=e(".bot_display_nav-block--item.video"),w=e(".bot_display_nav-block--item.debug"),x=e(".bot_display_nav-block--item.help"),A=e(".utility_nav-block .animation"),C=e(".utility_nav-block .animation .children"),S=e(".bot_display_nav-block .animation"),T=e(".bot_display_nav-block .animation .children"),I=t(".bot_display-video-item"),M=e(".bot_display-video--debug .arrow_right"),N=e(".bot_display-video--debug .arrow_left"),R=e(".debug_img_list"),L=e(".counter"),P=e(".selector"),O=e(".loading_video"),D=e(".loading_image"),j=(e(".loading_nav_image"),e(".loading_nav_video"),e(".loading_nav_image .loader")),F=e(".loading_nav_video .loader"),$=e(".loading_nav_image .check_icon"),B=e(".loading_nav_video .check_icon"),U=e(".loading_nav_image .fail_icon"),z=e(".loading_nav_video .fail_icon"),V=e("input#debug"),W=e("input#video"),H=e(".debug_info-selected_pos"),q=e(".debug_info-new_pos"),K=e(".debug_info-move_level");let G;const Q=e(".win_loose_block");let Y,X=['\n    <div class="winer">\n    <div class="winer_avatar">T</div>\n    <div class="winer_info">\n        <div class="winer_title">VICTORY</div>\n        <div class="winer_info_name">{winer_name}</div>\n    </div>\n    \x3c!-- <div class="side blue"></div> --\x3e\n    ','\n    </div>\n    <div class="loser">\n        <div class="loser_avatar"><img src="../../../public/img/bot4.png" alt=""></div>\n        <div class="loser_info">\n            <div class="loser_title">DEFEATED</div>\n            <div class="loser_info_name">{loser_name}</div>\n        </div>\n        \x3c!-- <div class="side red"></div> --\x3e\n    </div>\n    '];var J={code:"",bot:"",username:n.username,your_bot_name:(null===k||void 0===k?void 0:k.bot_name)||n.username};const Z=t(".CB_bot_item");let ee;Z.forEach((e=>{e.onclick=t=>{if(e.classList.contains("CB_selected"))return Y="",J.bot="",G="",e.classList.remove("CB_selected"),void r.classList.remove("CB_active");Z.forEach((e=>e.classList.remove("CB_selected"))),Y=e.dataset.level,e.classList.add("CB_selected"),J.bot=Y,G=e,r.classList.add("CB_active")}}));let te,ne=0,ie="video",re="rule",oe=[],se=[];var ae=e(".bot_display-video--result");function le(e){ue(G,".fight_result_loader"),O.style.display="block",d.style.display="none",F.style.display="block",B.style.display="none",fetch("https://coganh.onrender.com/run_bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{W.checked&&!V.checked&&(a.innerHTML="");const t=e.output.replaceAll("\n","<br>").replaceAll("    ","&emsp;");200===e.code?(te=e,a.innerHTML+="\n                <br>\n                [video output] <br>\n                <br>\n            ",a.innerHTML+="".concat(t)):(console.log(t),a.innerHTML+="".concat(t))})).catch((e=>{a.innerHTML="".concat(e),z.style.display="block"})).finally((()=>{var e;h.style.display="none",r.style.display="block",a.style.backgroundColor="#000",F.style.display="none",O.style.display="none",200===(null===(e=te)||void 0===e?void 0:e.code)?(B.style.display="block",z.style.display="none",E(te.new_url),d.load(),"video"===ie&&(d.style.display=""),de(_,"0",_.clientWidth+"px","result",C),he("result")):(ue(G,".fight_result_lost"),z.style.display="block")}))}function ce(e){if(console.log(se),e<0)return H.innerHTML="(x1,y2)",q.innerHTML="(x2,y2)",K.innerHTML="\u0111\xe1nh gi\xe1",K.classList.remove("excellent","bad","good"),K.classList.add("normal"),void console.log("I: ",e);H.innerHTML="(".concat(se[e].move.selected_pos,")"),q.innerHTML="(".concat(se[e].move.new_pos,")"),K.innerHTML=se[e].type,"T\u1ed1t nh\u1ea5t"===se[e].type?(K.classList.remove("good","bad","normal"),K.classList.add("excellent")):"T\u1ed1t"===se[e].type?(K.classList.remove("excellent","bad","normal"),K.classList.add("good")):"T\u1ec7"===se[e].type?(K.classList.remove("excellent","good","normal"),K.classList.add("bad")):"B\xecnh th\u01b0\u1eddng"===se[e].type&&(K.classList.remove("excellent","good","bad"),K.classList.add("normal"))}function ue(e,t){e.querySelectorAll(".fight_result_item").forEach((e=>{e.style.display="none"})),e.querySelector(t).style.display="flex"}console.log(ae),ae.volume=.1,o.onclick=()=>{o.dataset.saved="true",fetch("https://coganh.onrender.com/save_bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s.replaceAll("\r",""),username:n.username,bot_name:n.username})}).then((e=>e.json())).then((e=>{o.style.backgroundColor="#fff",o.style.color="#000";const t=e;a.innerHTML+="".concat(t)})).catch((e=>console.log(e)))},r.onclick=()=>{Y&&(console.log(Y),se=[],function(){if(!V.checked&&!W.checked)return;if(J.code=s,h.style.display="block",r.style.display="none",he("terminal"),a.style.backgroundColor="#252525",v.style.color="#fff",m.style.color="#ccc",_.style.color="#ccc",de(v,"".concat((v.clientWidth-10)/A.clientWidth*100,"%"),v.clientWidth+"px","terminal",C),a.innerHTML="loading...",te=null,W.checked&&!V.checked)return void le(J);R.style.display="none",D.style.display="block",j.style.display="block",$.style.display="none",U.style.display="none",W.checked&&(O.style.display="block",d.style.display="none",F.style.display="block",B.style.display="none",z.style.display="none");fetch("https://coganh.onrender.com/debug_bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_data:J,debugNum:Number(P.value)})}).then((e=>e.json())).then((e=>{if(D.style.display="none",a.style.backgroundColor="#000",!W.checked&&V.checked&&(h.style.display="none",r.style.display="block"),200===e.code){console.log(e.img_url),oe=JSON.parse(e.img_url),R.innerHTML="",oe.forEach(((e,t)=>{R.innerHTML+='\n                            <li data-num="'.concat(t,'" class="debug_img_item"><img src="').concat(e,'" alt=""></li>\n                        ')})),e.rate.forEach(((t,n)=>{se.push({type:t,move:e.inp_oup[n]})})),ee=t(".debug_img_item"),R.style.display="block",ee[0].classList.add("display_image"),ne=0,L.innerHTML=ne,j.style.display="none",$.style.display="block",U.style.display="none",M.style.opacity="1";const n=e.output.replaceAll("\n","<br>").replaceAll("    ","&emsp;");a.innerHTML="\n                <br>\n                [debug output] <br>\n                <br>\n            ",a.innerHTML+="".concat(n),W.checked&&le(J)}else{h.style.display="none",r.style.display="block",U.style.display="block",z.style.display="block",F.style.display="none",O.style.display="none",z.style.display="block",R.style.display="block","video"===ie&&(d.style.display=""),console.log(e.output);const t=e.output.replaceAll("\n","<br>").replaceAll("    ","&emsp;");console.log(t),a.innerHTML="".concat(t)}}))}())};e(".utility_nav-block");function he(t){switch(t){case"terminal":re=t,u.forEach((e=>e.style.display="none")),a.style.display="block";break;case"rule":re=t,u.forEach((e=>e.style.display="none")),l.style.display="flex";break;case"result":if(re=t,te){u.forEach((e=>e.style.display="none")),console.log(te);const{max_move_win:t,status:n}=te;"win"===n?(ue(G,".fight_result_win"),Q.innerHTML="\n                    ".concat(X[0].replace("{winer_name}",i),"\n                    ").concat(X[1].replace("{loser_name}",Y),"\n                    ")):"lost"===n?(ue(G,".fight_result_lost"),Q.innerHTML="\n                    ".concat(X[1].replace("{loser_name}",Y).replace("DEFEATED","VICTORY"),"\n                    ").concat(X[0].replace("{winer_name}",i).replace("VICTORY","DEFEATED"),"\n                    ")):"draw"===n&&(ue(G,".fight_result_draw"),Q.innerHTML="\n                    ".concat(X[0].replace("{winer_name}",i).replace("VICTORY","DRAW"),"\n                    ").concat(X[1].replace("{loser_name}",Y).replace("DEFEATED","DRAW"),"\n                    ")),e(".loser_avatar img").src=y[Y===k.bot_name?"your_bot":Y];e(".info_move-count").innerHTML="moves: ".concat(t),c.style.display="flex"}break;case"video":ie=t,I.forEach((e=>e.style.display="none")),"none"!==O.style.display&&""!==O.style.display||(d.style.display=""),p.style.display="none";break;case"debug":ie=t,I.forEach((e=>e.style.display="none")),p.style.display="flex";break;case"help":ie=t,I.forEach((e=>e.style.display="none")),f.style.display="block"}}function de(e,n,i,r,o){"terminal"===r||"rule"===r||"result"===r?g.forEach((e=>e.style.color="#ccc")):t(".bot_display_nav-block--item").forEach((e=>e.style.color="#ccc")),e.style.color="#fff",o.style.right=n,o.style.width=i,he(r)}m.onclick=e=>{de(m,"".concat(100-e.target.clientWidth/A.clientWidth*100,"%"),e.target.clientWidth+"px","rule",C)},v.onclick=e=>{de(v,"".concat((e.target.clientWidth-10)/A.clientWidth*100,"%"),e.target.clientWidth+"px","terminal",C)},_.onclick=e=>{te&&de(c,"0",e.target.clientWidth+"px","result",C)},b.onclick=e=>{de(b,"".concat(100-e.target.clientWidth/S.clientWidth*100,"%"),e.target.clientWidth+"px","video",T)},w.onclick=e=>{de(w,A.clientWidth-3*b.clientWidth-3+"px",e.target.clientWidth+"px","debug",T)},x.onclick=e=>{de(x,"0",e.target.clientWidth+"px","help",T)},M.onclick=e=>{ne+2<=ee.length?(ee[ne].classList.remove("display_image"),ne++,ce(ne-1),L.innerHTML=ne,ee[ne].classList.add("display_image")):(ee[ne].classList.remove("display_image"),ne=0,ce(-1),L.innerHTML=ne,ee[ne].classList.add("display_image"))},N.onclick=e=>{ne-1>=0?(ee[ne].classList.remove("display_image"),ne--,ce(ne-1),L.innerHTML=ne,ee[ne].classList.add("display_image")):(ee[ne].classList.remove("display_image"),ne=ee.length-1,ce(ee.length-2),L.innerHTML=ne,ee[ne].classList.add("display_image"))};e(".guide");const pe=e(".cover"),fe=e(".guide_box--nav"),ge=e(".guide_box--nav .left"),me=e(".guide_box--nav .right");e(".accept-btn"),e(".reject-btn"),e(".instruction");let ve=-1,ye=ve;function _e(e){const n=t(".guide_box");n[e].style.display="block",-1!=ye&&ye!=e&&(n[ye].style.display="none"),ye===e&&e>0&&(pe.style.display="none",n[e].style.display="none",fe.style.display="none"),ye=e}ge.onclick=()=>_e(ve>0?--ve:ve),me.onclick=()=>_e(ve+1<t(".guide_box").length?++ve:ve)}),[s]),(0,o.jsxs)("div",{className:"h-screen",children:[R&&(0,o.jsx)(m,{set_new_bot:w,set_is_open_add_bot:L,set_code:_,set_selected_bot:C}),P&&(0,o.jsx)(v,{set_selected_bot:C,set_new_bot:w,selected_bot:k,set_is_open_remove_bot:O}),(0,o.jsx)("div",{className:"cover",style:{display:"none",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, .05)",zIndex:1e3}}),(0,o.jsx)("div",{className:"guide"}),(0,o.jsxs)("div",{className:"CB_container md:max-w-full h-screen",children:[(0,o.jsxs)("div",{className:"CB_container_element bot_display",children:[(0,o.jsx)("div",{className:"bot_display_nav",children:(0,o.jsxs)("div",{className:"bot_display_nav-block",children:[(0,o.jsxs)("div",{className:"bot_display_nav-block--item video",children:["VIDEO",(0,o.jsxs)("div",{className:"loading_nav_video",children:[(0,o.jsx)("div",{className:"loader"}),(0,o.jsx)("i",{className:"fa-solid fa-circle-check check_icon"}),(0,o.jsx)("i",{className:"fa-solid fa-circle-xmark fail_icon"})]})]}),(0,o.jsxs)("div",{className:"bot_display_nav-block--item debug",children:["DEBUG",(0,o.jsxs)("div",{className:"loading_nav_image",children:[(0,o.jsx)("div",{className:"loader"}),(0,o.jsx)("i",{className:"fa-solid fa-circle-check check_icon"}),(0,o.jsx)("i",{className:"fa-solid fa-circle-xmark fail_icon"})]})]}),(0,o.jsx)("div",{className:"bot_display_nav-block--item help",children:"HELP"}),(0,o.jsx)("div",{className:"animation",children:(0,o.jsx)("div",{className:"children"})})]})}),(0,o.jsxs)("div",{className:"bot_display-video--background",children:[(0,o.jsx)("video",{style:{display:"auto"},className:"bot_display-video-item bot_display-video--result inline-block",controls:!0,src:S,children:"Your browser does not support the video tag."}),(0,o.jsx)("div",{className:"loading_video",children:(0,o.jsx)("div",{className:"loader"})}),(0,o.jsxs)("div",{style:{display:"none"},className:"bot_display-video-item bot_display-video--debug",children:[(0,o.jsx)("div",{className:"loading_image",children:(0,o.jsx)("div",{className:"loader"})}),(0,o.jsxs)("div",{className:"debug_nav",children:[(0,o.jsx)("i",{className:"fa-solid fa-angle-up arrow_left"}),(0,o.jsx)("i",{className:"fa-solid fa-angle-down arrow_right"})]}),(0,o.jsxs)("div",{className:"debug_img_main",children:[(0,o.jsx)("ul",{className:"p-0 debug_img_list m-0",children:(0,o.jsx)("li",{className:"debug_img_item default",children:(0,o.jsx)("img",{src:f,alt:""})})}),(0,o.jsx)("div",{className:"counter",children:"0"})]}),(0,o.jsxs)("div",{className:"debug_info",children:[(0,o.jsxs)("div",{className:"debug_info-state",children:[(0,o.jsx)("div",{className:"debug_info-selected_pos",children:"(x1,y1)"}),(0,o.jsx)("div",{className:"debug_info-arrow",children:(0,o.jsx)("i",{className:"fa-solid fa-arrow-down-long"})}),(0,o.jsx)("div",{className:"debug_info-new_pos",children:"(x2,y2)"})]}),(0,o.jsx)("div",{className:"debug_info-move_level normal",children:"\u0111\xe1nh gi\xe1"})]})]}),(0,o.jsxs)("div",{style:{display:"none"},className:"bot_display-video-item bot_display-video--help",children:[(0,o.jsx)("div",{className:"help_title",children:"Ki\u1ebfn th\u1ee9c c\u1ea7n thi\u1ebft"}),(0,o.jsxs)("ul",{className:"p-0 help_list help_type",children:[(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.w3schools.com/python/python_lists.asp",children:"if else"})}),(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.w3schools.com/python/python_lists.asp",children:"dictionary"})}),(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.w3schools.com/python/python_lists.asp",children:"function"})}),(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.w3schools.com/python/python_lists.asp",children:"object"})}),(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.w3schools.com/python/python_ml_getting_started.asp",children:"Loop"})}),(0,o.jsx)("li",{className:"help_item help_type",children:(0,o.jsx)("a",{href:"https://www.24h.com.vn/bong-da/nhan-dinh-bong-da-argentina-ecuador-niem-cam-hung-messi-tiep-da-thang-hoa-copa-america-c48a1582788.html",children:"List"})})]}),(0,o.jsx)("div",{className:"help_title",children:"C\xe1c b\xe0i blog"}),(0,o.jsxs)("ul",{className:"p-0 help_list",children:[(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{onClick:()=>t("/post/1719022233537"),children:"Ki\u1ec3m tra n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7"})}),(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{onClick:()=>t("/post/1719228535494"),children:"Ki\u1ec3m tra g\xe1nh ch\u1eb9t"})}),(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{onClick:()=>t("/post/1720181857262"),children:"Ki\u1ec3m tra v\xe2y"})})]}),(0,o.jsx)("div",{className:"help_title",children:"M\xf4 ph\u1ecfng thu\u1eadt to\xe1n"}),(0,o.jsxs)("ul",{className:"p-0 help_list",children:[(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{href:"{{url_for('visualize', id='SctXzAxW6TtcMSPwPm1N')}}",children:"minimax"})}),(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{href:"{{url_for('visualize', id='OYRJNv4Jqez9dKZjLW27')}}",children:"Ki\u1ec3m tra n\u01b0\u1edbc \u0111i"})}),(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{href:"{{url_for('visualize', id='aLzIcTxFR2EfRXVFov07')}}",children:"Ki\u1ec3m tra g\xe1nh ch\u1eb9t"})}),(0,o.jsx)("li",{className:"help_item help_blog",children:(0,o.jsx)("a",{href:"{{url_for('visualize', id='1OyReHWrH3zgV5IfcZPk')}}",children:"Ki\u1ec3m tra v\xe2y"})})]}),(0,o.jsx)("ul",{className:"p-0 help_list"})]})]}),(0,o.jsxs)("div",{className:"utility",children:[(0,o.jsx)("div",{className:"utility_nav",children:(0,o.jsxs)("div",{className:"utility_nav-block",children:[(0,o.jsx)("div",{className:"utility_nav-block--item rule",children:"RULE"}),(0,o.jsx)("div",{className:"utility_nav-block--item terminal",children:"TERMINAL"}),(0,o.jsx)("div",{className:"utility_nav-block--item result",children:"RESULT"}),(0,o.jsx)("div",{className:"animation",children:(0,o.jsx)("div",{className:"children"})})]})}),(0,o.jsxs)("div",{className:"utility_block",children:[(0,o.jsxs)("div",{className:"utility_block-element rule",children:[(0,o.jsxs)("div",{className:"input",children:[(0,o.jsx)("div",{className:"text-2xl text-gray-300 mb-4 mt-1",children:"input"}),(0,o.jsxs)("div",{className:"p-0",children:["Player.your_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n (x, y)"," ",(0,o.jsx)("br",{}),"Player.opp_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a \u0111\u1ed1i th\u1ee7 (x, y) ",(0,o.jsx)("br",{}),"Player.your_side: m\xe0u c\u1edd c\u1ee7a b\u1ea3n th\xe2n (-1:\ud83d\udd34 / 1:\ud83d\udd35) ",(0,o.jsx)("br",{}),"Player.board: b\xe0n c\u1edd (-1:\ud83d\udd34 / 1:\ud83d\udd35 / 0:\u2205) ",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"-\u0111i\u1ec1u ki\u1ec7n:",(0,o.jsx)("br",{}),"0 \u2264 x, y \u2264 4 ",(0,o.jsx)("br",{}),"Player.your_side in (-1, 1) ",(0,o.jsx)("br",{}),"{","j for i in Player.board for j in i","}"," == ","{","0, 1, -1","}"]})]}),(0,o.jsxs)("div",{className:"output",children:[(0,o.jsx)("div",{className:"text-2xl text-gray-300 mb-4 mt-1",children:"output"}),(0,o.jsx)("div",{className:"p-0",children:"selected_pos: v\u1ecb tr\xed c\u1ee7a qu\xe2n c\u1edd \u0111\u01b0\u1ee3c ch\u1ecdn new_pos: v\u1ecb tr\xed sau khi di chuy\u1ec3n c\u1ee7a qu\xe2n c\u1edd \u0111\xf3"})]})]}),(0,o.jsx)("div",{className:"utility_block-element terminal",children:">>> "}),(0,o.jsx)("div",{className:"utility_block-element result",children:(0,o.jsxs)("div",{className:"mode_solo",children:[(0,o.jsxs)("div",{className:"win_loose_block",children:[(0,o.jsxs)("div",{className:"winer",children:[(0,o.jsx)("div",{className:"winer_avatar",children:"T"}),(0,o.jsxs)("div",{className:"winer_info",children:[(0,o.jsx)("div",{className:"winer_title",children:"VICTORY"}),(0,o.jsx)("div",{className:"winer_info_name",children:"tlv23"})]})]}),(0,o.jsxs)("div",{className:"loser",children:[(0,o.jsx)("div",{className:"loser_avatar",children:(0,o.jsx)("img",{src:"../../../public/img/level4.png",alt:""})}),(0,o.jsxs)("div",{className:"loser_info",children:[(0,o.jsx)("div",{className:"loser_title",children:"DEFEATED"}),(0,o.jsx)("div",{className:"loser_info_name",children:"level1"})]})]})]}),(0,o.jsx)("div",{className:"info_move-count",children:"move 100"})]})})]})]})]}),(0,o.jsxs)("div",{className:"CB_container_element CB_coding_module",children:[(0,o.jsxs)("div",{className:"CB_coding_module-nav",children:[(0,o.jsx)("a",{onClick:()=>t("/menu"),className:"CB_coding_module-nav--backBtn",children:(0,o.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})}),(0,o.jsxs)("div",{className:"debug_mode_selector",children:[(0,o.jsx)("div",{children:"Debug turn"}),(0,o.jsxs)("select",{className:"selector",children:[(0,o.jsx)("option",{value:2,className:"option",children:"2"}),(0,o.jsx)("option",{value:4,className:"option",children:"4"}),(0,o.jsx)("option",{value:6,className:"option",children:"6"}),(0,o.jsx)("option",{value:8,className:"option",children:"8"}),(0,o.jsx)("option",{value:10,className:"option",children:"10"})]})]}),(0,o.jsx)("div",{className:"CB_coding_module-nav--saveBtn CB_active","data-saved":"false",children:"save"}),(0,o.jsx)("div",{className:"CB_coding_module-nav--CB_runBtn CB_loader",style:{display:"none",animation:"none"},children:(0,o.jsx)("div",{className:"CB_coding_module-nav--loading"})}),(0,o.jsx)("div",{className:"CB_coding_module-nav--CB_runBtn cb_btn",children:"run"}),(0,o.jsxs)("div",{className:"CB_coding_module-nav--setting",children:[(0,o.jsx)("label",{htmlFor:"check",children:(0,o.jsx)("i",{className:"fa-solid fa-gear setting_icon"})}),(0,o.jsx)("input",{type:"checkbox",name:"check",id:"check",hidden:!0}),(0,o.jsxs)("ul",{className:"p-0 setting_list",children:[(0,o.jsxs)("label",{htmlFor:"debug",className:"setting_item",children:["Enable debug",(0,o.jsx)("input",{type:"checkbox",name:"debug",id:"debug",checked:M,onChange:()=>N(!M)})]}),(0,o.jsxs)("label",{htmlFor:"video",className:"setting_item",children:["Enable video",(0,o.jsx)("input",{type:"checkbox",name:"video",id:"video",checked:T,onChange:()=>I(!T)})]})]})]})]}),(0,o.jsxs)("div",{className:"a",style:{height:"100%",position:"relative",display:"flex",flexDirection:"column"},children:[(0,o.jsxs)("div",{className:"bg-[#282A36] p-0 m-0 flex px-2 py-[2px]",children:[(0,o.jsx)("span",{className:"mr-1",children:"bot:"}),(0,o.jsx)("select",{onChange:e=>{return e.target.value,t=x.find((t=>t.bot_name===e.target.value)),C(t),void _(t.code);var t},value:k?k.bot_name:"Null",className:"your_bot_list bg-[#1d1e28]",children:x[0]&&x.map(((e,t)=>(0,o.jsx)("option",{value:e.bot_name,"data-code":e.code,className:"your_bot_item ".concat(0===t?"bg-gray-700":"bg-gray-800"," px-2 rounded-sm relative ml-1 select-none hover:bg-gray-700 cursor-pointer"),children:e.bot_name},t)))}),(0,o.jsx)("div",{onClick:()=>L(!R),className:"add_bot bg-gray-700 ml-2 text-sm px-1 rounded-sm cursor-pointer hover:brightness-90",children:"Add bot"}),(0,o.jsx)("div",{onClick:()=>O(!P),className:"remove_bot bg-gray-700 ml-2 text-sm px-1 rounded-sm cursor-pointer hover:brightness-90",children:"remove bot"})]}),(0,o.jsx)(g.Ay,{value:s,mode:"python",theme:"dracula",onChange:e=>_(e),name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0},width:"100%",height:"76.5%",className:"CB_coding_module-coding_block"}),(0,o.jsxs)("div",{className:"guide_box--nav",style:{zIndex:2e3,display:"none"},children:[(0,o.jsx)("div",{className:"left",children:"\u2b9c"}),(0,o.jsx)("div",{className:"right",children:"\u2b9e"})]}),(0,o.jsx)("div",{className:"CB_coding_module-bot_list",children:(0,o.jsxs)("div",{className:"choose_bot_module",children:[(0,o.jsx)("div",{className:"choose_bot_module-title",children:"BOT"}),(0,o.jsxs)("div",{className:"CB_bot_list",children:[(0,o.jsxs)("div",{"data-level":"level1",className:"CB_bot_item level1",children:[(0,o.jsx)("img",{className:"max-w-12",src:a,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title level1",children:"level 1"}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsxs)("div",{className:"CB_bot_item_info",children:[(0,o.jsx)("div",{className:"introduce",children:"Robot c\u1ee7a v\u1ecb t\u01b0\u1edbng l\u0129nh n\xe0y s\u1ebd lu\xf4n lu\xf4n nh\u1ea3 qu\xe2n cho b\u1ea1n."}),(0,o.jsxs)("div",{className:"hint",children:[(0,o.jsxs)("p",{style:{color:"red"},children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-down"}),"l\u1eddi khuy\xean",(0,o.jsx)("i",{className:"fa-solid fa-angles-down"})]})," ","C\xf3 v\u1ebb robot c\u1ee7a b\u1ea1n c\u1ea7n h\u1ecdc c\xe1ch g\xe1nh/ ch\u1eb9t"]})]})]}),(0,o.jsxs)("div",{"data-level":"level2",className:"CB_bot_item level2",children:[(0,o.jsx)("img",{className:"max-w-12",src:l,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title level2",children:"level 2"}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsxs)("div",{className:"CB_bot_item_info",children:[(0,o.jsx)("div",{className:"introduce",children:"Robot c\u1ee7a v\u1ecb t\u01b0\u1edbng l\u0129nh n\xe0y s\u1ebd lu\xf4n ti\u1ebfn qu\xe2n v\xe0o nh\u1eefng v\u1ecb tr\xed chi\u1ebfn l\u01b0\u1ee3c."}),(0,o.jsxs)("div",{className:"hint",children:[(0,o.jsxs)("p",{style:{color:"red"},children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-down"}),"l\u1eddi khuy\xean",(0,o.jsx)("i",{className:"fa-solid fa-angles-down"})]}),"Robot c\u1ee7a b\u1ea1n c\u1ea7n m\u1ed9t chi\u1ebfn thu\u1eadt v\xe2y b\u1eaft h\u1ee3p l\xfd h\u01a1n."]})]})]}),(0,o.jsxs)("div",{"data-level":"level3",className:"CB_bot_item level3",children:[(0,o.jsx)("img",{className:"max-w-12",src:c,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title level3",children:"level 3"}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsxs)("div",{className:"CB_bot_item_info",children:[(0,o.jsx)("div",{className:"introduce",children:"Robot c\u1ee7a v\u1ecb t\u01b0\u1edbng l\u0129nh n\xe0y lu\xf4n d\u1ed3n qu\xe2n t\u1ea1i \u0111\xe1y v\xe0 s\u1ebd ti\xeau di\u1ec7t nh\u1eefng qu\xe2n c\u1edd l\u1ea1i g\u1ea7n."}),(0,o.jsxs)("div",{className:"hint",children:[(0,o.jsxs)("p",{style:{color:"red"},children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-down"}),"l\u1eddi khuy\xean",(0,o.jsx)("i",{className:"fa-solid fa-angles-down"})]}),"\u0110\u1eebng qu\xean vi\u1ec7c ph\xf2ng th\u1ee7 khi v\xe2y qu\xe2n."]})]})]}),(0,o.jsxs)("div",{"data-level":"level3",className:"CB_bot_item level3",children:[(0,o.jsx)("img",{className:"max-w-12",src:u,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title level3",children:"level 4"}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsxs)("div",{className:"CB_bot_item_info",children:[(0,o.jsx)("div",{className:"introduce",children:"Robot c\u1ee7a ng\u01b0\u1eddi l\xe3nh \u0111\u1ea1o n\xe0y s\u1ebd \u0103n qu\xe2n ngay khi c\xf3 c\u01a1 h\u1ed9i."}),(0,o.jsxs)("div",{className:"hint",children:[(0,o.jsxs)("p",{style:{color:"red"},children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-down"}),"l\u1eddi khuy\xean",(0,o.jsx)("i",{className:"fa-solid fa-angles-down"})]}),"Robot c\u1ee7a b\u1ea1n c\u1ea7n m\u1ed9t th\u1ebf c\u1edd c\xf3 t\xednh chi\u1ebfn thu\u1eadt h\u01a1n."]})]})]}),(0,o.jsxs)("div",{"data-level":"Master",className:"CB_bot_item Master",children:[(0,o.jsx)("img",{className:"max-w-12",src:h,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title Master",children:"MASTER"}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsxs)("div",{className:"CB_bot_item_info",style:{right:"-60%"},children:[(0,o.jsx)("div",{className:"introduce",children:"Robot c\u1ee7a ng\u01b0\u1eddi n\xe0y l\xe0 b\u1ea5t b\u1ea1i."}),(0,o.jsxs)("div",{className:"hint",children:[(0,o.jsxs)("p",{style:{color:"red"},children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-down"}),"l\u1eddi khuy\xean",(0,o.jsx)("i",{className:"fa-solid fa-angles-down"})]}),"C\u1ed1 l\xean \ud83d\ude0f."]})]})]}),(0,o.jsxs)("div",{"data-level":(null===k||void 0===k?void 0:k.bot_name)||n.username,className:"CB_bot_item ".concat((null===k||void 0===k?void 0:k.bot_name)||n.username),children:[(0,o.jsx)("img",{className:"max-w-12",src:d,alt:""}),(0,o.jsx)("div",{className:"CB_bot_item_title Master",children:(null===k||void 0===k?void 0:k.bot_name)||n.username}),(0,o.jsxs)("div",{className:"fight_result",children:[(0,o.jsx)("div",{className:"fight_result_item fight_result_draw",children:(0,o.jsx)("i",{className:"fa-solid fa-handshake-simple"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_loader",children:(0,o.jsx)("div",{className:"fight_result_loading"})}),(0,o.jsx)("div",{className:"fight_result_item fight_result_win"}),(0,o.jsx)("div",{className:"fight_result_item fight_result_lost",children:(0,o.jsx)("i",{className:"fa-solid fa-skull"})})]}),(0,o.jsx)("div",{className:"CB_bot_item_info",style:{right:"-60%"},children:(0,o.jsx)("div",{className:"introduce",children:"n\u1ebfu b\u1ea1n thua ch\xednh m\xecnh th\xec do b\u1ea1n m\u1ea1nh hay y\u1ebfu nh\u1ec9?"})})]})]})]})})]})]})]})]})}__webpack_require__(854);const b=e.memo((function(t){let{type:n={},back_link:i="/menu",mode:s="dark"}=t;const{history:a,user:l,setUser:c}=(0,e.useContext)(r.B),[u,h]=(0,e.useState)(!1);return console.log(l),(0,o.jsxs)("div",{className:"fixed top-0 z-[10000000] left-0 right-0 flex items-center justify-between px-4 h-16 border-b border-[#007BFF] ".concat("dark"===s?"bg-gray-800 text-white":"bg-white text-black"),children:[(0,o.jsxs)("div",{class:"left_block",children:[(0,o.jsx)("div",{class:"logo",children:"Co ganh"}),(0,o.jsx)("p",{onClick:()=>a(i),class:"back_btn",children:"quay l\u1ea1i"})]}),(0,o.jsxs)("div",{class:"right_block",children:[l&&(0,o.jsxs)(o.Fragment,{children:[n.create_content&&(0,o.jsx)("a",{onClick:()=>a("/create_content"),class:"create_post dark:text-white",children:"Vi\u1ebft b\xe0i"}),(0,o.jsxs)("div",{class:"w-8 h-8 relative",children:[(0,o.jsx)("div",{onClick:()=>h(!u),className:"dark:hover:brightness-90 h-full ".concat("dark"===s?"bg-white text-[#007BFF]":"bg-[#007BFF] text-white"," rounded-full text-2xl cursor-pointer grid place-content-center font-semibold select-none"),children:l.username&&l.username[0].toUpperCase()}),u&&(0,o.jsxs)("ul",{className:"absolute p-0 w-32 -right-4 top-5 bg-black bg-opacity-35 px-2 py-2 rounded",children:[(0,o.jsx)("li",{onClick:()=>a("/user/"+l.id),className:"py-1 hover:bg-slate-700 px-1 rounded cursor-pointer select-none",children:"Trang c\xe1 nh\xe2n"}),(0,o.jsx)("li",{onClick:()=>{localStorage.clear(),c(null),console.log(123)},className:"py-1 hover:bg-slate-700 px-1 rounded cursor-pointer select-none",children:"\u0110\u0103ng xu\u1ea5t"})]})]})]}),!l&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{onClick:()=>a("/login"),className:"text-lg ml-2 px-4 py-1 rounded bg-[#007BFF] hover:brightness-90 cursor-pointer select-none",children:"\u0110\u0103ng nh\u1eadp"})})]})]})}));function w(){const[t,n]=(0,e.useState)([]),{user:i,history:s}=(0,e.useContext)(r.B);return(0,e.useEffect)((()=>{fetch("https://coganh.onrender.com/get_all_task",{method:"GET"}).then((e=>e.json())).then((e=>{n(e)}))}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{back_link:"/menu",type:{create_content:!0}}),(0,o.jsxs)("div",{className:"TL_container w-full pt-24",children:[(0,o.jsxs)("div",{className:"task_title",children:[(0,o.jsx)("div",{className:"tsk_status",children:"Status"}),(0,o.jsx)("div",{className:"tsk_name",children:"Problem"}),(0,o.jsx)("div",{className:"tsk_acceptance",children:"Acceptances"}),(0,o.jsx)("div",{className:"tsk_difficult",children:"Difficulty"}),(0,o.jsx)("div",{className:"tsk_author",children:"Author"})]}),(0,o.jsx)("ul",{className:"task_list p-0",children:t.map(((e,t)=>(0,o.jsxs)("li",{className:"task_item",children:[i.username in e.challenger?(0,o.jsx)("div",{className:"task_status font-bold ".concat("AC"==e.challenger[i.username].current_submit.status?"accepted":"err"),children:e.challenger[i.username].current_submit.status}):(0,o.jsx)("div",{className:"task_status"}),(0,o.jsx)("a",{onClick:()=>s("/training/".concat(e.id),{state:{task:e}}),className:"task_name cursor-pointer",children:e.task_name}),(0,o.jsx)("div",{className:"task_acceptance",children:e.accepted_count}),(0,o.jsx)("div",{className:"task_difficult font-bold ".concat(e.tag.difficult),children:e.tag.difficult}),(0,o.jsx)("div",{className:"task_author",children:e.author})]},t)))})]})]})}function x(){const[t,n]=(0,e.useState)([]),{history:i}=(0,e.useContext)(r.B);return(0,e.useEffect)((()=>{fetch("https://coganh.onrender.com/get_posts").then((e=>e.json())).then((e=>{n(e)})).catch((e=>{console.log(e)}))}),[]),(0,e.useEffect)((()=>{document.querySelector.bind(document);document.querySelectorAll.bind(document)(".posts_item").forEach((e=>{const t=e.querySelector(".review_title").dataset.id;e.onclick=()=>{console.log("/post/".concat(t)),fetch("/get_post/".concat(t)).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>{}))}}))}),[]),(0,o.jsxs)("div",{className:" h-full w-full flex justify-center",children:[(0,o.jsx)(b,{type:{create_content:!0},back_link:"/menu"}),(0,o.jsxs)("div",{className:"w-[90%] md:w[80%] lg:w-[55%] mt-28",children:[(0,o.jsxs)("div",{className:"code_guide",children:[(0,o.jsx)("img",{style:{width:80,height:80},src:"https://jungle-laborer-6ce.notion.site/icons/mathematics_green.svg?mode=dark",alt:""}),(0,o.jsx)("div",{className:"code_guide_title",children:"\u0110\u1ecbnh h\u01b0\u1edbng x\xe2y d\u1ef1ng thu\u1eadt to\xe1n"}),(0,o.jsxs)("div",{className:"cod_guide_description",children:["\u0110\u1ec3 c\xf3 th\u1ec3 x\xe2y d\u1ef1ng thu\u1eadt to\xe1n \u0111\xe1nh c\u1edd c\u1ee7a ch\xednh m\xecnh, ta c\xf3 th\u1ec3 tham kh\u1ea3o c\xe1c thu\u1eadt to\xe1n ph\u1ed5 bi\u1ebfn nh\u01b0"," ",(0,o.jsx)("span",{style:{fontWeight:"bold"},children:"MCTS"}),","," ",(0,o.jsx)("span",{style:{fontWeight:"bold"},children:"UCT"}),","," ",(0,o.jsx)("span",{style:{fontWeight:"bold"},children:"Minimax"})," \u2026 C\xe1c thu\u1eadt to\xe1n n\xe0y \u0111\u1ec1u mang m\u1ed9t \xfd t\u01b0\u1edfng chung l\xe0 t\xednh to\xe1n ra c\xe1c bi\u1ebfn thi\xean t\u1eeb tr\u1ea1ng th\xe1i b\xe0n c\u1edd hi\u1ec7n t\u1ea1i, so s\xe1nh \u0111\xe1nh gi\xe1 t\xecnh tr\u1ea1ng c\u1ee7a ch\xfang v\u1edbi nhau \u0111\u1ec3 t\xecm ra n\u01b0\u1edbc \u0111i t\u1ed1t nh\u1ea5t.",(0,o.jsx)("hr",{style:{margin:"10px 0",width:1,height:1}}),"Th\u1ebf nh\u01b0ng \u0111\u1ec3 \u0111\xe1nh gi\xe1 t\xecnh tr\u1ea1ng b\xe0n c\u1edd, ta ph\u1ea3i b\u1eaft \u0111\u1ea7u t\u1eeb vi\u1ec7c m\xf4 ph\u1ecfng b\xe0n c\u1edd sau nh\u1eefng n\u01b0\u1edbc \u0111i, gi\xfap bot hi\u1ec3u \u0111\u01b0\u1ee3c l\xe0m th\u1ebf n\xe0o \u0111\u1ec3 \u0103n qu\xe2n t\u1eeb \u0111\xf3 l\u1ef1a ch\u1ecdn n\u01b0\u1edbc \u0111i t\u1ed1i \u01b0u l\u1ee3i \xedch.",(0,o.jsx)("hr",{style:{margin:"10px 0",width:1,height:1}}),"**Bot c\u1ee7a ng\u01b0\u1eddi ch\u01a1i c\xf3 m\u1eb7c \u0111\u1ecbnh m\xe0u"," ",(0,o.jsx)("span",{style:{fontWeight:"bold",color:"#007BFF"},children:"xanh d\u01b0\u01a1ng"})," ","v\xe0 \u0111\u1ed1i th\u1ee7 l\xe0 m\xe0u"," ",(0,o.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:"\u0111\u1ecf"}),".**"]}),(0,o.jsx)("div",{className:"posts_list",children:t.filter((e=>"vudeptrai2"===e.author)).map(((e,t)=>(0,o.jsxs)("div",{className:"posts_item",children:[(0,o.jsxs)("div",{className:"review_info",children:[(0,o.jsxs)("div",{className:"author",children:[(0,o.jsx)("div",{className:"author_avatar dark:bg-white",children:e.author[0].toUpperCase()}),(0,o.jsx)("div",{onClick:()=>i("/user/"+e.author_id),className:"author_name dark:text-gray-300",children:e.author}),(0,o.jsx)("div",{className:"upload_time dark:text-gray-300",children:e.upload_time})]}),(0,o.jsx)("a",{onClick:()=>i("/post/"+e.post_id,{state:e}),className:"review_title dark:text-gray-200",children:e.title}),(0,o.jsx)("div",{className:"review_decription",children:e.description})]}),(0,o.jsxs)("a",{onClick:()=>i("/post/"+e.post_id,{state:e}),className:"review_img",children:[(0,o.jsx)("img",{className:"h-auto",src:e.image_url[0],alt:""}),(0,o.jsx)("div",{className:"back_drop"})]})]},t)))})]}),(0,o.jsx)("hr",{style:{width:"96%",margin:"40px 2%",border:"1px solid #007BFF"}}),(0,o.jsxs)("div",{className:"posts",children:[(0,o.jsx)("div",{className:"posts_title",children:"B\xe0i \u0111\u0103ng n\u1ed5i b\u1eadt"}),(0,o.jsx)("div",{className:"posts_list",children:t.filter((e=>"vudeptrai2"!==e.author)).map(((e,t)=>(0,o.jsxs)("div",{className:"posts_item",children:[(0,o.jsxs)("div",{className:"review_info",children:[(0,o.jsxs)("div",{className:"author",children:[(0,o.jsx)("div",{className:"author_avatar dark:bg-white",children:e.author[0].toUpperCase()}),(0,o.jsx)("div",{className:"author_name dark:text-gray-300",children:e.author}),(0,o.jsx)("div",{className:"upload_time dark:text-gray-300",children:e.upload_time})]}),(0,o.jsx)("a",{onClick:()=>i("/post/"+e.post_id,{state:e}),className:"review_title dark:text-gray-200",children:e.title}),(0,o.jsx)("div",{className:"review_decription",children:e.description})]}),(0,o.jsxs)("a",{onClick:()=>i("/post/"+e.post_id,{state:e}),className:"review_img",children:[(0,o.jsx)("img",{className:"h-auto",src:e.image_url[0],alt:""}),(0,o.jsx)("div",{className:"back_drop"})]})]},t)))})]})]})]})}const A=__webpack_require__.p+"static/media/chessboard_simulation.0a362082e24c7e28d0ae.png",k=__webpack_require__.p+"static/media/fire.1c390cf9e48b715f4179.webp";function C(t){return(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),n=document.querySelectorAll.bind(document),i=e(".board_img"),r=e(".fire_img"),o=e(".fire_sound"),s=e(t.root),a=s.getContext("2d"),{codes:l,name:c,action:u}=t.data;let h=l,d=e("code"),p=[[-1,-1,-1,-1,-1],[-1,0,0,0,-1],[1,0,0,0,-1],[1,0,0,0,1],[1,1,1,1,1]],f=[[-1,-1,-1,-1,-1],[-1,0,0,0,-1],[1,0,0,0,-1],[1,0,0,0,1],[1,1,1,1,1]],g=s.width/4.25,m=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],v=[[0,-1],[-1,0],[0,1],[1,0]],y=e(".your_pos_list");const _=n(".code_row"),b=(e(".return_value_ouput"),e(".random_your_pos_btn")),w=e(".random_board_btn");e(".run_btn");let x=n(".your_pos_items");const A=e("#play_pause_btn"),k=e(".duration_bar"),C=e(".show_data_change"),S=e(".your_chess_list"),E=c;t.controller({is_finished:!0,board_width:s.width,board_height:s.height,gap:s.width/4-s.width/4/2.53,chess_radius:15,opp_pos:[],your_pos:[],valid_move:[],invalid_move:[],chosed_chess:[[0,2]],moves:[],setting_board:e(".board"),return_value_ouput:e(".return_value_ouput"),isErr:!1,animation_index:0,isPaused:!1,run_task:[],action:u,speed:1,is_single_chess:!1,isFlaskBack:!1,selected_pos:[0,2],new_pos:[],all_move:{your_pos:[],opp_pos:[]},all_valid_move:{your_pos:[],opp_pos:[]},all_invalid_move:{your_pos:[],opp_pos:[]},valid_move_for_single_chess:{your_pos:{},opp_pos:{}},invalid_move_for_single_chess:{your_pos:{},opp_pos:{}},config_run_task:()=>{},clear_variable(){this.valid_move=[],this.invalid_move=[],this.all_move={your_pos:[],opp_pos:[]},this.valid_move_for_single_chess={your_pos:{},opp_pos:{}},this.invalid_move_for_single_chess={your_pos:{},opp_pos:{}},this.all_valid_move={your_pos:[],opp_pos:[]},this.all_invalid_move={your_pos:[],opp_pos:[]},this.moves=[],this.opp_pos=[],this.your_pos=[],p=[]},async sleep(e){return new Promise((t=>setTimeout(t,e/this.speed)))},async pause(){for(;this.isPaused&&!this.isFlaskBack;)await this.sleep(100)},async play_one_frame(e){this.speed=4;let[t,n,i]=this.run_task[e];await this.render();let r=this.animation_index+1;for(this.isFlaskBack=!0;r--&&"valid_move"!==E;){let[e,t,n]=this.run_task[r];"hightlight"!==this.run_task[r][0]&&"RMH"!==this.run_task[r][0]&&"MC"!==this.run_task[r][0]&&"render"!==this.run_task[r][0]&&await this.handle_animation(e,t,0)}this.isFlaskBack=!1,k.value=e/(this.run_task.length-1)*100,await this.handle_animation(t,n,i),this.animation_index===this.run_task.length-1&&(this.is_finished=!0),this.speed=1},async play_animation(){if(this.isPaused=!1,!this.is_finished)return;let e;for(1===this.animation_index&&(this.animation_index-=1),this.is_finished=!1;this.animation_index<this.run_task.length;){let[t,n,i]=this.run_task[this.animation_index];if(e=this.animation_index,await this.pause(),e!==this.animation_index)continue;if(k.value=this.animation_index/(this.run_task.length-1)*100,0===this.valid_move.length&&"valid_move"===n[1]){this.animation_index+=1;continue}let r=this.animation_index;if(this.isFlaskBack=!0,!this.is_single_chess&&"valid_move"!==E)for(await this.render();r--;){let[e,t,n]=this.run_task[r];"hightlight"!==this.run_task[r][0]&&"RMH"!==this.run_task[r][0]&&"MC"!==this.run_task[r][0]&&"render"!==this.run_task[r][0]&&await this.handle_animation(e,t,0)}this.isFlaskBack=!1,await this.handle_animation(t,n,i),this.animation_index===this.run_task.length-1&&(this.is_finished=!0),this.animation_index+=1}},async handle_animation(e,t,n){switch(n/=this.speed,e){case"CC":await this.chosing_chess(n,this[t]);break;case"CSC":await this.chosing_single_chess(n,t);break;case"CC_M":await this.chosing_chess_render_move(n,t);break;case"GM":await this.generate_move(this.chosed_chess[0],n);break;case"AGM":await this.generate_all_move(n);break;case"RM":let[e,i]=t;await this.render_move(e,this[i],n);break;case"MC":let[r,o]=t;await this.move_chess(r,o,n);break;case"ARM":let[s,a,l]=t;await this.render_all_move(s,this[a],l,n);break;case"clear":await this.clear(n);break;case"hightlight":let{row:c,type:u}=t;await this.hightlight(c,u,n);break;case"RMH":await this.clear_hightlight(n);break;case"render":await this.render(""===t?f:t);break;case"return":await this.handle_return(t,n);break;case"SDC":await this.show_data_change(t,n);break;case"sleep":await this.sleep(n);break;case"FT":await this.fire_them(t,n)}},ganh_chet(e,t,n,i){let r=[],o=(e[0]+e[1])%2===0;for(let[s,a]of t){let t=s-e[0],l=a-e[1];t>=-1&&t<=1&&l>=-1&&l<=1&&(0===t||0===l||o)&&(e[0]-t>=0&&e[0]-t<=4&&e[1]-l>=0&&e[1]-l<=4&&p[e[1]-l][e[0]-t]===i||s+t>=0&&s+t<=4&&a+l>=0&&a+l<=4&&p[a+l][s+t]===n)&&r.push([s,a])}return r},clear_hightlight:async e=>new Promise((t=>{setTimeout((()=>{_.forEach((e=>{e.classList.remove("run","true","false","round_top","round_bottom")})),t()}),e)})),hightlight:async(e,t,n)=>new Promise((i=>{setTimeout((()=>{1===(e=JSON.parse("[".concat(JSON.stringify(e).replaceAll("[","").replaceAll("]",""),"]"))).length?_[e[0]].classList.add("round_top","round_bottom"):(_[e[0]].classList.add("round_top"),_[e[e.length-1]].classList.add("round_bottom")),e.forEach((e=>{_[e].classList.add(t)})),i()}),n)})),async clear(e){return new Promise((t=>{setTimeout((()=>{a.clearRect(0,0,this.board_width,this.board_height),this.render(),t()}),e)}))},async handle_move(e,t){f=f.map((e=>e.map((e=>2===e||-2===e?0:e))));let n=f[e[1]][e[0]];f[e[1]][e[0]]=1===f[e[1]][e[0]]?2:-2,f[t[1]][t[0]]=n,await this.render(p)},async move_chess(e,t,n){await this.sleep(n),await this.handle_move(e,t),await this.show_pre_move([e],"your_side",0),await this.chosing_chess(0,[t])},async chosing_chess(e,t){for(let[n,i]of t)await this.sleep(e),a.beginPath(),a.arc(n*this.gap-this.chess_radius+g,i*this.gap-this.chess_radius+g,this.chess_radius,0,2*Math.PI),a.lineWidth=5,a.strokeStyle="blue",a.stroke()},async chosing_single_chess(e,t){let[n,i]=t;await this.sleep(e),a.beginPath(),a.arc(n*this.gap-this.chess_radius+g,i*this.gap-this.chess_radius+g,this.chess_radius,0,2*Math.PI),a.lineWidth=5,a.strokeStyle="blue",a.stroke()},async show_pre_move(e,t,n){for(let[i,r]of e)switch(await this.sleep(n),t){case"your_side":a.beginPath(),a.arc(i*this.gap-this.chess_radius+g,r*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#6BA1F1",a.fill();break;case"opp_side":a.beginPath(),a.arc(i*this.gap-this.chess_radius+g,r*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#FC6666",a.fill()}},async fire_them(e,t){o.play();for(let[n,i]of e)await this.sleep(t),await(async()=>{a.drawImage(r,n*this.gap-this.chess_radius+g-14,i*this.gap-this.chess_radius+g-15,2*this.chess_radius,2*this.chess_radius)})()},async chosing_chess_render_move(e,t){let[n,i,r,o]=t,s=this[i],[l,c]=JSON.parse(o);await this.sleep(e),await this.chosing_chess(0,[[l,c]]),await this.pause(),k.value=this.animation_index/(this.run_task.length-1)*100;"[".concat([l,c],"]");switch(n){case"valid":s[r][o].forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="green",a.fill()}));break;case"invalid":s[r][o].forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="rgba(255, 0, 0, 0.4)",a.fill()}));break;default:s.your_pos[o].forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#666",a.fill()}))}},async generate_move(e,t){let[n,i]=e;return new Promise((e=>{setTimeout((()=>{this.chosed_chess=[[n,i]],this.clear_hightlight(0),this.chosing_chess(0,this.chosed_chess),this.moves=[],((n+i)%2==0?m:v).forEach((e=>{let[t,r]=e,o=n+t,s=i+r;o>=0&&o<=4&&s>=0&&s<=4&&0===p[s][o]?this.valid_move.push([o,s]):this.invalid_move.push([o,s])})),this.moves=[...this.valid_move,...this.invalid_move],this.config_run_task(this),e()}),t)}))},async render_all_move(e,t,n,i){await this.sleep(i),await(async()=>{switch(e){case"valid":t[n].forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="green",a.fill()}));break;case"invalid":t[n].forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="rgba(255, 0, 0, 0.4)",a.fill()}));break;default:t.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#666",a.fill()}))}})()},async generate_all_move(e){return new Promise((t=>{setTimeout((()=>{this.clear_hightlight(0),this.all_move={your_pos:[],opp_pos:[]},this.opp_pos=JSON.stringify(this.opp_pos),this.your_pos=JSON.stringify(this.your_pos);let e=JSON.parse(this.opp_pos),n=JSON.parse(this.your_pos);n.forEach((e=>{let[t,n]=e,i=[],r=[];((t+n)%2==0?m:v).forEach((e=>{let[o,s]=e,a=t+o,l=n+s;a>=0&&a<=4&&l>=0&&l<=4&&0===p[l][a]?(this.all_valid_move.your_pos.push([a,l]),i.push([a,l])):(this.all_invalid_move.your_pos.push([a,l]),r.push([a,l]))})),this.all_move["[".concat([t,n],"]")]=[...i,...r],this.valid_move_for_single_chess.your_pos["[".concat([t,n],"]")]=i,this.invalid_move_for_single_chess.your_pos["[".concat([t,n],"]")]=r})),e.forEach((e=>{let[t,n]=e,i=[],r=[];((t+n)%2==0?m:v).forEach((e=>{let[o,s]=e,a=t+o,l=n+s;a>=0&&a<=4&&l>=0&&l<=4&&0===p[l][a]?(this.all_valid_move.opp_pos.push([a,l]),i.push([a,l])):(this.all_invalid_move.opp_pos.push([a,l]),r.push([a,l]))})),this.all_move["[".concat([t,n],"]")]=[...i,...r],this.valid_move_for_single_chess.opp_pos["[".concat([t,n],"]")]=i,this.invalid_move_for_single_chess.opp_pos["[".concat([t,n],"]")]=r})),this.all_invalid_move={your_pos:[...new Set(this.all_invalid_move.your_pos)],opp_pos:[...new Set(this.all_invalid_move.opp_pos)]},this.all_valid_move={your_pos:[...new Set(this.all_valid_move.your_pos)],opp_pos:[...new Set(this.all_valid_move.opp_pos)]},this.opp_pos=e,this.your_pos=n,this.config_run_task(this),t()}),e)}))},async render_move(e,t,n){return new Promise((i=>{setTimeout((()=>{switch(e){case"valid":t.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="green",a.fill()}));break;case"invalid":t.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="rgba(255, 0, 0, 0.4)",a.fill()}));break;default:t.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#666",a.fill()}))}i()}),n)}))},async render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;p=e,console.log(JSON.stringify(e)),a.clearRect(0,0,this.board_width,this.board_height),a.drawImage(i,0,0,this.board_width,this.board_height),this.your_pos=[],this.opp_pos=[];for(let t=0;t<5;t++)for(let n=0;n<5;n++)1===e[t][n]?this.your_pos.push([n,t]):-1===e[t][n]?this.opp_pos.push([n,t]):2===e[t][n]?(a.beginPath(),a.arc(n*this.gap-this.chess_radius+g,t*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#6BA1F1",a.fill()):-2===e[t][n]&&(a.beginPath(),a.arc(n*this.gap-this.chess_radius+g,t*this.gap-this.chess_radius+g,this.chess_radius-5,0,2*Math.PI),a.fillStyle="#FC6666",a.fill());this.opp_pos.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius,0,2*Math.PI),a.fillStyle="red",a.fill()})),this.your_pos.forEach((e=>{let[t,n]=e;a.beginPath(),a.arc(t*this.gap-this.chess_radius+g,n*this.gap-this.chess_radius+g,this.chess_radius,0,2*Math.PI),a.fillStyle="#007BFF",a.fill()}))},async handle_return(e,t){return new Promise((n=>{setTimeout((()=>{switch(e){case"valid_move":C.innerHTML="C\xe1c n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7: "+JSON.stringify(this.valid_move),console.log(this.valid_move);break;case"vay":C.innerHTML=e?"Qu\xe2n b\u1ea1n ch\u1ecdn \u0111\xe3 b\u1ecb v\xe2y":"Qu\xe2n b\u1ea1n ch\u1ecdn kh\xf4ng b\u1ecb v\xe2y",console.log(this.valid_move);break;default:console.log(this.valid_move)}this.is_finished=!0}),t)}))},async show_data_change(e,t){let[n,i]=e;switch(this.sleep(t),n){case"valid_move":C.innerHTML="C\xe1c n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7: "+JSON.stringify(this.valid_move),console.log(this.valid_move);break;case"vay":C.innerHTML=i?"Qu\xe2n b\u1ea1n ch\u1ecdn \u0111\xe3 b\u1ecb v\xe2y":"Qu\xe2n b\u1ea1n ch\u1ecdn kh\xf4ng b\u1ecb v\xe2y",console.log(this.valid_move);break;case"ganh_chet":let[e,t]=i;C.innerHTML=e?"Qu\xe2n b\u1ecb \u0103n: "+JSON.stringify(t):"kh\xf4ng c\xf3 qu\xe2n n\xe0o b\u1ecb \u0103n",console.log(this.valid_move);break;default:console.log(this.valid_move)}},async reset_event(){const t=n(".your_pos_item");if(t.forEach((e=>{e.onclick=()=>{t.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.chosed_chess=[[Number(e.dataset.x),Number(e.dataset.y)]],this.Pause(),this.start(f),this.choose_chess(this.chosed_chess)}})),"ganh_chet"===E){const t=n(".your_chess_item");let i=JSON.stringify(this.selected_pos);t.forEach((r=>{r.onclick=()=>{f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),console.log(JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"))),this.new_pos=[],t.forEach((e=>e.classList.remove("selected"))),r.classList.add("selected"),this.selected_pos=[Number(r.dataset.x),Number(r.dataset.y)],this.Pause(),this.start(JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"))),this.choose_chess([this.selected_pos]);const o=e(".your_move_list");let s=[],[a,l]=this.selected_pos;((a+l)%2==0?m:v).forEach((e=>{let[t,n]=e,i=a+t,r=l+n;i>=0&&i<=4&&r>=0&&r<=4&&0===p[r][i]&&s.push([i,r])})),o.innerHTML=s.map((e=>'<div class="your_move_item" data-x="'.concat(e[0],'" data-y="').concat(e[1],'">(').concat([e[0],e[1]],")</div>"))).join("");const c=n(".your_move_item");if(console.log(i,JSON.stringify(this.selected_pos)),0!==c.length){const e=c[0];e.classList.add("selected"),this.new_pos=[Number(e.dataset.x),Number(e.dataset.y)],this.start(JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"))),this.choose_chess([this.selected_pos]),this.show_pre_move([this.new_pos],"your_side",0),i=JSON.stringify(this.selected_pos)}c.forEach((e=>{e.onclick=()=>{f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),c.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.new_pos=[Number(e.dataset.x),Number(e.dataset.y)],this.Pause(),this.start(JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"))),this.choose_chess([this.selected_pos]),this.show_pre_move([this.new_pos],"your_side",0)}}))}}));const r=n(".your_move_item");if(0===this.new_pos.length&&0!==r.length&&JSON.stringify(this.selected_pos)===JSON.stringify(this.your_pos[0])){f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"));const e=r[0];e.classList.add("selected"),this.new_pos=[Number(e.dataset.x),Number(e.dataset.y)],console.log(this.new_pos),this.show_pre_move([this.new_pos],"your_side",0)}r.forEach((e=>{e.onclick=()=>{f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),r.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.new_pos=[Number(e.dataset.x),Number(e.dataset.y)],this.Pause(),this.start(JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]"))),this.choose_chess([this.selected_pos]),this.show_pre_move([this.new_pos],"your_side",0)}}))}},random_board(){const e=[-1,0,1],t=[0,0,0];for(let n=0;n<=4;n++)for(let i=0;i<=4;i++){let r=Math.round(2*Math.random());t[r]>=8?f[n][i]=0:(f[n][i]=e[r],t[r]++,1===e[r]?this.your_pos.push([i,n]):-1===e[r]&&this.opp_pos.push([i,n]))}return f},choose_chess(e){d.innerHTML="".concat(h.replace("quan_co_ban_chon","(".concat(e[0],")"))),this.render(),this.chosing_chess(0,e)},async handle_event(){b.onclick=()=>{console.log("hello");let e=Math.round(Math.random()*(this.your_pos.length-1));x=n(".your_pos_item"),x.forEach((e=>e.classList.remove("selected"))),this.chosed_chess=[[Number(x[e].dataset.x),Number(x[e].dataset.y)]],x[e].classList.add("selected"),this.action.replace("quan_co_ban_chon","".concat(this.chosed_chess[0]).replace("[","(").replace("]",")")),this.choose_chess(this.chosed_chess),f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),this.start(f)},w.onclick=()=>{this.setting_board.innerHTML="",this.random_board().forEach((e=>{let t="[".concat(e,"]\n").replaceAll("1"," 1").replaceAll("0"," 0").replaceAll("- 1","-1");this.setting_board.innerHTML+=t}));try{f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),this.setting_board.style.border="1px solid #007BFF",S.innerHTML="",y.innerHTML="";for(let e=0;e<=4;e++)for(let t=0;t<=4;t++)1===f[e][t]&&(y.innerHTML+='\n                                    <div data-x="'.concat(t,'" data-y="').concat(e,'" class="your_pos_item">(').concat([t,e],")</div>\n                                "),S.innerHTML+='\n                                    <div data-x="'.concat(t,'" data-y="').concat(e,'" class="your_chess_item">(').concat([t,e],")</div>\n                                "));this.isErr=!1;const t=e(".your_pos_item");t.classList.add("selected"),this.chosed_chess=[[Number(t.dataset.x),Number(t.dataset.y)]],this.reset_event(),this.start(f)}catch(t){console.log(t),this.isErr=!0,this.setting_board.style.border="1px solid red"}},this.setting_board.oninput=()=>{try{f=JSON.parse("[".concat(this.setting_board.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),this.setting_board.style.border="1px solid #007BFF",y.innerHTML="",S.innerHTML="";for(let e=0;e<=4;e++)for(let t=0;t<=4;t++)1===f[e][t]&&(y.innerHTML+='\n                                    <div data-x="'.concat(t,'" data-y="').concat(e,'" class="your_pos_item">(').concat([t,e],")</div>\n                                "),S.innerHTML+='\n                                    <div data-x="'.concat(t,'" data-y="').concat(e,'" class="your_chess_item">(').concat([t,e],")</div>\n                                "));this.isErr=!1;const t=e(".your_pos_item");t.classList.add("selected"),this.chosed_chess=[[Number(t.dataset.x),Number(t.dataset.y)]],this.start(f)}catch(t){console.log(t),this.setting_board.style.border="1px solid red",this.isErr=!0}},await this.reset_event()},Play(){this.isPaused=!1,A.checked=!0},Pause(){this.isPaused=!0,A.checked=!1},async start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.clear_variable(),k.value=0,this.animation_index=0,p=e,console.log(JSON.stringify(p)),this.clear_hightlight(0),this.is_single_chess?this.generate_move(this.chosed_chess[0]):this.generate_all_move(0),await this.render(p),this.handle_event()}})}),[]),(0,o.jsx)("div",{className:"show_simulation overflow-hidden",children:(0,o.jsxs)("div",{className:"display_block",children:[(0,o.jsx)("canvas",{className:"VI_canvas",width:400,height:400}),(0,o.jsxs)("div",{className:"grid_layer",children:[(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(0,0)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(0,1)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(0,2)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(0,3)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(0,4)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(1,0)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(1,1)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(1,2)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(1,3)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(1,4)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(2,0)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(2,1)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(2,2)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(2,3)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(2,4)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(3,0)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(3,1)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(3,2)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(3,3)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(3,4)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(4,0)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(4,1)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(4,2)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(4,3)"})}),(0,o.jsx)("div",{className:"grid_item",children:(0,o.jsx)("div",{className:"show_info",children:"(4,4)"})})]})]})})}function S(){}function E(e){return null==e?S:function(){return this.querySelector(e)}}function T(){return[]}function I(e){return null==e?T:function(){return this.querySelectorAll(e)}}function M(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function N(e){return function(){return this.matches(e)}}function R(e){return function(t){return t.matches(e)}}var L=Array.prototype.find;function P(){return this.firstElementChild}var O=Array.prototype.filter;function D(){return Array.from(this.children)}function j(e){return new Array(e.length)}function F(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function $(e,t,n,i,r,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new F(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function B(e,t,n,i,r,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,p=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(p[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(i[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new F(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(p[a])===l&&(r[a]=l)}function U(e){return e.__data__}function z(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function V(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}F.prototype={constructor:F,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var W="http://www.w3.org/1999/xhtml";const H={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),H.hasOwnProperty(t)?{space:H[t],local:e}:e}function K(e){return function(){this.removeAttribute(e)}}function G(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Q(e,t){return function(){this.setAttribute(e,t)}}function Y(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function X(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ee(e){return function(){this.style.removeProperty(e)}}function te(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ne(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function ie(e,t){return e.style.getPropertyValue(t)||Z(e).getComputedStyle(e,null).getPropertyValue(t)}function re(e){return function(){delete this[e]}}function oe(e,t){return function(){this[e]=t}}function se(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ae(e){return e.trim().split(/^|\s+/)}function le(e){return e.classList||new ce(e)}function ce(e){this._node=e,this._names=ae(e.getAttribute("class")||"")}function ue(e,t){for(var n=le(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function he(e,t){for(var n=le(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function de(e){return function(){ue(this,e)}}function pe(e){return function(){he(this,e)}}function fe(e,t){return function(){(t.apply(this,arguments)?ue:he)(this,e)}}function ge(){this.textContent=""}function me(e){return function(){this.textContent=e}}function ve(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ye(){this.innerHTML=""}function _e(e){return function(){this.innerHTML=e}}function be(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function we(){this.nextSibling&&this.parentNode.appendChild(this)}function xe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ae(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===W&&t.documentElement.namespaceURI===W?t.createElement(e):t.createElementNS(n,e)}}function ke(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ce(e){var t=q(e);return(t.local?ke:Ae)(t)}function Se(){return null}function Ee(){var e=this.parentNode;e&&e.removeChild(this)}function Te(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ie(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Me(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ne(e,t,n){return function(){var i,r=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=t);this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Re(e,t,n){var i=Z(e),r=i.CustomEvent;"function"===typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Le(e,t){return function(){return Re(this,e,t)}}function Pe(e,t){return function(){return Re(this,e,t.apply(this,arguments))}}ce.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Oe=[null];function De(e,t){this._groups=e,this._parents=t}function je(){return new De([[document.documentElement]],Oe)}De.prototype=je.prototype={constructor:De,select:function(e){"function"!==typeof e&&(e=E(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=t[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new De(i,this._parents)},selectAll:function(e){e="function"===typeof e?M(e):I(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(i.push(e.call(s,s.__data__,c,a)),r.push(s));return new De(i,r)},selectChild:function(e){return this.select(null==e?P:function(e){return function(){return L.call(this.children,e)}}("function"===typeof e?e:R(e)))},selectChildren:function(e){return this.selectAll(null==e?D:function(e){return function(){return O.call(this.children,e)}}("function"===typeof e?e:R(e)))},filter:function(e){"function"!==typeof e&&(e=N(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new De(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,U);var n,i=t?B:$,r=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=r[u],d=o[u],p=d.length,f=z(e.call(h,h&&h.__data__,u,r)),g=f.length,m=l[u]=new Array(g),v=a[u]=new Array(g);i(h,d,m,v,c[u]=new Array(p),f,t);for(var y,_,b=0,w=0;b<g;++b)if(y=m[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<g;);y._next=_||null}}return(a=new De(a,r))._enter=l,a._exit=c,a},enter:function(){return new De(this._enter||this._groups.map(j),this._parents)},exit:function(){return new De(this._exit||this._groups.map(j),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"===typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,p=a[l]=new Array(d),f=0;f<d;++f)(c=u[f]||h[f])&&(p[f]=c);for(;l<r;++l)a[l]=n[l];return new De(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=V);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new De(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},attr:function(e,t){var n=q(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?G:K:"function"===typeof t?n.local?J:X:n.local?Y:Q)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ee:"function"===typeof t?ne:te)(e,t,null==n?"":n)):ie(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?re:"function"===typeof t?se:oe)(e,t)):this.node()[e]},classed:function(e,t){var n=ae(e+"");if(arguments.length<2){for(var i=le(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?fe:t?de:pe)(n,t))},text:function(e){return arguments.length?this.each(null==e?ge:("function"===typeof e?ve:me)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ye:("function"===typeof e?be:_e)(e)):this.node().innerHTML},raise:function(){return this.each(we)},lower:function(){return this.each(xe)},append:function(e){var t="function"===typeof e?e:Ce(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Ce(e),i=null==t?Se:"function"===typeof t?t:E(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Ee)},clone:function(e){return this.select(e?Ie:Te)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?Ne:Me,i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Pe:Le)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};const Fe=je;var $e={value:()=>{}};function Be(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new Ue(i)}function Ue(e){this._=e}function ze(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Ve(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=$e,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Ue.prototype=Be.prototype={constructor:Ue,on:function(e,t){var n,i,r=this._,o=(i=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=o[s]).type)r[n]=Ve(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ve(r[n],e.name,null);return this}for(;++s<a;)if((n=(e=o[s]).type)&&(n=ze(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ue(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const We=Be;var He,qe,Ke=0,Ge=0,Qe=0,Ye=1e3,Xe=0,Je=0,Ze=0,et="object"===typeof performance&&performance.now?performance:Date,tt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nt(){return Je||(tt(it),Je=et.now()+Ze)}function it(){Je=0}function rt(){this._call=this._time=this._next=null}function ot(e,t,n){var i=new rt;return i.restart(e,t,n),i}function st(){Je=(Xe=et.now())+Ze,Ke=Ge=0;try{!function(){nt(),++Ke;for(var e,t=He;t;)(e=Je-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ke}()}finally{Ke=0,function(){var e,t,n=He,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:He=t);qe=e,lt(i)}(),Je=0}}function at(){var e=et.now(),t=e-Xe;t>Ye&&(Ze-=t,Xe=e)}function lt(e){Ke||(Ge&&(Ge=clearTimeout(Ge)),e-Je>24?(e<1/0&&(Ge=setTimeout(st,e-et.now()-Ze)),Qe&&(Qe=clearInterval(Qe))):(Qe||(Xe=et.now(),Qe=setInterval(at,Ye)),Ke=1,tt(st)))}function ct(e,t,n){var i=new rt;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}rt.prototype=ot.prototype={constructor:rt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?nt():+n)+(null==t?0:+t),this._next||qe===this||(qe?qe._next=this:He=this,qe=this),this._call=e,this._time=n,lt()},stop:function(){this._call&&(this._call=null,this._time=1/0,lt())}};var ut=We("start","end","cancel","interrupt"),ht=[],dt=0,pt=1,ft=2,gt=3,mt=4,vt=5,yt=6;function _t(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(e){n.state=pt,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,h,d;if(n.state!==pt)return l();for(c in r)if((d=r[c]).name===n.name){if(d.state===gt)return ct(s);d.state===mt?(d.state=yt,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=yt,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(ct((function(){n.state===gt&&(n.state=mt,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=ft,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ft){for(n.state=gt,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=vt,1),o=-1,s=i.length;++o<s;)i[o].call(e,r);n.state===vt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var i in n.state=yt,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ot(o,0,n.time)}(e,n,{name:t,index:i,group:r,on:ut,tween:ht,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:dt})}function bt(e,t){var n=xt(e,t);if(n.state>dt)throw new Error("too late; already scheduled");return n}function wt(e,t){var n=xt(e,t);if(n.state>gt)throw new Error("too late; already running");return n}function xt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function At(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kt,Ct=180/Math.PI,St={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Et(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Ct,skewX:Math.atan(l)*Ct,scaleX:s,scaleY:a}}function Tt(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:At(e,r)},{i:l-2,x:At(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:At(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:At(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,s.skewX,a,l),function(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:At(e,n)},{i:a-2,x:At(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,i=l.length;++n<i;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var It=Tt((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?St:Et(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Mt=Tt((function(e){return null==e?St:(kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),kt.setAttribute("transform",e),(e=kt.transform.baseVal.consolidate())?Et((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):St)}),", ",")",")");function Nt(e,t){var n,i;return function(){var r=wt(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function Rt(e,t,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=wt(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function Lt(e,t,n){var i=e._id;return e.each((function(){var e=wt(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return xt(e,i).value[t]}}function Pt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ot(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Dt(){}var jt=.7,Ft=1/jt,$t="\\s*([+-]?\\d+)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,Vt=new RegExp("^rgb\\(".concat($t,",").concat($t,",").concat($t,"\\)$")),Wt=new RegExp("^rgb\\(".concat(Ut,",").concat(Ut,",").concat(Ut,"\\)$")),Ht=new RegExp("^rgba\\(".concat($t,",").concat($t,",").concat($t,",").concat(Bt,"\\)$")),qt=new RegExp("^rgba\\(".concat(Ut,",").concat(Ut,",").concat(Ut,",").concat(Bt,"\\)$")),Kt=new RegExp("^hsl\\(".concat(Bt,",").concat(Ut,",").concat(Ut,"\\)$")),Gt=new RegExp("^hsla\\(".concat(Bt,",").concat(Ut,",").concat(Ut,",").concat(Bt,"\\)$")),Qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function Xt(){return this.rgb().formatRgb()}function Jt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Zt(t):3===n?new nn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?en(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?en(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Vt.exec(e))?new nn(t[1],t[2],t[3],1):(t=Wt.exec(e))?new nn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ht.exec(e))?en(t[1],t[2],t[3],t[4]):(t=qt.exec(e))?en(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Kt.exec(e))?cn(t[1],t[2]/100,t[3]/100,1):(t=Gt.exec(e))?cn(t[1],t[2]/100,t[3]/100,t[4]):Qt.hasOwnProperty(e)?Zt(Qt[e]):"transparent"===e?new nn(NaN,NaN,NaN,0):null}function Zt(e){return new nn(e>>16&255,e>>8&255,255&e,1)}function en(e,t,n,i){return i<=0&&(e=t=n=NaN),new nn(e,t,n,i)}function tn(e,t,n,i){return 1===arguments.length?((r=e)instanceof Dt||(r=Jt(r)),r?new nn((r=r.rgb()).r,r.g,r.b,r.opacity):new nn):new nn(e,t,n,null==i?1:i);var r}function nn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function rn(){return"#".concat(ln(this.r)).concat(ln(this.g)).concat(ln(this.b))}function on(){const e=sn(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(an(this.r),", ").concat(an(this.g),", ").concat(an(this.b)).concat(1===e?")":", ".concat(e,")"))}function sn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function an(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ln(e){return((e=an(e))<16?"0":"")+e.toString(16)}function cn(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hn(e,t,n,i)}function un(e){if(e instanceof hn)return new hn(e.h,e.s,e.l,e.opacity);if(e instanceof Dt||(e=Jt(e)),!e)return new hn;if(e instanceof hn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new hn(s,a,l,e.opacity)}function hn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function dn(e){return(e=(e||0)%360)<0?e+360:e}function pn(e){return Math.max(0,Math.min(1,e||0))}function fn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gn(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}Pt(Dt,Jt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return un(this).formatHsl()},formatRgb:Xt,toString:Xt}),Pt(nn,tn,Ot(Dt,{brighter(e){return e=null==e?Ft:Math.pow(Ft,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(an(this.r),an(this.g),an(this.b),sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rn,formatHex:rn,formatHex8:function(){return"#".concat(ln(this.r)).concat(ln(this.g)).concat(ln(this.b)).concat(ln(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:on,toString:on})),Pt(hn,(function(e,t,n,i){return 1===arguments.length?un(e):new hn(e,t,n,null==i?1:i)}),Ot(Dt,{brighter(e){return e=null==e?Ft:Math.pow(Ft,e),new hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new nn(fn(e>=240?e-240:e+120,r,i),fn(e,r,i),fn(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new hn(dn(this.h),pn(this.s),pn(this.l),sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sn(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(dn(this.h),", ").concat(100*pn(this.s),"%, ").concat(100*pn(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const mn=e=>()=>e;function vn(e,t){return function(n){return e+n*t}}function yn(e){return 1===(e=+e)?_n:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):mn(isNaN(t)?n:t)}}function _n(e,t){var n=t-e;return n?vn(e,n):mn(isNaN(e)?t:e)}const bn=function e(t){var n=yn(t);function i(e,t){var i=n((e=tn(e)).r,(t=tn(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),s=_n(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function wn(e){return function(t){var n,i,r=t.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=tn(t[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=e(o),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=a(e),i+""}}}wn((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],s=i>0?e[i-1]:2*r-o,a=i<t-1?e[i+2]:2*o-r;return gn((n-i/t)*t,s,r,o,a)}})),wn((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],a=e[(i+2)%t];return gn((n-i/t)*t,r,o,s,a)}}));var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,An=new RegExp(xn.source,"g");function kn(e,t){var n,i,r,o=xn.lastIndex=An.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=xn.exec(e))&&(i=An.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:At(n,i)})),o=An.lastIndex;return o<t.length&&(r=t.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})}function Cn(e,t){var n;return("number"===typeof t?At:t instanceof Jt?bn:(n=Jt(t))?(t=n,bn):kn)(e,t)}function Sn(e){return function(){this.removeAttribute(e)}}function En(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tn(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function In(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Mn(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttribute(e)}}function Nn(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function Rn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Ln(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Pn(e,t){return function(){bt(this,e).delay=+t.apply(this,arguments)}}function On(e,t){return t=+t,function(){bt(this,e).delay=t}}function Dn(e,t){return function(){wt(this,e).duration=+t.apply(this,arguments)}}function jn(e,t){return t=+t,function(){wt(this,e).duration=t}}var Fn=Fe.prototype.constructor;function $n(e){return function(){this.style.removeProperty(e)}}var Bn=0;function Un(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function zn(){return++Bn}var Vn=Fe.prototype;Un.prototype=function(e){return Fe().transition(e)}.prototype={constructor:Un,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=E(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,_t(h[d],t,n,d,h,xt(a,n)));return new Un(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=I(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=xt(l,n),g=0,m=p.length;g<m;++g)(d=p[g])&&_t(d,t,n,g,p,f);o.push(p),s.push(l)}return new Un(o,s,t,n)},selectChild:Vn.selectChild,selectChildren:Vn.selectChildren,filter:function(e){"function"!==typeof e&&(e=N(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Un(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<i;++a)s[a]=t[a];return new Un(s,this._parents,this._name,this._id)},selection:function(){return new Fn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=zn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=xt(s,t);_t(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Un(i,this._parents,e,n)},call:Vn.call,nodes:Vn.nodes,node:Vn.node,size:Vn.size,empty:Vn.empty,each:Vn.each,on:function(e,t){var n=this._id;return arguments.length<2?xt(this.node(),n).on.on(e):this.each(function(e,t,n){var i,r,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?bt:wt;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}(n,e,t))},attr:function(e,t){var n=q(e),i="transform"===n?Mt:Cn;return this.attrTween(e,"function"===typeof t?(n.local?Nn:Mn)(n,i,Lt(this,"attr."+e,t)):null==t?(n.local?En:Sn)(n):(n.local?In:Tn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var i=q(e);return this.tween(n,(i.local?Rn:Ln)(i,t))},style:function(e,t,n){var i="transform"===(e+="")?It:Cn;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var o=ie(this,e),s=(this.style.removeProperty(e),ie(this,e));return o===s?null:o===n&&s===i?r:r=t(n=o,i=s)}}(e,i)).on("end.style."+e,$n(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var s=ie(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=ie(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,i,Lt(this,"style."+e,t))).each(function(e,t){var n,i,r,o,s="style."+t,a="end."+s;return function(){var l=wt(this,e),c=l.on,u=null==l.value[s]?o||(o=$n(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var s=ie(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!==typeof t)throw new Error;return this.tween(i,function(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}(e,o,n)),i}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Lt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&function(e){return function(t){this.textContent=e.call(this,t)}}(i)),t}return i._value=e,i}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=xt(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?Nt:Rt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Pn:On)(t,e)):xt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Dn:jn)(t,e)):xt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){wt(this,e).ease=t}}(t,e)):xt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;wt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0===--r&&o()}};n.each((function(){var n=wt(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===r&&o()}))},[Symbol.iterator]:Vn[Symbol.iterator]};var Wn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Hn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Fe.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>ft&&n.state<vt,n.state=yt,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete e.__transition}}(this,e)}))},Fe.prototype.transition=function(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=zn(),(n=Wn).time=nt(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&_t(s,e,t,c,a,n||Hn(s,t));return new Un(i,this._parents,e,t)};const{abs:qn,max:Kn,min:Gn}=Math;function Qn(e){return[+e[0],+e[1]]}function Yn(e){return[Qn(e[0]),Qn(e[1])]}["w","e"].map(Xn),["n","s"].map(Xn),["n","w","e","s","nw","ne","sw","se"].map(Xn);function Xn(e){return{type:e}}function Jn(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function Zn(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=ti)):void 0===t&&(t=ei);for(var n,i,r,o,s,a=new ri(e),l=[a];n=l.pop();)if((r=t(n.data))&&(s=(r=Array.from(r)).length))for(n.children=r,o=s-1;o>=0;--o)l.push(i=r[o]=new ri(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(ii)}function ei(e){return e.children}function ti(e){return Array.isArray(e)?e[1]:null}function ni(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function ii(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function ri(e){this.data=e,this.depth=this.height=0,this.parent=null}function oi(e,t){return e.parent===t.parent?1:2}function si(e){var t=e.children;return t?t[0]:e.t}function ai(e){var t=e.children;return t?t[t.length-1]:e.t}function li(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ci(e,t,n){return e.a.parent===t.parent?e.a:n}function ui(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function hi(){var e=oi,t=1,n=1,i=null;function r(r){var l=function(e){for(var t,n,i,r,o,s=new ui(e,0),a=[s];t=a.pop();)if(i=t._.children)for(t.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=t.children[r]=new ui(i[r],r)),n.parent=t;return(s.parent=new ui(null,0)).children=[s],s}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),i)r.eachBefore(a);else{var c=r,u=r,h=r;r.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>h.depth&&(h=e)}));var d=c===u?1:e(c,u)/2,p=d-c.x,f=t/(u.x+d+p),g=n/(h.depth||1);r.eachBefore((function(e){e.x=(e.x+p)*f,e.y=e.depth*g}))}return r}function o(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n){!function(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,s=t,a=n,l=o.parent.children[0],c=o.m,u=s.m,h=a.m,d=l.m;a=ai(a),o=si(o),a&&o;)l=si(l),(s=ai(s)).a=t,(r=a.z+h-o.z-c+e(a._,o._))>0&&(li(ci(a,t,i),t,r),c+=r,u+=r),h+=a.m,c+=o.m,d+=l.m,u+=s.m;a&&!ai(s)&&(s.t=a,s.m+=h-u),o&&!si(l)&&(l.t=o,l.m+=c-d,i=t)}return i}(t,r,t.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e){e.x*=t,e.y=e.depth*n}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r}function di(e){return"string"===typeof e?new De([[document.querySelector(e)]],[document.documentElement]):new De([[e]],Oe)}ri.prototype=Zn.prototype={constructor:ri,count:function(){return this.eachAfter(Jn)},each:function(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this},eachAfter:function(e,t){for(var n,i,r,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i]);for(;o=a.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,i,r=this,o=[r],s=-1;r=o.pop();)if(e.call(t,r,++s,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;e=n.pop(),t=i.pop();for(;e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Zn(this).eachBefore(ni)},[Symbol.iterator]:function*(){var e,t,n,i,r=this,o=[r];do{for(e=o.reverse(),o=[];r=e.pop();)if(yield r,t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n])}while(o.length)}},ui.prototype=Object.create(ri.prototype);var pi,fi,gi,mi,vi,yi,_i,bi,wi,xi,Ai,ki,Ci,Si,Ei=Array.prototype.slice;function Ti(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ii(e){return function(){return e}}class Mi{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Ni(e){return new Mi(e,!1)}function Ri(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Li=Math.PI,Pi=2*Li,Oi=1e-6,Di=Pi-Oi;function ji(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Fi{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ji:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return ji;const n=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(pi||(pi=Ri(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(fi||(fi=Ri(["Z"]))))}lineTo(e,t){this._append(gi||(gi=Ri(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,i){this._append(mi||(mi=Ri(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+i)}bezierCurveTo(e,t,n,i,r,o){this._append(vi||(vi=Ri(["C",",",",",",",",",",",""])),+e,+t,+n,+i,this._x1=+r,this._y1=+o)}arcTo(e,t,n,i,r){if(e=+e,t=+t,n=+n,i=+i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=this._x1,s=this._y1,a=n-e,l=i-t,c=o-e,u=s-t,h=c*c+u*u;if(null===this._x1)this._append(yi||(yi=Ri(["M",",",""])),this._x1=e,this._y1=t);else if(h>Oi)if(Math.abs(u*a-l*c)>Oi&&r){let d=n-o,p=i-s,f=a*a+l*l,g=d*d+p*p,m=Math.sqrt(f),v=Math.sqrt(h),y=r*Math.tan((Li-Math.acos((f+h-g)/(2*m*v)))/2),_=y/v,b=y/m;Math.abs(_-1)>Oi&&this._append(bi||(bi=Ri(["L",",",""])),e+_*c,t+_*u),this._append(wi||(wi=Ri(["A",",",",0,0,",",",",",""])),r,r,+(u*d>c*p),this._x1=e+b*a,this._y1=t+b*l)}else this._append(_i||(_i=Ri(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,i,r,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(i),a=n*Math.sin(i),l=e+s,c=t+a,u=1^o,h=o?i-r:r-i;null===this._x1?this._append(xi||(xi=Ri(["M",",",""])),l,c):(Math.abs(this._x1-l)>Oi||Math.abs(this._y1-c)>Oi)&&this._append(Ai||(Ai=Ri(["L",",",""])),l,c),n&&(h<0&&(h=h%Pi+Pi),h>Di?this._append(ki||(ki=Ri(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-s,t-a,n,n,u,this._x1=l,this._y1=c):h>Oi&&this._append(Ci||(Ci=Ri(["A",",",",0,",",",",",",",""])),n,n,+(h>=Li),u,this._x1=e+n*Math.cos(r),this._y1=t+n*Math.sin(r)))}rect(e,t,n,i){this._append(Si||(Si=Ri(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+i,-n)}toString(){return this._}}function $i(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Fi(t)}function Bi(e){return e[0]}function Ui(e){return e[1]}function zi(e){return e.source}function Vi(e){return e.target}function Wi(e){let t=zi,n=Vi,i=Bi,r=Ui,o=null,s=null,a=$i(l);function l(){let l;const c=Ei.call(arguments),u=t.apply(this,c),h=n.apply(this,c);if(null==o&&(s=e(l=a())),s.lineStart(),c[0]=u,s.point(+i.apply(this,c),+r.apply(this,c)),c[0]=h,s.point(+i.apply(this,c),+r.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(i="function"===typeof e?e:Ii(+e),l):i},l.y=function(e){return arguments.length?(r="function"===typeof e?e:Ii(+e),l):r},l.context=function(t){return arguments.length?(null==t?o=s=null:s=e(o=t),l):o},l}function Hi(e,t,n){this.k=e,this.x=t,this.y=n}Fi.prototype,Hi.prototype={constructor:Hi,scale:function(e){return 1===e?this:new Hi(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Hi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Hi(1,0,0);function qi(t){return(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),n=document.querySelectorAll.bind(document),i=n(".code_row");let r={name:"Root",value:"-inf",default_value:"-inf",MOX:0,depth:0,children:[{name:"A",value:"+inf",default_value:"+inf",MOX:1,depth:1,children:[{name:"A1",value:2,default_value:2,MOX:0,depth:2,children:[]},{name:"A2",value:5,default_value:5,depth:2,MOX:0,children:[]}]},{name:"B",value:"+inf",default_value:"+inf",MOX:1,depth:1,children:[{name:"B1",value:2,default_value:2,depth:2,MOX:0,children:[]},{name:"B2",value:9,default_value:9,depth:2,MOX:0,children:[]}]},{name:"D",value:"+inf",default_value:"+inf",MOX:1,depth:1,children:[{name:"D1",value:2,default_value:2,depth:2,MOX:0,children:[]},{name:"D2",value:100,default_value:100,depth:2,MOX:0,children:[]}]}]},o=di("svg"),s=+o.attr("width"),a=+o.attr("height"),l=o.append("g").attr("transform","translate(0,100)"),c=hi().size([s,a-160]),u=Zn(r);c(u);let h=u.descendants(),d=h.reduce(((e,t)=>t.depth>e?t.depth:e),0),p=u.links();const f=e(".node_name"),g=e(".node_value"),m=e(".duration_bar"),v=e(".visualize_speed"),y=e(".show_data_change"),_=e("#play_pause_btn"),b=e(".minimax_list");let w={content:l,link:null,node:null,group:null,speed:1,circle_r:20,root_history:[],selected_node:{},isPaused:!1,animation_index:0,is_animation_end:!0,is_hightlight_result:!1,is_rewind:!1,data_change:[],action:[],code_row_animation:[],algorithm:"",svg:o,sleep(e){return new Promise((t=>setTimeout(t,e/this.speed)))},async run_algorithm(e){if(this.code_row_animation=[],this.algorithm=e,this.action=[],"minimax"===e)this.action=[],await this.minimax(u,0,!0),this.code_row_animation.push([[1,2],"true"]);this.data_change=[],await this.save_data_change()},async play_visualize(){this.animation_index=0,this.Play(),this.reset_hightlight_result(),this.isPaused=!0,await this.animate_all_nodes(h),this.isPaused=!1,this.is_animation_end&&(await this.reset_hightlight_result(),await this.play_animation(0))},async minimax(e,t){if(4===t||!e.children||0===e.children.length)return this.action.push({node:e,time:0}),e.data.value;let n;if(e.data.MOX){n=1/0;for(let i of e.children){let r=await this.minimax(i,t+1);this.code_row_animation.push([[15,16,17,18],"true"]),r<n&&(n=r,e.selectedChild=i,e.data.value=n)}}else{n=-1/0;for(let i of e.children){let r=await this.minimax(i,t+1);this.code_row_animation.push([[7,8,9,10],"true"]),r>n&&(n=r,e.selectedChild=i,e.data.value=n)}}return this.action.push({node:e,time:500}),n},async save_data_change(){let e=this;!function t(n){let i=[];for(let r of n.children)t(r),i.push(r.value),e.data_change.push([...i])}(r)},async show_data_change(e,t){e.selectedChild&&(y.innerHTML=(0===e.data.MOX?"Max":"Min")+" = "+e.data.value.toString(),await this.sleep(1e3)),y.innerHTML=t===this.action.length-1?"nh\xe1nh t\u1ed1t nh\u1ea5t c\xf3 gi\xe1 tr\u1ecb: "+r.value:JSON.stringify(this.data_change[t])},async findPath(e,t){let n=[];return function e(i){if(i===t)return n.push(i),!0;if(i.children)for(let t of i.children)if(e(t))return n.push(i),!0;return!1}(e),n.reverse()},async highlightPath(e,t){const n=await this.findPath(e,t);for(let i=0;i<n.length-1;i++){const e=n[i],t=n[i+1];this.link.filter((n=>n.source===e&&n.target===t)).transition().duration(500/this.speed).attr("stroke","lightgreen").attr("stroke-width","4px")}},async hightlight(e,t){console.log(e),1===e.length?i[e[0]].classList.add("round_top","round_bottom"):(i[e[0]].classList.add("round_top"),i[e[e.length-1]].classList.add("round_bottom")),e.forEach((e=>{i[e].classList.add(t)}))},async clear_hightlight(e,t){i.forEach((e=>e.classList.remove("run","true","false","round_top","round_bottom")))},async animate_all_nodes(e){let t=this;for(let i=0;i<=(0===r.MOX?7:15);i++)await t.sleep(50),await t.hightlight([i],"true");let n=di(".node.Root");n.select("circle").transition().duration(500/this.speed).attr("fill","#ff6565");n.select("text").text((e=>e.data.default_value));await this.sleep(500),await t.clear_hightlight(),await async function e(n){for(let i of n.children){for(let e=0;e<=(0===i.MOX?7:15);e++)await t.sleep(50/((0===i.MOX?7:15)/7)),await t.hightlight([e],"true");let n=di(".node.".concat(i.name));n.select("circle").transition().duration(500/t.speed).attr("fill","#ff6565");n.select("text").text((e=>e.data.default_value));await t.sleep(500),await t.clear_hightlight(),await e(i)}}(r)},async pause(){for(;this.isPaused;)await this.sleep(100)},async changeColor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.content.selectAll(".node").filter((t=>t.data.name===e.data.name));if(n){if(i.select("text").text((e=>"".concat(e.data.default_value))),!i.select("rect").empty()){i.select("g.node_log").select("text").transition().attr("opacity",0)}}else if(t){if(i.select("text").text((e=>"".concat(e.data.value))),!i.select("rect").empty()){i.select("g.node_log").select("text").transition().attr("opacity",1).text((e=>{const{value:t}=e.data;return 0!==e.data.MOX?"MIN = ".concat(t):"MAX = ".concat(t)}))}}else{i.select("circle").transition().duration(500/this.speed).attr("fill","#ffcc00");const t=this.content.selectAll(".link").filter((t=>t.source.data.name===e.data.name));if(t.transition().duration(500/this.speed).attr("stroke","#ffcc00"),!i.select("rect").empty()){const e=i.select("g.node_log"),t=e.select("rect"),n=e.select("text");await this.sleep(500),t.transition(),n.transition().duration(500/this.speed).attr("opacity",1).text((e=>{const{value:t}=e.data;return 0!==e.data.MOX?"MIN = ".concat(t):"MAX = ".concat(t)}))}await this.sleep(1e3),i.select("text").text((e=>"".concat(e.data.value))),await this.pause(),i.select("circle").transition().duration(500/this.speed).attr("fill","#fff"),await this.pause(),await this.sleep(500),t.transition().duration(500/this.speed).attr("stroke","#555")}},async highlight_result(e){this.is_animation_end=!0,this.is_hightlight_result=!0;let t=e;for(;t.selectedChild;)this.node.filter((e=>e===t)).select("circle").transition().duration(500/this.speed).attr("fill","#fff").attr("stroke","#007BFF").attr("stroke-width","3px"),this.link.filter((e=>e.source===t&&e.target===t.selectedChild)).transition().duration(500/this.speed).attr("stroke","#007BFF").attr("stroke-width","3px"),t=t.selectedChild;this.node.filter((e=>e===t)).select("circle").transition().duration(500/this.speed).attr("stroke","#007BFF").attr("stroke-width","3px")},async reset_hightlight_result(e){switch(e){case"link":this.link.transition().duration(500/this.speed).attr("stroke","#555").attr("stroke-width","2px").attr("fill","none");break;case"node":this.node.selectAll("circle").transition().duration(500/this.speed).attr("fill","#fff").attr("stroke","#999").attr("stroke-width","1px");break;default:this.link.transition().duration(500/this.speed).attr("stroke","#555").attr("stroke-width","2px").attr("fill","none"),this.node.selectAll("circle").transition().duration(500/this.speed).attr("fill","#fff").attr("stroke","#999").attr("stroke-width","1px")}},async play_one_frame(e,t){this.speed=4;let n=e,i=e;for(m.value=e/(this.action.length-1)*100;n--;){let{node:e,time:t}=this.action[n];await this.changeColor(e,!0)}for(;i<this.action.length;){let{node:e,time:t}=this.action[i];await this.changeColor(e,!0,!0),i++}let{node:r,time:o}=this.action[e];if(await this.reset_hightlight_result(),await this.highlightPath(u,r),await this.sleep(o),this.show_data_change(r,this.animation_index),await this.changeColor(r),e===this.action.length-1){for(n=e;n--;){let{node:e,time:t}=this.action[n];await this.changeColor(e,!0)}await this.highlight_result(u),this.is_animation_end=!0}},async play_animation(e){if(this.speed=Number(v.value),this.animation_index=e,this.is_hightlight_result&&this.animation_index<this.action.length-1&&(this.reset_hightlight_result(),this.is_hightlight_result=!1),this.is_animation_end)for(this.is_animation_end=!1;this.animation_index<this.action.length;){let e=this.animation_index,t=this.animation_index;for(m.value=this.animation_index/(this.action.length-1)*100;e--;){let{node:t,time:n}=this.action[e];await this.changeColor(t,!0)}for(;t<this.action.length-1;){let{node:e,time:n}=this.action[t];await this.changeColor(e,!0,!0),t++}let{node:n,time:i}=this.action[this.animation_index];if(await this.pause(),await this.reset_hightlight_result(),await this.pause(),await this.highlightPath(u,n),await this.pause(),await this.sleep(i),await this.pause(),this.show_data_change(n,this.animation_index),await this.hightlight(this.code_row_animation[this.animation_index][0],this.code_row_animation[this.animation_index][1]),await this.changeColor(n),await this.clear_hightlight(),this.animation_index===this.action.length-1){for(e=this.animation_index;e--;){let{node:t,time:n}=this.action[e];await this.changeColor(t,!0)}await this.highlight_result(u),this.is_animation_end=!0;break}this.animation_index+=1}},clear_data(e){!function e(t){if(t.children.length<=0)return;t.value=0===t.MOX?"-inf":"+inf";let n=t.children;for(let i=0;i<n.length;i++)e(n[i])}(e)},update_root(e,t){e(r)&&t(r).forEach((e=>{let{variable:t,data:n}=e;r[t]=n})),function n(i){for(let r of i.children)n(r),e(r)&&t(r).forEach((e=>{let{variable:t,data:n}=e;r[t]=n}))}(r),this.generate_tree()},chooseNode(e){this.selected_node=e,f.value=e.data.name,g.value="number"===typeof e.data.default_value?e.data.default_value:""},addNode(e){e.data.children||(e.data.children=[]);let t=Math.floor(100*Math.random());e.data.value=0===e.data.MOX?"-inf":"+inf",e.data.default_value=0===e.data.MOX?"-inf":"+inf";const n={name:"NewNode".concat(Date.now()),value:t,default_value:t,depth:e.data.depth+1,MOX:0===e.data.MOX?1:0,children:[]};e.data.children.push(n),this.generate_tree(e)},deleteNode(e,t){if(e===t)return void console.error("Cannot delete the root node.");let n=function e(t,n){if(!t.children)return null;for(let i of t.children){if(i.name===n.data.name)return t;let r=e(i,n);if(r)return r}return null}(t,e);if(n&&(n.children=n.children.filter((t=>t.name!==e.data.name)),n.children.length<=0)){const t=Math.round(100*Math.random());n.default_value="string"===typeof e.data.value?t:e.data.default_value,n.value="string"===typeof e.data.value?t:e.data.value}this.generate_tree()},find_node(e){let t=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(let i of n.children){if(i.name===e.data.name)return i;let r=t(i,n);if(r)return r}}();return t},generate_tree(e){this.clear_data(r);let t=this;this.animation_index=0,c=hi().size([s,a-160]),u=Zn(r),c(u),h=u.descendants(),d=h.reduce(((e,t)=>t.depth>e?t.depth:e),0),p=u.links(),this.link=l.selectAll(".link").data(p).enter().append("path").attr("class","link").attr("stroke","#555").attr("stroke-width","2px").attr("fill","none").attr("d",Wi(Ni).x((e=>e.x)).y((e=>e.y))),this.node=l.selectAll(".node").style("position","relative").data(h).enter().append("g").on("click",(async function(e,n){await t.reset_hightlight_result("node"),di(this).select("circle").transition().duration(20).attr("stroke","#007BFF").attr("stroke-width","3px"),t.chooseNode(n)})).attr("class",(e=>"node "+e.data.name)).attr("transform",(e=>"translate(".concat(e.x,",").concat(e.y,")"))),this.node.append("circle").attr("r",this.circle_r).attr("fill","#fff").attr("stroke","#999").attr("stroke-width","1px"),this.node.append("text").attr("dy",this.circle_r/3).attr("class","text").style("font-size",this.circle_r+"px").text((e=>"".concat("number"===typeof e.data.default_value?e.data.default_value:"")));let i=this.node.append("g").attr("class","add_node_btn").on("click",((e,t)=>{this.addNode(t)}));i.append("circle").attr("r",this.circle_r/2.6).attr("fill","#ccc"),i.append("text").attr("y",3.2).attr("font-family","FontAwesome").attr("class","icon fa").style("font-size",this.circle_r/1.6+"px").attr("text-anchor","middle").attr("font-family","FontAwesome").text("+");let o=this.node.append("g").attr("class","remove_node_btn").on("click",((e,t)=>{const n=h.find((e=>e.data.name===t.data.name));n&&this.deleteNode(n,r)}));o.append("circle").attr("r",this.circle_r/2.6).attr("fill","#ccc"),o.append("text").attr("y",3.2).attr("font-family","FontAwesome").attr("class","icon fa").style("font-size",this.circle_r/1.6+"px").attr("text-anchor","middle").attr("font-family","FontAwesome").text("\uf00d"),this.group=this.node.filter((e=>e.data.children.length>1)).append("g").attr("class","node_log"),this.group.append("rect").attr("width",40).attr("height",20).attr("y",20).attr("x",-20).attr("cy",20).attr("cx",-15).attr("fill","none"),this.group.append("text").attr("class","text").style("font-size",this.circle_r/1.4+"px").attr("x",0).attr("y",35+this.circle_r/1.4).attr("opacity",0),this.run_algorithm("minimax"),b.innerHTML=new Array(d+1).fill(0).map(((e,t)=>{const n=h.find((e=>e.depth===t)).data.MOX;return'\n                <li class="minimax_item">\n                    <div>H\xe0ng '.concat(t+1,'</div>\n                    <select name="" id="" class="MOX_list">\n                        <option ').concat(0===n?"selected":"",' value="0" class="MOX_item">max</option>\n                        <option ').concat(0!==n?"selected":"",' value="1" class="MOX_item">min</option>\n                    </select>\n                </li>\n            ')})).join("");n(".MOX_list").forEach(((e,n)=>{e.onchange=()=>{t.update_root((e=>e.depth===n),(t=>[{variable:"MOX",data:Number(e.value)},{variable:"default_value",data:"number"===typeof t.default_value?t.default_value:0===Number(e.value)?"-inf":"+inf"}]))}}))},handle_event(){f.oninput=()=>{this.find_node(this.selected_node).name=f.value,this.generate_tree(this.selected_node)},g.oninput=()=>{0===this.selected_node.data.children.length&&(this.find_node(this.selected_node).default_value=Number(g.value),this.generate_tree(this.selected_node))}},Play(){this.isPaused=!1,_.checked=!0},Pause(){this.isPaused=!0,_.checked=!1},async start(){this.generate_tree(),this.handle_event()}};t.controller(w)}),[]),(0,o.jsx)("svg",{width:960,height:600})}function Ki(){const{state:t}=(0,i.zy)(),{id:n}=(0,i.g)(),[r,s]=(0,e.useState)({}),[a,l]=(0,e.useState)({});return(0,e.useEffect)((()=>{fetch("https://coganh.onrender.com/get_visualize/"+n).then((e=>e.json())).then((e=>s(e))).catch((e=>console.log(e)))}),[t]),(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),{action:t,name:n,type:i}=(document.querySelectorAll.bind(document),r),o=e(".run_btn"),s=i,l=n,c=e(".O_C_btn i"),u=e(".open_code_btn i"),h=e(".side_select"),d=e(".setting_bar"),p=e(".action_block"),f=e(".play_animation_controller"),g=(e("#play_pause_btn"),e(".duration_bar"));g.value=0;const m=e(".visualize_speed"),v=e(".pre_action"),y=e(".play_btn"),_=e(".pause_btn"),b=e(".next_action");let w,x,A,k,C,S=!1;g.onchange=e=>{"tree"===s?a.animation_index=Math.round((a.action.length-1)*(e.target.value/100)):"board"===s&&(a.animation_index=Math.round((a.run_task.length-1)*(e.target.value/100))),a.Pause(),a.play_one_frame(a.animation_index)},m.onchange=()=>{a.speed=Number(m.value)},"vay"===r.name&&(h.onchange=()=>{a.config_run_task=e=>{let t=[];for(let[n,i]of e[h.value]){let r=e.valid_move_for_single_chess[h.value]["[".concat([n,i],"]")].length>0;if(t.push(["RMH","",1e3],["hightlight",{row:[3,4,5,6],type:"run"},0],["hightlight",{row:[(n+i)%2===0?4:6],type:"true"},0],["RMH","",1e3],["CC_M",["valid","valid_move_for_single_chess",h.value,"[".concat([n,i],"]")],0],["hightlight",{row:[r?[9,10]:9],type:r?"true":"false"},0]),r)return t.push(["SDC",["vay",!1],0]),void(e.run_task=t)}t.push(["RMH","",1e3],["hightlight",{row:[12,13],type:"true"},0],["FT",e[h.value],100]),t.push(["SDC",["vay",!0],0]),e.run_task=t},a.start(),a.Pause()}),v.onclick=async()=>{a.Pause(),a.animation_index>0&&(a.animation_index-=1,await a.play_one_frame(a.animation_index),g.value=a.animation_index/(w["tree"===s?"action":"run_task"].length-1)*100)},b.onclick=async()=>{console.log(a.animation_index),a.Pause(),a.animation_index<w["tree"===s?"action":"run_task"].length-1&&("tree"!==s&&0===a.moves.length&&0===a.all_move.your_pos.length&&0===a.opp_pos.length||(a.animation_index+=1),await a.play_one_frame(a.animation_index),g.value=a.animation_index/(w["tree"===s?"action":"run_task"].length-1)*100)},y.onclick=()=>{a.isPaused=!1,a.play_animation(a.animation_index)},_.onclick=()=>{a.isPaused=!0},"board"===s?("valid_move"===l&&(a.is_single_chess=!0,a.chosed_chess=[[0,2]],a.choose_chess(a.chosed_chess)),a.start(),"vay"===l&&(a.config_run_task=e=>{let t=[];for(let[n,i]of e[h.value]){let r=e.valid_move_for_single_chess[h.value]["[".concat([n,i],"]")].length>0;if(t.push(["RMH","",1e3],["hightlight",{row:[3,4,5,6],type:"run"},0],["hightlight",{row:[(n+i)%2===0?4:6],type:"true"},0],["RMH","",1e3],["CC_M",["valid","valid_move_for_single_chess",h.value,"[".concat([n,i],"]")],0],["hightlight",{row:[r?[9,10]:9],type:r?"true":"false"},0]),r)return t.push(["SDC",["vay",!1],0]),void(e.run_task=t)}t.push(["FT",e[h.value],100]),t.push(["SDC",["vay",!0],0]),e.run_task=t}),"valid_move"===l&&(a.run_task=JSON.parse(t.replaceAll("9999",(a.chosed_chess[0][0]+a.chosed_chess[0][1])%2===0?"4":"6"))),"ganh_chet"===l&&(a.config_run_task=()=>{const t=e(".board");let n=a.ganh_chet(a.new_pos,a.opp_pos,1,-1),i=[];i.push(["render",JSON.parse("[".concat(t.innerHTML.replaceAll("\n",","),"]").replaceAll("],]","]]")),0],["hightlight",{row:[5,6],type:"true"},0],["MC",[a.selected_pos,a.new_pos],1e3],...a.opp_pos.map((e=>["CSC",e,500])),["RMH","",0]),n.length>0?i.push(["FT",n,1e3],["hightlight",{row:[7,8,9,10],type:"true"},0],["RMH","",1e3],["hightlight",{row:[12],type:"true"},1e3],["SDC",["ganh_chet",[!0,n]],0]):i.push(["SDC",["ganh_chet",[!1,n]],1e3],["hightlight",{row:[7,8,9],type:"false"},0]),a.run_task=i})):"tree"===s&&(console.log(a),a.start()),o.onclick=()=>{if("board"===s){if(a.isErr)return a.setting_board.style.animation="none",void setTimeout((()=>{a.setting_board.style.animation="horizontal-shaking .1s linear"}),10);a.start(),a.chosed_chess=a.chosed_chess,a.play_animation(),a.Play()}else"tree"===s&&(a.run_algorithm("minimax"),a.isPaused=!1,a.play_visualize())};document.querySelector(".fake_window");const E=document.querySelector(".fake_window");E.scrollLeft=1500-window.innerWidth/2,E.scrollTop=window.innerHeight/2+800,window.onbeforeunload=function(){E.scrollLeft=1500-this.window.innerWidth/2,E.scrollTop=this.window.innerHeight/2+800},window.onload=function(){E.scrollLeft=1500-this.window.innerWidth/2,E.scrollTop=this.window.innerHeight/2+800},E.onmousedown=e=>{S=!0,x=e.clientX,A=e.clientY,k=E.scrollLeft,C=E.scrollTop,E.style.cursor="grabbing"},E.onmouseup=()=>{S=!1,E.style.cursor="default"},E.onmouseleave=()=>{S=!1,E.style.cursor="default"},E.onmousemove=e=>{if(!S)return;const t=e.clientX,n=e.clientY,i=t-x,r=n-A;E.scrollLeft=k-i,E.scrollTop=C-r},c.onclick=()=>{d.classList.toggle("appear")},u.onclick=()=>{p.classList.toggle("appear")},p.onmousemove=()=>{S=!1},f.onmousemove=()=>{S=!1},d.onmousemove=()=>{S=!1},console.log(a)}),[a,t]),(0,o.jsxs)("div",{className:"fake_window w-screen h-screen overflow-hidden",children:[(0,o.jsx)(b,{}),console.log("render"),(0,o.jsxs)("div",{className:"fake_body",children:[(0,o.jsx)("img",{style:{position:"fixed"},className:"board_img",src:A,alt:"",hidden:!0}),(0,o.jsx)("img",{style:{position:"fixed"},className:"fire_img",src:k,alt:"",hidden:!0}),(0,o.jsx)("audio",{className:"fire_sound",src:"../static/fireSound.mp3"}),(0,o.jsxs)("label",{htmlFor:"checkbox",className:"r_btn O_C_btn",children:[(0,o.jsx)("i",{style:{fontSize:34},className:"fa-solid fa-gear"}),(0,o.jsx)("div",{className:"setting_bar",children:(0,o.jsxs)("div",{className:"setting_block",children:["board"===r.type&&(0,o.jsxs)("div",{className:"VI_setting_item sboard",children:[(0,o.jsx)("div",{className:"board_title",children:"board"}),(0,o.jsxs)("pre",{className:"VI_board",contentEditable:"",children:["[-1,-1,-1,-1,-1]","\n","[-1, 0, 0, 0,-1]","\n","[ 1, 0, 0, 0,-1]","\n","[ 1, 0, 0, 0, 1]","\n","[ 1, 1, 1, 1, 1]"]}),(0,o.jsx)("div",{className:"random_board_btn",children:(0,o.jsx)("i",{className:"fa-solid fa-dice"})})]}),"valid_move"===r.name&&(0,o.jsxs)("div",{className:"VI_setting_item choose_chess",children:[(0,o.jsx)("div",{className:"choose_your_pos_title",children:"Ch\u1ecdn qu\xe2n"}),(0,o.jsxs)("div",{className:"your_pos_list",children:[(0,o.jsx)("div",{className:"your_pos_item selected","data-x":0,"data-y":2,children:"(0,2)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":0,"data-y":3,children:"(0,3)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":0,"data-y":4,children:"(0,4)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":1,"data-y":4,children:"(1,4)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":2,"data-y":4,children:"(2,4)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":3,"data-y":4,children:"(3,4)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":4,"data-y":4,children:"(4,4)"}),(0,o.jsx)("div",{className:"your_pos_item","data-x":4,"data-y":3,children:"(4,3)"})]}),(0,o.jsx)("div",{className:"random_your_pos_btn",children:(0,o.jsx)("i",{className:"fa-solid fa-dice"})})]}),"vay"===r.name&&(0,o.jsxs)("div",{className:"VI_setting_item vay_check",children:[(0,o.jsx)("div",{className:"item_title",children:"Qu\xe2n \u0111\u01b0\u1ee3c ki\u1ec3m tra v\xe2y"}),(0,o.jsxs)("select",{className:"side_select",name:"",id:"",children:[(0,o.jsx)("option",{value:"your_pos",children:"Qu\xe2n xanh"}),(0,o.jsx)("option",{value:"opp_pos",children:"Qu\xe2n \u0111\u1ecf"})]})]}),"ganh_chet"===r.name&&(0,o.jsxs)("div",{className:"VI_setting_item choose_chess_move",children:[(0,o.jsx)("div",{className:"item_title",children:"Ch\u1ecdn qu\xe2n"}),(0,o.jsxs)("div",{className:"your_chess_list",children:[(0,o.jsx)("div",{className:"your_chess_item selected","data-x":0,"data-y":2,children:"(0,2)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":0,"data-y":3,children:"(0,3)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":0,"data-y":4,children:"(0,4)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":1,"data-y":4,children:"(1,4)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":2,"data-y":4,children:"(2,4)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":3,"data-y":4,children:"(3,4)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":4,"data-y":4,children:"(4,4)"}),(0,o.jsx)("div",{className:"your_chess_item","data-x":4,"data-y":3,children:"(4,3)"})]}),(0,o.jsx)("div",{className:"item_title",children:"Ch\u1ecdn v\u1ecb tr\xed di chuy\u1ec3n"}),(0,o.jsxs)("div",{className:"your_move_list",children:[(0,o.jsx)("div",{className:"your_move_item","data-x":1,"data-y":1,children:"(1,1)"}),(0,o.jsx)("div",{className:"your_move_item","data-x":1,"data-y":2,children:"(1,2)"}),(0,o.jsx)("div",{className:"your_move_item","data-x":1,"data-y":3,children:"(1,3)"})]})]}),"minimax"===r.name&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"VI_setting_item node",children:[(0,o.jsx)("div",{className:"item_title",children:"Node"}),(0,o.jsxs)("div",{className:"node_setting",children:[(0,o.jsx)("input",{type:"text",className:"node_name",placeholder:"Name"}),(0,o.jsx)("input",{type:"number",className:"node_value",placeholder:"Value"})]})]}),(0,o.jsxs)("div",{className:"VI_setting_item minimax_turn",children:[(0,o.jsx)("div",{className:"item_title",children:"Th\u1ee9 t\u1ef1 minimax"}),(0,o.jsx)("ul",{className:"minimax_list"})]})]}),(0,o.jsx)("div",{className:"run_btn",children:"Kh\u1edfi t\u1ea1o"})]})})]}),(0,o.jsxs)("label",{htmlFor:"open_code_cb",className:"r_btn open_code_btn",children:[(0,o.jsx)("i",{className:"fa-solid fa-code"}),(0,o.jsx)("div",{className:"action_block",children:(0,o.jsxs)("div",{className:"code_list",children:[(0,o.jsx)("pre",{className:"bg-white bg-opacity-0 border-0 p-0",children:(0,o.jsx)("code",{className:"language-python bg-white bg-opacity-0",children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:r.codes}})})}),(0,o.jsx)("div",{className:"row_list",children:new Array(r.row).fill(0).map((e=>(0,o.jsx)("div",{className:"code_row"})))})]})}),(0,o.jsx)("div",{className:"show_data_change",children:"value"})]}),(0,o.jsxs)("div",{className:"play_animation_controller",children:[(0,o.jsxs)("div",{className:"btn_controller",children:[(0,o.jsx)("div",{className:"controller_btn pre_action",children:(0,o.jsx)("i",{className:"fa-solid fa-backward-step"})}),(0,o.jsx)("input",{type:"checkbox",name:"",id:"play_pause_btn",style:{position:"fixed"},hidden:!0}),(0,o.jsxs)("label",{htmlFor:"play_pause_btn",className:"play_pause_btn",children:[(0,o.jsx)("div",{className:"controller_btn play_btn",children:(0,o.jsx)("i",{className:"fa-solid fa-play"})}),(0,o.jsx)("div",{className:"controller_btn pause_btn",children:(0,o.jsx)("i",{className:"fa-solid fa-pause"})})]}),(0,o.jsx)("div",{className:"controller_btn next_action",children:(0,o.jsx)("i",{className:"fa-solid fa-forward-step"})})]}),(0,o.jsx)("input",{type:"range",className:"duration_bar",name:"",id:""}),(0,o.jsxs)("select",{value:1,className:"visualize_speed",children:[(0,o.jsx)("option",{value:.25,children:"0.25x"}),(0,o.jsx)("option",{value:.5,children:"0.5x"}),(0,o.jsx)("option",{value:.75,children:"0.75x"}),(0,o.jsx)("option",{value:1,children:"1x"}),(0,o.jsx)("option",{value:2,children:"2x"}),(0,o.jsx)("option",{value:4,children:"4x"}),(0,o.jsx)("option",{value:10,children:"10x"})]})]}),(0,o.jsx)("div",{id:"content",children:(0,o.jsx)("div",{className:"VI_container",children:r.type&&("board"===r.type?(0,o.jsx)(C,{controller:e=>l(e),root:"canvas",data:r}):(0,o.jsx)(qi,{controller:e=>l(e)}))})})]})]})}Hi.prototype;const Gi=__webpack_require__.p+"static/media/valid_move_visualize.a48b43decc19974d8a04.png",Qi=__webpack_require__.p+"static/media/ganh_chet_visualize.ff68fe6b7a73b9f30c79.png",Yi=__webpack_require__.p+"static/media/vay_visualize.1ce8fcd2d2e8f17e8d91.png",Xi=__webpack_require__.p+"static/media/visualize.e7d4cc6118dcfef9aaa3.png";function Ji(){const{history:t}=(0,e.useContext)(r.B);return(0,o.jsxs)("div",{className:"VP_container",children:[(0,o.jsx)(b,{}),(0,o.jsx)("div",{className:"VP_title",children:"M\xf4 ph\u1ecfng thu\u1eadt to\xe1n"}),(0,o.jsx)("div",{className:"visualize_type",children:"Thu\u1eadt to\xe1n b\xe0n c\u1edd"}),(0,o.jsxs)("ul",{className:"visualize_list p-0",children:[(0,o.jsx)("li",{className:"visualize_item",children:(0,o.jsxs)("a",{onClick:()=>t("/visualize/OYRJNv4Jqez9dKZjLW27",{state:"OYRJNv4Jqez9dKZjLW27"}),children:[(0,o.jsx)("img",{src:Gi,alt:"",className:"visualize_image"}),(0,o.jsx)("div",{className:"name",children:"N\u01af\u1edaC \u0110I H\u1ee2P L\u1ec6"})]})}),(0,o.jsx)("li",{className:"visualize_item",children:(0,o.jsxs)("a",{onClick:()=>t("/visualize/aLzIcTxFR2EfRXVFov07",{state:"aLzIcTxFR2EfRXVFov07"}),children:[(0,o.jsx)("img",{src:Qi,alt:"",className:"visualize_image"}),(0,o.jsx)("div",{className:"name",children:"G\xc1NH CH\u1eb8T"})]})}),(0,o.jsx)("li",{className:"visualize_item",children:(0,o.jsxs)("a",{onClick:()=>t("/visualize/1OyReHWrH3zgV5IfcZPk",{state:"1OyReHWrH3zgV5IfcZPk"}),children:[(0,o.jsx)("img",{src:Yi,alt:"",className:"visualize_image"}),(0,o.jsx)("div",{className:"name",children:"V\xc2Y"})]})})]}),(0,o.jsx)("div",{className:"visualize_type",children:"Thu\u1eadt to\xe1n n\xe2ng cao"}),(0,o.jsx)("ul",{className:"visualize_list p-0",children:(0,o.jsx)("li",{className:"visualize_item",children:(0,o.jsxs)("a",{onClick:()=>t("/visualize/SctXzAxW6TtcMSPwPm1N",{state:"SctXzAxW6TtcMSPwPm1N"}),children:[(0,o.jsx)("img",{src:Xi,alt:"",className:"visualize_image"}),(0,o.jsx)("div",{className:"name",children:"MINIMAX"})]})})})]})}const Zi=__webpack_require__.p+"static/media/roll.c8a1546547972a240974.png",er=__webpack_require__.p+"static/media/sword.9312fe19f542ae2c00d0.png";function tr(){const{user:t,history:n}=(0,e.useContext)(r.B),[i,s]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[h,d]=(0,e.useState)({}),[p,f]=(0,e.useState)(!1),[g,m]=(0,e.useState)(null);return(0,e.useEffect)((()=>{fetch("https://coganh.onrender.com/get_rank_board",{method:"GET"}).then((e=>e.json())).then((e=>{console.log(e),s(e)})).catch((e=>console.log(e)))}),[]),(0,e.useEffect)((()=>{t.username&&fetch("https://coganh.onrender.com/get_user_bots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.username)}).then((e=>e.json())).then((e=>{l(e.enemy_bots),u(e.user_bots),m(e.user_bots[0])})).catch((e=>console.log(e)))}),[t]),(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),n=document.querySelectorAll.bind(document);e(".side_bar-player-list");let i=n(".player");const r=e(".info_elo-fluc--new"),o=e(".info_elo-fluc--arrow"),s=e(".BB_fight_btn");let a={onLoading:!1},l=0;const c=["#54DDFE","#FD80FF","yellow","silver","brown"];function u(){let e=n(".warrior");Array.from(e).forEach(((e,t)=>{e.querySelector(".crown").style.color=c[t],e.querySelector(".rank").innerHTML=t+1}))}u();const p=e(".BB_user"),f=e(".BB_user-name"),g=e(".enemy"),m=e(".enemy_ava"),v=e(".enemy-name");let y=e(".enemy-elo"),_=n(".warrior");f.innerHTML;function b(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;("players"===n||e)&&Array.from(i).forEach((e=>{e.onclick=()=>{s.style.backgroundColor="#007BFF",s.innerHTML="th\xe1ch \u0111\u1ea5u",Array.from(i).forEach((e=>e.style.backgroundColor="")),Array.from(_).forEach((e=>e.style.backgroundColor="")),e.style.backgroundColor="#232E3B",d({enemy_bot:e.dataset.bot_name,enemy:e.dataset.owner,enemy_bot_id:e.dataset.id,elo:e.dataset.elo,your_bot:p.dataset.bot_name,you:t.username,your_bot_id:p.dataset.id}),m.innerHTML=e.dataset.bot_name[0].toUpperCase(),v.innerHTML=e.dataset.bot_name,y.innerHTML=e.dataset.elo}})),("warriors"===n||e)&&Array.from(_).forEach((e=>{e.onclick=()=>{s.style.backgroundColor="#007BFF",s.innerHTML="th\xe1ch \u0111\u1ea5u",Array.from(_).forEach((e=>e.style.backgroundColor="")),Array.from(i).forEach((e=>e.style.backgroundColor="")),e.style.backgroundColor="#007bffa4",d({enemy_bot:e.dataset.bot_name,enemy:e.dataset.owner,enemy_bot_id:e.dataset.id,elo:e.dataset.elo,your_bot:p.dataset.bot_name,you:t.username,your_bot_id:p.dataset.id}),m.innerHTML=e.dataset.bot_name[0].toUpperCase(),v.innerHTML=e.dataset.bot_name,y.innerHTML=e.dataset.elo}}))}b(!0);const w=e(".fight_screen-video"),x=e(".fight_screen-loading"),A=e(".fight_screen-standby"),k=e(".fight_screen-err"),C=e(".info"),S=e(".info_status"),E=e(".info_elo-fluc--new"),T=e(".BB_user-elo");let I=parseInt(T.innerHTML);s.onclick=()=>{if(!h||a.onLoading)return;let t=new Intl.DateTimeFormat([],{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),i={};C.style.display="none",w.style.display="none",A.style.display="none",k.style.display="none",x.style.display="block",e(".info_elo-fluc--pre").innerHTML=T.innerHTML,r.innerHTML="",p.style.backgroundColor="#121212",g.style.backgroundColor="#121212",s.innerHTML='<div class="loading_btn"></div>',s.style.backgroundColor="#191B26",a.onLoading=!0,fetch("https://coganh.onrender.com/fight_bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,time:t.format(new Date)})}).then((e=>e.json())).then((t=>{if(console.log(t),400===t.code)console.log(t),k.style.display="flex",x.style.display="none",s.innerHTML="ch\u1ecdn \u0111\u1ed1i th\u1ee7 \u0111\u1ec3 \u0111\u1ea5u",a.onLoading=!1;else if(200===t.code){if(i={status:t.status,max_move_win:t.max_move_win,new_url:t.new_url},S.innerHTML="You "+i.status,"win"===i.status)if(S.style.backgroundColor="#007BFF",p.style.backgroundColor="#007BFF",g.style.backgroundColor="red",E.style.color="#007BFF",parseInt(T.innerHTML)<parseInt(y.innerHTML)){let e=T.innerHTML;T.innerHTML=parseInt(y.innerHTML)+10,y.innerHTML=e}else T.innerHTML=parseInt(T.innerHTML)+10;else if("lost"===i.status)if(S.style.backgroundColor="red",p.style.backgroundColor="red",g.style.backgroundColor="#007BFF",E.style.color="red",parseInt(T.innerHTML)<parseInt(y.innerHTML)){let e=y.innerHTML;y.innerHTML=parseInt(T.innerHTML)+10,T.innerHTML=e}else T.innerHTML=parseInt(T.innerHTML)-10;else S.style.backgroundColor="#333",p.style.backgroundColor="#333",g.style.backgroundColor="#333",E.style.color="#fff",console.log(T,y),parseInt(T.innerHTML)<=0?T.innerHTML=0:parseInt(y.innerHTML)<=0&&(y.innerHTML=0);l=parseInt(T.innerHTML),function(t){e(".user-info--elo").innerHTML=t;const i=parseInt(T.innerHTML),r=parseInt(y.innerHTML),o=e(".rank_board_list");fetch("https://coganh.onrender.com/update_rank_board",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({player:{owner_name:h.you,elo:i,bot_name:h.your_bot,id:h.your_bot_id},enemy:{owner_name:h.enemy,elo:r,bot_name:h.enemy_bot,id:h.enemy_bot_id}})}).then((e=>e.json())).then((e=>{Array.from(_).forEach((e=>e.remove())),e.forEach((e=>{let{bot_name:t,elo:n,owner:i,id:r}=e;o.innerHTML+='\n                <li class="warrior" data-bot_name='.concat(t," data-elo=").concat(n," data-owner=").concat(i," data-id=").concat(r,'>\n                    <div class="warrior_rank">\n                        <i class="fa-solid fa-crown crown"></i>\n                        <div class="rank">1</div>\n                    </div>\n                    <div class="warrior-avatar"><p>').concat(t[0].toUpperCase(),'</p></div>\n                    <div class="warrior-info">\n                        <div class="warrior-info--name">').concat(t,'</div>\n                        <div class="warrior-info--elo">').concat(n,"</div>\n                    </div>\n                </li>\n                ")})),_=n(".warrior"),u(),b(!1,"warriors")}))}(l);const r=e("source");x.style.display="none",r.src=i.new_url,w.style.display="block",w.load(),s.innerHTML="ch\u1ecdn \u0111\u1ed1i th\u1ee7 \u0111\u1ec3 \u0111\u1ea5u",a.onLoading=!1,setTimeout((()=>C.style.display="block"),1e3)}})).catch((e=>{k.style.display="flex",x.style.display="none",s.innerHTML="ch\u1ecdn \u0111\u1ed1i th\u1ee7 \u0111\u1ec3 \u0111\u1ea5u",a.onLoading=!1}))},o.onanimationend=()=>{let e=Math.abs(l-I)/100,t=setInterval((()=>{r.innerHTML=Math.round(I),I===l&&clearInterval(t),I<l?(I+=e,I>=l&&(r.innerHTML=l,clearInterval(t))):I>l&&(I-=e,I<=l&&(r.innerHTML=l,clearInterval(t)))}),10)}}),[i,a,h,g]),(0,o.jsx)("div",{className:"h-screen",children:(0,o.jsxs)("div",{className:"container md:max-w-full",children:[(0,o.jsx)("div",{className:"ranking"}),(0,o.jsxs)("div",{className:"side_bar-left",children:[(0,o.jsx)("a",{onClick:()=>n("/menu"),className:"BB_menu_btn",children:"Menu"}),(0,o.jsxs)("ul",{className:"rank_board_list p-0",children:[(0,o.jsx)("div",{className:"rank_board_header",children:"Top 5"}),i.map(((e,t)=>(0,o.jsxs)("li",{className:"warrior","data-bot_name":e.bot_name,"data-owner":e.owner,"data-elo":e.elo,"data-id":e.id,children:[(0,o.jsxs)("div",{className:"warrior_rank",children:[(0,o.jsx)("i",{className:"fa-solid fa-crown crown"}),(0,o.jsx)("div",{className:"rank",children:"1"})]}),(0,o.jsx)("div",{className:"warrior-avatar",children:(0,o.jsx)("p",{children:e.bot_name[0].toUpperCase()})}),(0,o.jsxs)("div",{className:"warrior-info",children:[(0,o.jsx)("div",{className:"warrior-info--name",children:e.bot_name}),(0,o.jsx)("div",{className:"warrior-info--elo",children:e.elo})]})]},t)))]}),(0,o.jsx)("div",{className:"info_header",children:"K\u1ebft qu\u1ea3 v\xe1n \u0111\u1ea5u"}),(0,o.jsxs)("div",{style:{display:"none"},className:"info",children:[(0,o.jsx)("div",{className:"info_status",children:"You Win"}),(0,o.jsxs)("div",{className:"info_elo-fluc",children:[(0,o.jsx)("div",{className:"info_elo-fluc--pre",children:g&&g.elo}),(0,o.jsx)("div",{className:"info_elo-fluc--arrow",children:(0,o.jsx)("i",{className:"fa-solid fa-arrow-down-long"})}),(0,o.jsx)("div",{className:"info_elo-fluc--new"})]})]})]}),(0,o.jsxs)("div",{className:"content",children:[(0,o.jsxs)("div",{className:"enemy",children:[(0,o.jsx)("div",{className:"enemy_ava",children:h.enemy_bot?h.enemy_bot[0].toUpperCase():"X"}),(0,o.jsxs)("div",{className:"enemy_info",children:[(0,o.jsx)("div",{className:"enemy-name",children:h.enemy_bot?h.enemy_bot:"No enemy"}),(0,o.jsx)("div",{className:"enemy-elo",children:h.elo?h.elo:0})]})]}),(0,o.jsxs)("div",{className:"fight_screen",children:[(0,o.jsxs)("div",{style:{display:"none"},className:"fight_screen-err",children:[(0,o.jsx)("i",{className:"fa-solid fa-face-dizzy",style:{fontSize:50}}),(0,o.jsx)("br",{}),"Tr\u1eadn \u0111\u1ea5u b\u1ecb l\u1ed7i",(0,o.jsx)("span",{children:"C\xf3 th\u1ec3 bot c\u1ee7a \u0111\u1ed5i th\u1ee7 ho\u1eb7c b\u1ea1n ch\u01b0a s\u1eb5n s\xe0ng"}),(0,o.jsx)("span",{children:"H\xe3y ki\u1ec3m tra l\u1ea1i bot v\xe0 th\u1eed l\u1ea1i l\u1ea7n n\u1eefa"})]}),(0,o.jsxs)("div",{className:"fight_screen-standby",children:[(0,o.jsx)("i",{className:"fa-solid fa-face-laugh-beam"}),"CH\u1eccN \u0110\u1ed0I TH\u1ee6 \u0110\u1ec2 \u0110\u1ea4U"]}),(0,o.jsxs)("div",{style:{display:"none"},className:"fight_screen-loading",children:[(0,o.jsx)("img",{className:"fight_screen-loading--img sword",src:er,alt:""}),(0,o.jsx)("div",{children:(0,o.jsx)("img",{className:"fight_screen-loading--img roll",src:Zi,alt:""})})]}),(0,o.jsxs)("video",{"data-isreload":"false",style:{display:"none"},className:"fight_screen-video",controls:!0,cache:"no-store",children:[(0,o.jsx)("source",{type:"video/mp4"}),"Your browser does not support the video tag."]})]}),(0,o.jsxs)("div",{className:"BB_user","data-bot_name":g&&g.bot_name,"data-id":g&&g.id,children:[(0,o.jsx)("div",{className:"BB_user_ava",children:g&&g.bot_name[0].toUpperCase()}),(0,o.jsxs)("div",{className:"BB_user_info",children:[(0,o.jsx)("div",{className:"BB_user-name",children:g&&g.bot_name}),(0,o.jsx)("div",{className:"BB_user-elo",children:g&&g.elo})]})]})]}),(0,o.jsxs)("div",{className:"side_bar",children:[(0,o.jsxs)("div",{className:"side_bar-header relative",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-4xl bg-white text-[#007BFF] font-bold pb-2",children:g&&g.bot_name[0]}),(0,o.jsxs)("div",{className:"user-info",children:[(0,o.jsx)("div",{className:"user-info--name",children:g&&g.bot_name}),(0,o.jsx)("div",{className:"user-info--elo",children:g&&g.elo})]}),(0,o.jsx)("i",{onClick:()=>f(!p),class:"fa-solid fa-repeat ml-auto mr-2 text-3xl cursor-pointer select-none hover:text-slate-300"}),p&&(0,o.jsx)("ul",{className:"absolute w-full h-96 bg-slate-700 right-0 top-full p-2 rounded-md cursor-pointer select-none overflow-y-scroll",children:c.map((e=>(0,o.jsxs)("li",{onClick:()=>m(e),className:"flex items-center hover:bg-slate-800 px-2 py-1 rounded-md ".concat(e.bot_name===g.bot_name?"bg-slate-900":""),children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-3xl bg-white text-[#007BFF] font-bold pb-2",children:e.bot_name[0]}),(0,o.jsxs)("div",{className:"ml-2",children:[(0,o.jsx)("div",{className:"",children:e.bot_name}),(0,o.jsx)("div",{className:"",children:e.elo})]})]})))})]}),(0,o.jsx)("div",{className:"side_bar-content",children:"\u0110\u1ed1i th\u1ee7 \u0111\u1ec1 xu\u1ea5t"}),(0,o.jsx)("ul",{className:"side_bar-player-list p-0",children:a&&a.map(((e,t)=>(0,o.jsxs)("li",{className:"player","data-owner":e.owner,"data-bot_name":e.bot_name,"data-elo":e.elo,"data-id":e.id,children:[(0,o.jsx)("div",{className:"player-avatar",children:(0,o.jsx)("p",{children:e.bot_name[0].toUpperCase()})}),(0,o.jsxs)("div",{className:"player-info",children:[(0,o.jsx)("div",{className:"player-info--name",children:e.bot_name}),(0,o.jsx)("div",{className:"player-info--elo",children:e.elo||0})]})]},t)))}),(0,o.jsx)("div",{className:"BB_fight_btn",children:"ch\u1ecdn \u0111\u1ed1i th\u1ee7 \u0111\u1ec3 \u0111\u1ea5u"})]})]})})}const nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAYAAAC+ZpjcAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAACC1SURBVHhe7d2LciM5kizQ0f7/P/eKLaFFMUkxHwEgAJxjJtve3rqSTJFO92JN3fn459P/AAAI83/f/xMAgCAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAghlYAADBDCwAgGAGFgBAMAMLACCYgQUAEMzAAgAIZmABAAQzsAAAgn388+n7n+nh4+P7H/7gRO24Ry7ukYt75OIeqRlYPewJxSvOFc89cnGPXNwjF/cYhoHV0pVgPHK269wjF/fIxT1ycY/hGFgtRAbjkfMd5x65uEcu7pGLewzLf8i9tprhuKn9+WfjHrm4Ry7ukYt7DM3AqqnVwysk+7hHLu6Ri3vk4h7DM7Bqaf3QCsnf3CMX98jFPXJxjykYWDX0eliF5Dn3yMU9cnGPXNxjGgZWtN4PqZD85h65uEcu7pGLe0zFwIqU5eEUki/ukYt75OIeubjHdAwsAIBgBlaUbKt/9d+FuEcu7pGLe+TiHlMysAAAghlYEbKu/VV/F+IeubhHLu6Ri3tMy8ACAAhmYAEABDOwrsr+Nupqb/O6Ry7ukYt75OIeUzOwAACCGVgAAME+/vn0/c+cMcBbqCu9yTvCw+weubhHLu6RjIlwmnewAACCGVgAAMH8EeFVI/wti5VO7B65uEcu7pGLe0zNO1gAAMEMLACAYAbWVdnfPl3t7V33yMU9cnGPXNxjagYWAEAwAwsAIJiBFSHr26irvr3rHrm4Ry7ukYt7TMvAAgAIZmBFybb2V//dh3vk4h65uEcu7jElAwsAIJiBFSnL6ve7jy/ukYt75OIeubjHdAysaL0fTuH4zT1ycY9c3CMX95iKgVVDp4f09t9q9THCf7dVa71eNLxYbdyez15PqHy8IB9p9MyHe8QzsGpp/LDeh1KJPNH6xcOL1cb9c9n6CZWPN+Sju575cI86DKyaWj20T76OEnmi4z1W9/R5lI9c5KObbPkghoFVW+2H9/vz//Pk6yiRJxrdgx/PnsP/ntdG95CPnRrdgx8Z8kEdH5+H9BNuJfIF/cXZ/gwrvzW4x+oOPY/ykYt8VJctH8QysHq4EpQd51IiB1W+x6pOP4fykYt8VJE1H8QxsHrbE5YTJ1IiJ1W6x2rCnj/5yEU+QmTPBzEMrETuQxdxFiVyTfQ9VlHruZOPXOTjnFHywXX+Q+4TexayZ+GGKCONFvmgtZHywXUG1uSUCK2MWB7yQSvG1XoMrAUoEWobuTzkg9qMqzUZWItQItQyQ3nIB7UYV+sysBaiRIg2U3nIB9GMq7UZWItRIkSZsTzkgyjGFQbWgpQIV81cHvLBVcYVNwbWopQIZ61QHvLBWcYVhYG1MCXCUSuVh3xwlHHFPQNrcUqEvVYsD/lgL+OKRwYWSoS3Vi4P+eAd44pnDCz+pUR4RXnIB6/JB68YWPxHifBIefyQDx7JB38xsPhFiVAojy35oJAP3jGw2FAiKI/X5AP5YA8Di6eUyLqUx3vysS75YC8Di5eUyHqUx37ysR754AgDiz8pkXUoj+PkYx3ywVEGFm8pkfkpj/PkY37ywRkGFrsokXkpj+vkY17ywVkGFrspkfkojzjyMR/54AoDi0OUyDyURzz5mId8cJWBxWFKZHzKox75GJ98EMHA4hQlMi7lUZ98jEs+iGJgcZoSGY/yaEc+xiMfRDKwuESJjEN5tCcf45APohlYXKZE8lMe/chHfvJBDQYWIZRIXsqjP/nISz6oxcAijBLJR3nkIR/5yAc1GViEUiJ5KI985CMP+aA2A4twSqQ/5ZGXfPQnH7RgYFGFEulHeeQnH/3IB60YWFSjRNpTHuOQj/bkg5YMLKpSIu0oj/HIRzvyQWsGFtUpkfqUx7jkoz75oAcDiyaUSD3KY3zyUY980IuBRTNKJJ7ymId8xJMPejKwaEqJxFEe85GPOPJBbwYWzSmR65THvOTjOvkgAwOLLpTIecpjfvJxnnyQhYFFN0rkOOWxDvk4Tj7IxMCiKyWyn/JYj3zsJx9kY2DRnRJ5T3msSz7ekw8yMrBIQYm8pjyQj9fkg6wMLNJQIlvKg0I+tuSDzAwsUlEiP5QHj+Tjh3yQnYFFOkpEefCafMgHYzCwSGnlElEevCMfv8kHGRlYpLViiSgP9pKPL/JBVgYWqa1UIsqDo+RDPsjLwCK9FUpEeXCWfEBOBhZDmLlElAdXyQfkY2AxjBlLRHkQRT4gFwOLocxUIsqDaPIBeRhYDGeGElEe1CIfkIOBxZBGLhHlQW3yAf0ZWAxrxBJRHrQiH9CXgcXQRioR5UFr8gH9fHw+wJ7gnva82DnRWzVenO8/Z+TnKkTvmMh7rEY+JvXk57bh59iNd7B6uIWifOxx9Ncv6NmL8bMX7R6UB73Jx0RuP6/yscfRX08YA6uliIdcUF7KWCLKgyzkY3C3n9XVe0V8DnYzsFqo8VALylOZSkR5kI18DOj2c4q+UY3PyYaBVVvth1hINjKUiPIgK/kYSO27NL77agysmlo9vEKy0bNElAfZyccAWr2ut/o6CzKwamn90ArJRo8SUR6MQj4Sa/163vrrLcLAqqHXwyokGy1LRHkwGvlIqNfreK+vOzEDK1rvh1RINlqUiPJgVPKRSO/X795ffzIGVqQsD6eQbNQsEeXB6OQjgSyv21m+jwkYWCyjRokoD2YhHxDLwIqSbfVn+36SiCwR5cFs5KOTbK/X2b6fQRlYLCeiRJQHs5IPiGFgRci69rN+XwlcKRHlwezko6Gsr9NZv6+BGFgs60yJKA9WIR9wjYHF0o6UiPJgNfIB5318BkACrnjxYpOKE7/1qjT+Ijpt3d/Iz74t+ahEf0zNO1jw6WgZKA9WIh9wnIEF3/aWgvJgRfIBx/gjwqsGeIt3gDehAZYzRPmaCKd5BwsAIJiBBQAQzB8RXuVvgUxlz9+WEpk+/C3C/uQjmP6Ymnew4Nvev4p+5q+sw+jkA44xsODT0VJQIqxEPuA4A+uq7G+fenv3rWdl8PjHHM/+2EOJsAL5qCj763P27y85A4ul7SmPQomwGvmA8wwslnWkPAolwirkA64xsCK8edHpJuv3lcCZ8iiUCLOTj4ayvk5n/b4GYmCxnCvlUSgRZiUfEMPAipJt7Wf7fpKIKI9CiTAb+egk2+t1tu9nUAYWy4gsj0KJMAv5gFgGVqQsqz/L95FIjfIolAijk48EsrxuZ/k+JmBgRev9cArHRs3yKJQIo5KPRHq/fvf++pMxsGro9ZAKx0aL8iiUCKORj4R6vY73+roTM7Bqaf2wCsdGy/IolAijkI/EWr+et/56izCwamr10ArHRo/yKJQI2cnHAFq9rrf6OgsysGqr/fAKx0bP8iiUCFnJx0Bq36Xx3VdjYLVwe4ijH+Qan3MCGcqjUCJkIx8Duv2com9U43OyYWC1FPFQC8ZLmcqjUCJkIR+Du/2srt4r4nOwm4HVQ3nI9z7oR3/9gjKWR6FE6E0+JnL7eZWPPY7+esIYWL3dPfy3l5Tycf/v+Vvm8iiUCL3Ix8RuP7fvj9tPq3zc/3v6MbAY2gjlUSgRWpMP6MfAYlgjlUehRGhFPqAvA4shjVgehRKhNvmA/gwshjNyeRRKhFrkA3IwsBjKDOVRKBGiyQfkYWAxjJnKo1AiRJEPyMXAYggzlkehRLhKPiAfA4v0Zi6PQolwlnxATgYWqa1QHoUS4Sj5kA/yMrBIa6XyKJQIe8nHF/kgKwOLlFYsj0KJ8I58/CYfZGRgkc7K5VEoEV6RD/lgDAYWqSiPH0qER/LxQz7IzsAiDeWxpUQo5GNLPsjMwCIF5fGaEkE+XpMPsjKw6E55vKdE1iUf78kHGRlYdKU89lMi65GP/eSDbAwsulEexymRdcjHcfJBJgYWXSiP85TI/OTjPPkgCwOL5pTHdUpkXvJxnXyQgYFFU8ojjhKZj3zEkQ96M7BoRnnEUyLzkI948kFPBhZNKI96lMj45KMe+aAXA4vqlEd9SmRc8lGffNCDgUVVyqMdJTIe+WhHPmjNwKIa5dGeEhmHfLQnH7RkYFGF8uhHieQnH/3IB60YWIRTHv0pkbzkoz/5oAUDi1DKIw8lko985CEf1GZgEUZ55KNE8pCPfOSDmgwsQiiPvJRIf/KRl3xQi4HFZcojPyXSj3zkJx/UYGBxifIYhxJpTz7GIR9EM7A4TXmMR4m0Ix/jkQ8iGVicojzGpUTqk49xyQdRDCwOUx7jUyL1yMf45IMIBhaHKI95KJF48jEP+eAqA4vdlMd8lEgc+ZiPfHCFgcUuymNeSuQ6+ZiXfHCWgcVbymN+SuQ8+ZiffHCGgcWflMc6lMhx8rEO+eAoA4uXlMd6lMh+8rEe+eAIA4unlMe6lMh78rEu+WAvA4sN5YESeU0+kA/2MLD4RXlQKJEt+aCQD94xsPiP8uCREvkhHzySD/5iYPEv5cErSkQ+eE0+eMXAQnnw1solIh+8Y2TxjIG1OOXBXiuWiHywl5HFIwNrYcqDo1YqEfngKCOLewbWopQHZ61QIvLBWUYWhYG1IOXBVTOXiHxwlZHFjYG1GOVBlBlLRD6IYmRhYC1EeRBtphKRD6IZWWszsBahPKhlhhKRD2oxstZlYC1AeVDbyCUiH9RmZK3JwJqc8qCVEUtEPmjFyFqPgTUx5UFrI5WIfNCakbWWj8+De0XpaE+2zlxIeVx3/zP0szumxvMXeQ/5uE4+zgt7/p58ng236cY7WB3cMlE+9jj+67e/0AsgLT173p49lz3IB71dysft15WPPY7+esIYWA1FPOPvPofyIIuMI0s+yOJwPm7/t6v5ifgc7GZgNVDjmX72OZUH2WQaWfJBNrvycfvfozNT43OyYWBVVvsZLp9feZBVhpElH2T1Zz5q56RxDldjYFXU6tl99nWUB5n0HFnGFdk9fR57FgghDKxK2j+zPwFVHmTUY2QZV4zi/rls/oQaWVUYWBX0e1b/UR6k1nJkGVeM5vZ8dntCjaxwBlaw3s+ojJBdi5FlXDEkBTIVAytQlmdTRsiu5sgyrhiSApmOgQV0UWNkGVdAFgZWkGyj329CGEHkyDKuGJYCmZKBBXQVMbKMKyAbAytA1rHvNyGM4srIMq4YmgKZloEFpHBmZBlXQFYGFpDGkZFlXAGZGVgXZX8XNfv3B4/2jCzjiikokKkZWEA6R8eScQVkY2ABKe0dTcYVkNHH54uTV6cLxngH1du8ANkMUb4mwmnewQIACGZgAQAE80eEF43wR4QufM7931QTkz5e/X/RcM9t+pCPAApkat7BAlLaM65u9v46gJYMLCCdo6PJyAKyMbAuyv7uqXd3Gc2zsfT4R1DP/kjKyGI4CmRqBhaQxp5xVRhZQGYGFpDCkXFVGFlAVgZWgKzvomb9vuDRmXFVGFkMTYFMy8ACuroyrgojC8jGwAqSbez7zQcjiBhXhZHFsBTIlAwsoIvIcVUYWUAWBlagLKPfbz7Irsa4KowshqRApmNgBev9bMoG2dUcV4WRxZAUyFQMrAr6PaMfSoTUWoyrwshiNLfns9sTalyFM7Aqaf+s/sRSiZBRy3FVGFmM4v65bP6EGldVGFgVtXpmn30dJUImPcZVYWSR3dPnsWeBEMLAqqz2s1s+vxIhq57jqpAPsvozH7Vz0jiHqzGwGrg9w9HP8bPPqUTIJsO4KuSDbHbl4/a/R2emxudkw8BqKOKZfvc5lAhZZBpXhXyQxeF83P5vV/MT8TnYzcDqoDzje5/z479++wuVCC1lHFeFfNDbpXzcfl352OPoryeMgdXZ72f/Frqvj9///jglQi+Zx1UhH/QSmo/b/7vvj6/m+Pq4//f0Y2BNTInQ2gjjqpAPWhspH1xnYE1OidDKiOUhH7RiXK3HwFqAEqG2kctDPqjNuFqTgbUIJUItM5SHfFCLcbUuA2shSoRoM5WHfBDNuFqbgbUYJUKUGctDPohiXGFgLUiJcNXM5SEfXGVccWNgLUqJcNYK5SEfnGVcURhYC1MiHLVSecgHRxlX3DOwFqdE2GvF8pAP9jKueGRgoUR4a+XykA/eMa54xsDiX0qEV5SHfPCafPCKgcV/lAiPlMcP+eCRfPAXA4tflAiF8tiSDwr54B0Diw0lgvJ4TT6QD/YwsHhKiaxLebwnH+uSD/YysHhJiaxHeewnH+uRD44wsPiTElmH8jhOPtYhHxxlYPGWEpmf8jhPPuYnH5xhYLGLEpmX8rhOPuYlH5xlYLGbEpmP8ogjH/ORD64wsDhEicxDecSTj3nIB1cZWBymRManPOqRj/HJBxEMLE5RIuNSHvXJx7jkgygGFqcpkfEoj3bkYzzyQSQDi0uUyDiUR3vyMQ75IJqBxWVKJD/l0Y985Ccf1GBgEUKJ5KU8+pOPvOSDWgwswiiRfJRHHvKRj3xQk4FFKCWSh/LIRz7ykA9qM7AIp0T6Ux55yUd/8kELBhZVKJF+lEd+8tGPfNCKgUU1SqQ95TEO+WhPPmjJwKIqJdKO8hiPfLQjH7RmYFGdEqlPeYxLPuqTD3owsGhCidSjPMYnH/XIB70YWDSjROIpj3nIRzz5oCcDi6aUSBzlMR/5iCMf9GZg0ZwSuU55zEs+rpMPMjCw6EKJnKc85icf58kHWRhYdKNEjlMe65CP4+SDTAwsulIi+ymP9cjHfvJBNgYW3SmR95THuuTjPfkgIwOLFJTIa8oD+XhNPsjKwCINJbKlPCjkY0s+yMzAIhUl8kN58Eg+fsgH2RlYpKNElAevyYd8MAYDi5RWLhHlwTvy8Zt8kJGBRVorlojyYC/5+CIfZGVgkdpKJaI8OEo+5IO8DCzSW6FElAdnyQfkZGAxhJlLRHlwlXxAPgYWw5ixRJQHUeQDcjGwGMpMJaI8iCYfkIeBxXBmKBHlQS3yATkYWAxp5BJRHtQmH9CfgcWwRiwR5UEr8gF9GVgMbaQSUR60Jh/Qz8fnA+wJ7mjPa50LvVfjxfn+c0Z+rkL0jom8x2rkY05Pfmwbfoz9eAerg1soysceR3/9ip69GD970e5BedCbfMzj9uMqH3sc/fXEMbAainjIBeW1jCWiPMhCPsZ2+1FdPVfE52A/A6uBGg+1oDyXqUSUB9nIx3huP6boE9X4nGwZWJXVfoiFZCtDiSgPspKPcdQ+S+OzL8fAqqjVwyskWz1LRHmQnXzk1+p1vdXXWZGBVUnrh1ZItnqUiPJgFPKRV+vX89ZfbxUGVgW9HlYh2WpZIsqD0chHPr1ex3t93ZkZWMF6P6RCstWiRJQHo5KPPHq/fvf++rMxsAJleTiFZKtmiSgPRicf/WV53c7yfczAwGIZNUpEeTAL+YBYBlaQbKs/2/eTRWSJKA9mIx99ZHu9zvb9jMrAYjkRJaI8mJV8QAwDK0DWtZ/1+8rgSokoD2YnH+1kfZ3O+n2NxMBiWWdKRHmwCvmAawwslnakRJQHq5EPOO/jMwAScMGL15pUXPi9V6XxF9Fp6/5GfvZtyUcd+mNu3sGCT0fLQHmwEvmA4wws+La3FJQHK5IPOMYfEV40wlu8n9/l9/8EII/89WshnOcdLACAYAYWAEAwf0R4kb8FMpc9f1tKZPrwtwj7k49Y+mNu3sGCb3v/KvqZv7IOo5MPOMbAgk9HS0GJsBL5gOMMrIuyv33q7d33npXB4x9zPPtjDyXCCuSjnuyvz9m/v+wMLJa2pzwKJcJq5APOM7BY1pHyKJQIq5APuMbACvDmNaebrN9XBmfKo1AizE4+2sn6Op31+xqJgcVyrpRHoUSYlXxADAMrSLa1n+37ySKiPAolwmzko49sr9fZvp9RGVgsI7I8CiXCLOQDYhlYgbKs/izfRyY1yqNQIoxOPvrL8rqd5fuYgYEVrPfDKRxbNcujUCKMSj7y6P363fvrz8bAqqDXQyocWy3Ko1AijEY+8un1Ot7r687MwKqk9cMqHFsty6NQIoxCPvJq/Xre+uutwsCqqNVDKxxbPcqjUCJkJx/5tXpdb/V1VmRgVVb74RWOrZ7lUSgRspKPcdQ+S+OzL8fAauD2EEc/yDU+5wwylEehRMhGPsZz+zFFn6jG52TLwGoo4qEWjNcylUehRMhCPsZ2+1FdPVfE52A/A6uD8pDvfdCP/voVZSyPQonQm3zM4/bjKh97HP31xDGwOvv98N9eVL4+fv97/pK5PAolQi/yMa/bj6183HqjfPz+9/RiYDG0EcqjUCK0Jh/Qj4HFsEYqj0KJ0Ip8QF8GFkMasTwKJUJt8gH9GVgMZ+TyKJQItcgH5GBgMZQZyqNQIkSTD8jDwGIYM5VHoUSIIh+Qi4HFEGYsj0KJcJV8QD4GFunNXB6FEuEs+YCcDCxSW6E8CiXCUfIhH+RlYJHWSuVRKBH2ko8v8kFWBhYprVgehRLhHfn4TT7IyMAinZXLo1AivCIf8sEYDCxSUR4/lAiP5OOHfJCdgUUaymNLiVDIx5Z8kJmBRQrK4zUlgny8Jh9kZWDRnfJ4T4msSz7ekw8yMrDoSnnsp0TWIx/7yQfZGFh0ozyOUyLrkI/j5INMDCy6UB7nKZH5ycd58kEWBhbNKY/rlMi85OM6+SADA4umlEccJTIf+YgjH/RmYNGM8oinROYhH/Hkg54MLJpQHvUokfHJRz3yQS8GFtUpj/qUyLjkoz75oAcDi6qURztKZDzy0Y580JqBRTXKoz0lMg75aE8+aMnAogrl0Y8SyU8++pEPWjGwCKc8+lMieclHf/JBCwYWoZRHHkokH/nIQz6ozcAijPLIR4nkIR/5yAc1GViEUB55KZH+5CMv+aAWA4vLlEd+SqQf+chPPqjBwOIS5TEOJdKefIxDPohmYHGa8hiPEmlHPsYjH0QysDhFeYxLidQnH+OSD6IYWBymPManROqRj/HJBxEMLA5RHvNQIvHkYx7ywVUGFrspj/kokTjyMR/54AoDi12Ux7yUyHXyMS/54CwDi7eUx/yUyHnyMT/54AwDiz8pj3UokePkYx3ywVEGFi8pj/Uokf3kYz3ywREGFk8pj3UpkffkY13ywV4GFhvKAyXymnwgH+xhYPGL8qBQIlvyQSEfvGNg8R/lwSMl8kM+eCQf/MXA4l/Kg1eUiHzwmnzwioGF8uCtlUtEPnjHyOIZA2txyoO9ViwR+WAvI4tHBtbClAdHrVQi8sFRRhb3DKxFKQ/OWqFE5IOzjCwKA2tByoOrZi4R+eAqI4sbA2sxyoMoM5aIfBDFyMLAWojyINpMJSIfRDOy1mZgLUJ5UMsMJSIf1GJkrcvAWoDyoLaRS0Q+qM3IWpOBNTnlQSsjloh80IqRtR4Da2LKg9ZGKhH5oDUjay0fnwf3itLRnmyduZDyOKfWPVYT9fzJRy7yESN7PohhYHWwJxSv7LmW8jim9j1WdfY5lI9c5KOOrPkgjoHV0JVgPHp1NeWxX4t7rO7I8ygfuchHfdnyQSwDq4HIYDy6v57y2KfVPfjy7rmUj1zko60s+SCe/5B7ZTXDcVM+v/LYp9U9+PHsOSzPa6t7yMc+re7Bjwz5oA7vYFXU9uH9/cWcdavlPfz4t7Yjp+UPST7ekY++eubDPerwDlYlbcfVzU9ClMdW63u0v39+v5/L1s+ofPxFPvrrmQ/3qMM7WBX0fFhdc8s9cnGPXNwjF/eYh3ewgvUMx03vr5+Ne+TiHrm4Ry7uMRcDK1CWh1NIvrhHLu6Ri3vk4h7zMbAAAIIZWEGyrf7VfxfiHrm4Ry7ukYt7zMnAAgAIZmAFyLr2V/1diHvk4h65uEcu7jEvAwsAIJiBBQAQzMC6KPvbqKu9zeseubhHLu6Ri3vMzcACAAhmYAEABPPfRXjRGG+hrvQ+7wiPs3vk4h65uEcmFsJ53sECAAhmYAEABPNHhBeN8EeEK13YPXJxj1zcIxf3mJt3sAAAghlYAADBDKyLsr99utrbu+6Ri3vk4h65uMfcDCwAgGAGFgBAMAMrQNa3UVd9e9c9cnGPXNwjF/eYl4EFABDMwAqSbe2v/rsP98jFPXJxj1zcY04GFgBAMAMrUJbV73cfX9wjF/fIxT1ycY/5GFjBej+cwvGbe+TiHrm4Ry7uMRcDq4JeD6lwPOceubhHLu6Ri3vMw8CqpPXDKhx/c49c3CMX98jFPeZgYFXU6qEVjn3cIxf3yMU9cnGP8RlYldV+eIXjGPfIxT1ycY9c3GNsH/98+v5nKvv4+P6HAK52nXvk4h65uEcu7jEeA6uDK0FxrXjukYt75OIeubjHOAyszvaExYXacY9c3CMX98jFPXIzsAAAgvkPuQMABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAIJiBBQAQzMACAAhmYAEABDOwAACCGVgAAMEMLACAYAYWAEAwAwsAINT//vf/oiXC6XPpljEAAAAASUVORK5CYII=",ir=__webpack_require__.p+"static/media/capture.79c343c9a73327f96d37.mp3",rr=__webpack_require__.p+"static/media/move-self.f4280e96965e14433c3b.mp3",or=__webpack_require__.p+"static/media/fireSound.c804a7aa1f2a2cf23a99.mp3",sr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAIBCAMAAACIv72PAAABX1BMVEVHcEwAAAAVg38FHx4AAAAZm5Ybq6UAAAAaqKIbq6Ubq6Ubq6UAAAAbq6Ubq6UXkYwAAAAAAAAAAAAbq6UAAAAOWlcScm4MSkcJNzUAAAAbq6Ubq6Ubq6UAAAAAAAAAAAAZoJobq6UapJ4YlpETe3cbq6UAAAAAAAAWioYbq6UQZ2MAAAAbq6Ubq6UAAAAGKCYPXVr///8bq6UWiYTF4uAao50XkoyLxMJTuLOMzcrG6ulUwLwZmpVSr6sbqaON1dIpsKvi8PAWi4ao09Hx+vm22tkZoJs4trAapZ8XjYjw+PcZnJfj9fSq4N1xy8fT6eglkIx/0MzU7+6LysgnoZyZy8kap6G45eNSsa0YlpAZnpl9xcIzmJNttbJfrqqLxsRCn5tQp6OLyMYYlI5StbEYmJJixcFSs69Gu7Zvvrp8vbpgtrNEsKyb2tgXj4o2qaRUvrnG6Oaa1NFDqKNFubT2REhEAAAAMXRSTlMAE6ZYOtNATfS/759IEGC8MAUdgCd6kG5jDjCv3zVDCt4g6cebzys/sY+FInBQGEV13AoioAAAF6hJREFUeNrs3f1bE8cWB/CAkHUTE9SAWBLbIlBFyW0zIfJiQFDeVEAB3+pra3u13t7e3pf//3luAni19prdnZndc87M9/tjW5+J8+nOzjk7m+RyCIIgCIIgCIIgCIIgCIIgCIIgCBKZUj6fr3QSHkb9IUf/rPtvO/9RCXMlPfn8TKX4KXJUwrBYmcmPYfbEadc72AVllEIHv57HXArIWLkS1pTF1MJKGfR8L++Z4pRKKVPFGcizu77T8/5YvoxbPZcLvFpQmaVQreCSJ77CZ0JFkHAGVzxNxstZXuF/vuLL4zDIeE2fnlLkmZrGSp9Ze61cLCgmKRTLaOJlIF5VzFKFu2ficPdT/L07iKzv3Pjcxz9/f8e+zmZ1VqkpEalVUMfZSTlUghJimTe/yKcLSlgK07jcTVKvKpGp1mGnu12vKbGpoYjzY13HKm+WsaJyIEU8jEtQlIfKkYQo3X0jB7uX5GD3khzsXpKD3UtysH+uLq8qx1NF3f5J962oPEgRXbqPUikoL1KowPr9Y5Wa8iY1PIo57LiGyquEuLWXppV3mfb81l4vKA9T8HmNHw+Vp/F3ja8oj+PnPj4/pbzOlH8tOh83cL5v6PI1mHeK9jwuc1zsLrdjcJl/uNg9OUZXAbVv2/jxKTh/so13vmYvF6D8pwad26+/laog/n+pOryfww7Ov/3cDHA/nxks7Vji3VjasWuP2sU7t8Rj1+7fLh5913hdWZdu5yE84yV05saOSs2/2q2O23mSG7sT5+dQnftXsRehmDRF6Vs4VOc6Fbvo7Ryeo2qqC37aOoYtnO52TuwmPg9zfXWhZybLoDNJGeZQlxAcfzSOuCOTKM/9K9hh7p86zP1Th7l/6jD3Tx3m/qnD3D91mPunDnP/1GHunzrM/VNHv92/Pjyeq6WYMsyhzuScDFzSDcOzNDgPl3b4nZsbh3n66szOyOJ8exZhdh4e5tmooymDJg1l8I5iZmHzdiMK9AxTR7GGwo1o457q90zsPt5v6Gb/8d6K5rAre4vbmqNuL/72S5ozUuOwhU/z+2SubzfMsnZDa9y9NbNhF9NkD+nN0/zeqN2GefY1LvYd41HXdlOclmmXN3GbaxbQG48JzDvqmylOTNnhTZyNye/ketK13cqoO85u5lLdxG3aMU96qdsaNs1LnXQzl+p3/O5Zmv3GCsX60thLc26qrnbiFm2hJ1rfV2yNuuhmZ24s3TbEtq3pT1S27doadTvd2Rlz8IbeSYME/Ya1YdOdHaLbetpf2i8cfS3l6am6VqHbvafToC+mPT8E1Xr656OAHlGtZ396Kv2zMkCPSObnaDJ4mYUGfU8OetavvYwpQeiJ6vTrgtCzrdtKNaBzQM+0bsvkd3iAzuopazZvMAE9RvJOLe5A57XAZ/Qja8LR/53NLE27tLgr9S9b0z+fZNR/2hr1IKNpyjvSljnKQxL0eVujzmU0TVOOtGWOMgd0Li2a8az+LupANvpCZhOVfg8+u59NXQB6vKR+ED7D99Zo0Nvy0NN+yFoqCERvJxn1rkD0QsmFEt0u+kaSUVsC0dMt1seURPQWCfq7LOdqzIldnHz0pSznKsW9XF0BnSd6it9VUAM6V/Sa+F7cUZ7JRv8529mqyC/XulmSjT6f7WylVLZl/b1hb4GeJKl829h4xn8Jew1RP9BTacFXPUG/JxU9hfecsv9mbyL0WanoKRynCMWi30uErmyhtzOfsFD+hW4NfXbZE3Trl3ooGF35gh6Kv9Clo99V0i/1GtBT3T5aitVDkiTf8wz05LF5hobkhxvaQKe8q9P8+tZdoFPe1UOSz98COuGlTvQze0Tot+yMukqDbu1SD71Ct/RizSwRuqVLfUx5hX4gG93SGcmicPSHyYZdEI5u5bn6uBKOfkCDvkw1bzaeq09LR1+gQaeaNhtvPpQKQJeFbuG0HN2vKwJdMzMiH7Uco98DulaMz8DX6T67rYNLNOjrdBNn/LpLSPjZRaPPEU5cVWi9Rof+TD66YdU27R/6kgPoZlVbwT/0J3ZGfU05cwVxJ2aI0edJRrWcstBtnDX0dx6ih0K3cdbQ33qIbrCVqziBPu8jekVgNw7oVF25Ou3ntnVwiQb9V+LJqws7PfE+c5LRl4gnryjtoepxDoBuUKqXBBbp9rrgfqJrlupVP9HbJKMyeepSUkCXjK5KEld3IvSWK+hlias70DNf3+lXd1vov3uKrrG+l51Bf0qC/rsSuL5XnUFvkaC3lbz1ncHqbuvgkrfoidd3Bqu7rYNL/qKXhfXdu3kiGX2DwQQWJR2Os9sQpUFvMZjAgqynqpTo95xBT/i1FNMeo8+6gz4t6cwMJfqyQ+g1QSciSdGVQ+iJzkeWgW760ioP9LKsdpw19FWf0avCCjZb6LNbHqMnKNrGlEvoigR9i8ccxv+CsQqPD9yWjM5jChO89BAC3RX0+C+1MfnALaCbh/kXAHNBX3cKPS/rlk6FPucUekVUlU6G/trGqLe4oFdFVelk6FZOac1xQS+IqtKBnmWlXga6S+hlMSelLKKvk6AfsEGPd2Zqyi30VyToC2zQpyS1ZmwdXFrwHF1Jas3YOrjkPXqc9swMm0+7DHQbmZG0j7PUBadBf8ZnFouS9nFU6FZerFniM4tTkvZxVOhPHENXkvZxVOjzrqHn5fTjZKO/ZTSNZTHPVYWjzzOaxoqUo1JAt5dQxgtNNtGfeY9ek7R5t3Nw6Yn36ErS5t3OwaV5oEdt3+ucPuxruegPOM1jXdDm3U5DlAa9zWkeK0IORRKiP3AOvSqoYiNCbzuHHgo5CUuIbuXATovTPBYEVWxAz6ZmywPdRfQxoPuHnhdyVgroFjMjp0y3g/53CvRVXugVKQfklKWDS20K9Fle6EU5Zbqdg0stoEcU6rzQ54GeBboCumqtWkBf5jWTQI9Ct3B2Y1bJQS8B3c6LNdzQS2J6M0ToykH0PNCBDnTP0StAt4M+xwy9AnSgM0Z/AHT/0G0cXJolQX8lCJ1XF9ZOQ1RRoC8wQw+BHpF1oPuHPgd0/9BfAd0/9AWgA10j7wShK6DbQV9iNpMFoPuHroAOdM7oq1LRfwa6NvqsVPR5oOtmmebRB9BJQ9MFB7qH6EtAB3oWL9ABnRjdwoGdNtCBDnSgA91F9KeC0E8C3Q56i9lEnuyBPsjss64D3U4GBaHPAd0/9FdA9w/dQkP0V6D7h67xkNP8xZp7QCdF1+iCm79YM8sNfaIHej/QO9lwD70f6BFpAR3omRzXATrQM0QfAbqb6CNAB/rH+Y7ZZ10Cup181wP9W6BbQb/FDf3bHugDzD7rvFB0bl85owb8Qtf4KUTzF2tkoQ86h76hgT7rGvqgZ+gavbFHxugHotCHgK4snNLi9kUUl3uhD/cD3UX0/uFe6JNAdxF9sif6CNBdRB/piT4KdBfRR3uh9wW8PuwDoejcvn0k6OuJzut1hzbQbeRkBDqvQn0D6FbK9J7oZwJehXpLKPoTXuhDwZlev9EV9DuGrnUY2fjFGmZfRNEf9PwxvuCKY+haP4X4yjH0K73RB0ZdQ9cZdsEx9NGB3ugB0N1DD3qjnw4uskJfJUF/RvAQP8VcDE73RB/mVbO1bpE82f6P4aCrvL59ZDAY7ol+ldf2vfWjKfpznWGvGS4wc7zQ+4OrPdH7gnOs0JuGJfN6Uwv9pdGgd+7zQr/SszfTRR/lhf78jtn066E3jW4rL5q80EeDL3K9C3VW2/dHzeYPBup3fmhqopuo/63Z3GCFHvQu03O5U7x2cs1m877u/N95eL+pjd58qXlfn/2x84dZvbQ6GJyKQB/g1X1vdnP/xZxGXt4//MO66J01RmPQF88P/ygr9KGIMj2XuxBMskM3ij66QVihT0aU6d1CfcQp9Ns6o7adQh+JKNNzubO8dnLG6NeAHgR/iUDvC1jt5IBuYR8XUaYf1myXge4S+uXIii2X+5JVT+62TPRlRlN4LvgyEn0gOM/oE/9kOv1/1WsEmuUmp1v6+ciKrbt953Qi9qkp+hbFAvM9I/OLQeTm/XD7PuHO+n5Nb9S7ZqM+YjSBE0FwNhK9s33n1J7Zumm0zm5pDmvUnmH1uGUyiHrccrR9Z/WgbcNA/ab2r2os/8ONxb37iC16857LXQp4veaypX3VXTNZZtua/7Pd5vWE7WQQXIqBfprXTb3L3r6WPD/dNbyzLj/9PvmobV7kh7f00zHQr/K6qSOmt/SrMdD7mN3UEcNbel8M9M5OLjiJ2XIjnVt6nH3c4U5uCNPlRobi7eMOd3LnMF1u5Fy8fdxhT+48psuNnIjTj+vmi8594GvMlwv5OojVjzs6EcvsNXVEM/1B5EnYD4cjUbQ5U7BdiIk+jKLNnYJtOCZ6X4CizZWCLV5r5rg9cwVTJj9X4rZmjo5MYX13ZHUfiI3evalPYNKkZyKI97TlQ6WOppz4nItfpR9X6icwadJzIn6VflypY313YXW/kAD9KtZ3N1b3swnQvwqwvovfu3dW9+CrBOi5L9GfcaEzcymJee4b9Gdc6Mx8kwi924lFf0Z6ZyZ+D/Z/RRub9X1lhWTYTfGr+6lk5odFG4vnq7v72t/t9fiNPvjOmu6o+zdWOMzbaBD3pNQfzkwFDL4ceGXf6LsbFzXn/4bRqGtv6M0vBgkLtqMf9ggYvPRgaN6Z/190ht0x/UbaXXL0ya7fmZzG+k5eqpuaNxrbGtf6G/NfjiFXP5GwHffR+k7cit01n/3GTvLlZc181DXiXeCEzup+vL4Tl+rbFtAbmxT/qzV+oy/Sk6/uR+s77VZu08bsN/aSDvvYxqjb9Nu45Kv78freT/nRr1tB3yFZXxqk6P16q/vx+n5CPvpi0mEb8tFPaK7ux+v7ENDloQ/pru7H6/sI0OWhj+iu7p31vdt/p3yrDeh66b7BFpzSWt3/297ZvKiRhGG8bVvKQ8Oo2H4cNGKLioKXjsLCEsiEWTaZQ3JJIEsSEpZcsrCn/f9ZxxnHtj+0vqur+3mOSUjZ9fN96/2q9nBn2egADaDz6WFkhrnuftSGmG2wAjqXDk1V1q7q+fyMwawN0PnztTEv88OlB1JvArpN0A+zcdT3FrPnIw1mbYDOna+xTUSmL7WZexcJoPNoQJiusOWk6sZMHdC5Db0jAP0wKmdsbArQeQ3dF2F+GIU29lM+gM6uxgHYXAj6YygXALot0APRMO45lDNk6oDOaegjMeZPVbkA0O2A/mjoG0Hoj1U5M6YO6HyGPhZlfri1bMjUAZ3P0NfC0B8brEZMHdC5DJ23qZrO2gJALz70QEK+Fs/aTJTlAJ2nGCear8VmKUxU4AGdoxjHPT2RfsGYEVMHdB5DH0qB/lSgGTQBvcjQH/voQv211GspDIzQADqLXCI2JpVt6tpHaADdnKE/m3oP0IsLvSfZ0I+mrnsGHtDpNSGSDf04QaO7QgPorHUZsYmZ7LaL5pcUADq1wkc+C5nMj6e63rQN0KmjuIH0Ez12qruAXkTorvwTPWbqWl9NAeiUmhIlhv5s6gGgFw96oMbQT6YeAnrRoIeqDP3pxRRa63KAzlKLEx6HvNBX1/gaSUCn0oxI7KNn99U1Tk4BOo0aT1haKpgfp+X0JeuAzpCiy5iMy72urjFZB3T6FF3gQjpdMVZX4wXQqRstEmbdL1930XaNFdCvq/+EZKMM+rFCo8nBAzq1c/fUMT/OSGpy8IBOG7nLmoa8dPNBUwQP6JSRu5T7DdfTNi0lGkCnLMuoStcSMzRaavCATldzlzsvcymW01CDB3SqmrvSKO68BK+hyQroNA1VRUX37LocWQK6SehLoroWF9dCV94G6BSlOMnDkNfGKZTnbYagv7MB+nO2pmJ04lKyrvoXvP6Tsvu/sS770gboK6IlRY8l62M9x/pWis39w7rsRxmr3mk60MdtTdBPDl7tsb59I2H33+1Yl/0uA/pXPQe6Lud+5uCVZuvbHzJ2nxl6JMG/v4+0ZOjanPu5g1eZrW+jO+HdfxOxQxf/rr37ohR6oN+5n7XbVBbht9GH98LMOaBHXwVXff09Ugl9RrQ01y6UaBS+i2YbRR+EoqrX3yIu6NGP10LftA+RSug3RGtZJrNEU58ohB5FX37dveTTxwfkfNCj6NtHzlXvfn05/Afqgri63rLMWQ3eVx7MHaALiw+6sNQHcf4L7dBPTVbSbwK6LujNPtHWUL1wz0ndy2gAPa3e86aPTDCP5W2KBiUBPSWXmMnWsvI2NSG8Iei3xYV+Ctx1Z2snrYnSeqwc6D9Zl90VFvqp+irhne4SjnUliZuU3f+LddWfMlb9V2myZuhATx3rKhK3vyXs/u0r1lX/kAH9XmWyRhZtg9Cdoa8ycZPh339nX/at+KpvX8lnfkrW/KFjVKdsXQX1nf4wToqp3/6pkrmZDD2zy6oiXf8kanQ7Lov7XDzmsQRdaz/1yiC8Euqvdrp9+0H3QmnbTi1zzzzzeDCnojS3/czJ/e3u/hP/l+1+x+dkbneft0oLccaqMrnBnPa3g1dEMeamg7jkuwpM/tZ6qbWMbfDGKYjWoK5SseKryUpcUi1Q18O85RRIC1DXwXxRJOZOG9R1MG8XCnpsegrUVTE3MR9Fn7ipv8Vcxbi9KMla9l0n5OsK8nOtN5i4ei+gLp95x3FAHcyLoW78U66awCai5iq+m12nsIoXaZSNw1eEeZ8UtSgD6mCeoF6fgB6fYjOQxWeepN4APx417GKeoI7inGgZzgrmSeozMGTVzD7mSeo9hHNsIVzPRuZJ6gji+cN2e5gnqSOI5w3bbWKepI5wji+Es4t5ijoq8ezVduuYJ+rwONg5jvMi19upem6o07BWZArcV2Ogru3XOi2VS0rA3HFq/vljBHDx+a49ON8rv+ZYqqEPF8/n2os4D0c9I7uAi+dx7YsXjsVqJ6kHUyBOappw7cRrO3YrkbCTegjK5woTrt2+9DytdeKRMDx3HsGtkvuzdkqgTSKcIwPEc6cIbpDYHH/jlELDcfLLPIOxP5r5LLkz46FTErU9AmOnMXP7Q7i45gTGft3Mi/DeKKk1WT9l7BUP48OUmfsdp2QaLgjC+EtBO1kMndKpPUo9Zr2yV5qX9dRmjNpOGZXK2AnpV3KSatJP78TaKanSuVsVA7qMAK5EmRqVi6+cj8/w7GV17flR/N7HVyhpb2R49vJF7Ve7rYc4viK9t+kq4+Ht7qNSqpvx4JU42rMOcyvHH2XFc6Tulhx70804zEsdwSXiuXnWV75e6isRN1nIybztVEe1LGMng9JivxlkPe+45lRK2cZeUuzZyKtl5k/GvqgI9hzki5pTRWWG8WXDnoO8KkF7Rs7u5WBfliSSby5zkHsvnOpq42dvSikSuOwkrURzcJIDuofbzZZX6aa9vCerYABH6+MJCSyerQmDvKeqtGeP+fhx3gZZerjnHuX71HwD3sc43ie5Xt66MYtJrl8nfhesaY52Qvo3TZuMvJ//JDjMk0f7KH+zSM+S0z3sXXiIFg7zjBKdd2HHBrPCB/PT2eDCA3g1EGbHTvrLAnOfXnLrQC6AvajcrxAHckHsxeN+jTiQy8BO+m5h0riJe4U4kEvDTga90Hge1wx7AwLk8jRskasKTBr8xA2uf8LWECTZ8va5f31X66ulAfCT5ap+/bP5c+TlHFW6zpgQKvAaL0s0qIATMu6g+sZ7uI8InYJZqDyon4azgPLjjNBWUe7ln0w+cFWRn4ZuUKf9HPDrEtTxCIOCntuQiH7acHsBy/peB8TkmHt3TNgUrNwbMfbTxo27ChiXHXdh5DJP95ZP2DXY273bYKE/bTTcvW0POBbzW0jK5bv5EeFXPQiCmbtX2EgpfPjz2f4f1AUWGMGtq0riRLgr1AgJWsW4g7gW7lznuxL5LRDXF9fNF+aJL+aI3HTncZ2RQYP3Rx1kZ2Y0XHsmiHtrtM8Me/q1Tov3R2v49IJYfKel4YxftDqw8MKZvDryixYMvMg23/XGMnGPvS7s2w6j33RbnuBJ73ut7gbmbZ/Z19Z7+IwBvreHva7BuO0v4tVqte5e3kFJyA96+Nv9P0J5DYIgCIIgCIIgCIIgCIIgCIIgCKLQ/wUoEJAeeIozAAAAAElFTkSuQmCC",ar=__webpack_require__.p+"static/media/bad_icon.01fa46ac8b22478c9ef1.png",lr=__webpack_require__.p+"static/media/good_icon.93365ed4beb9e35063ad.png",cr=document.querySelector.bind(document);document.querySelectorAll.bind(document);function ur(e,t){let n=cr(e),i=n.querySelector.bind(n),r=n.querySelectorAll.bind(n);return i(".RM_ske_loading").style.display="none",i(".RM_loader").style.display="none",{doom_img_loader:i(".RM_img_list"),doom_img_item:null,arrow_left:i(".RM_arrow_left"),arrow_right:i(".RM_arrow_right"),doom_rate_item:null,doom_img_counter:i(".RM_counter"),doom_player_you:i(".RM_player.RM_you .RM_content"),doom_player_enemy:i(".RM_player.RM_enemy .RM_content"),cur_img:0,move_count:0,get_rate_list_detail:()=>i(".RM_rate_list .RM_detail"),get_rate_item:function(e){const t=r(".RM_rate_item");return e?t[e]:t},render(e){const n=this.get_rate_list_detail();let o=[{"T\u1ed1t nh\u1ea5t":0,"T\u1ed1t":0,"B\xecnh th\u01b0\u1eddng":0,"T\u1ec7":0},{"T\u1ed1t nh\u1ea5t":0,"T\u1ed1t":0,"B\xecnh th\u01b0\u1eddng":0,"T\u1ec7":0}];this.move_count=t.length,i(".RM_move_count").innerHTML="MOVE: ".concat(this.move_count),1===e?(this.doom_player_you.classList.add("RM_blue"),this.doom_player_enemy.classList.add("RM_red")):(this.doom_player_enemy.classList.add("RM_blue"),this.doom_player_you.classList.add("RM_red")),t.forEach(((t,i)=>{let r={type:"",icon:""};o[i%2===0?0:1][t.type]++,"T\u1ed1t nh\u1ea5t"===t.type?(r.type=t.type,r.icon='<img class="RM_rate_item-you_img" src='.concat(sr,' alt="">')):"T\u1ec7"===t.type?(r.icon='<img class="RM_rate_item-you_img" src='.concat(ar,' alt="">'),r.type=t.type):"T\u1ed1t"===t.type&&(r.icon='<img class="RM_rate_item-you_img" src='.concat(lr,' alt="">'),r.type=t.type),n.innerHTML+=1===e?'\n                        <li class="RM_rate_item">\n                            <div class="RM_rate_item-you">'.concat(i%2===0?r.icon+r.type:"",'</div>\n                            <div class="RM_rate_item-move">').concat(t.move.sellected_pos+" => "+t.move.new_pos,'</div>\n                            <div class="RM_rate_item-opp">').concat(i%2!==0?r.type+r.icon:"","</div>\n                        </li>\n                    "):'\n                        <li class="RM_rate_item">\n                            <div class="RM_rate_item-you">'.concat(i%2!==0?r.icon+r.type:"",'</div>\n                            <div class="RM_rate_item-move">').concat(t.move.sellected_pos+" => "+t.move.new_pos,'</div>\n                            <div class="RM_rate_item-opp">').concat(i%2===0?r.type+r.icon:"","</div>\n                        </li>\n                    "),this.doom_img_loader.innerHTML+='\n                    <li style="display: none;" class="RM_img_item RM_default"><img src='.concat(t.img_url,' alt=""></li>\n                ')}));const s=i(".RM_overview");-1===e&&(o=o.reverse());for(let t=0;t<4;t++)0===t&&(s.innerHTML+='\n                        <li class="RM_excellent_count">\n                            <div class="RM_excellent_count-you">'.concat(o[0]["T\u1ed1t nh\u1ea5t"],'</div>\n                            <div class="RM_excellent_count-title RM_excellent">T\u1ed0T NH\u1ea4T</div>\n                            <div class="RM_excellent_count-opp">').concat(o[1]["T\u1ed1t nh\u1ea5t"],"</div>\n                        </li>\n                    ")),1===t&&(s.innerHTML+='\n                        <li class="RM_excellent_count">\n                            <div class="RM_excellent_count-you">'.concat(o[0]["T\u1ed1t"],'</div>\n                            <div class="RM_excellent_count-title RM_good">T\u1ed0T</div>\n                            <div class="RM_excellent_count-opp">').concat(o[1]["T\u1ed1t"],"</div>\n                        </li>\n                    ")),2===t&&(s.innerHTML+='\n                        <li class="RM_excellent_count">\n                            <div class="RM_excellent_count-you">'.concat(o[0]["B\xecnh th\u01b0\u1eddng"],'</div>\n                            <div class="RM_excellent_count-title RM_normal">B\xccNH TH\u01af\u1edcNG</div>\n                            <div class="RM_excellent_count-opp">').concat(o[1]["B\xecnh th\u01b0\u1eddng"],"</div>\n                        </li>\n                    ")),3===t&&(s.innerHTML+='\n                        <li class="RM_excellent_count">\n                            <div class="RM_excellent_count-you">'.concat(o[0]["T\u1ec7"],'</div>\n                            <div class="RM_excellent_count-title RM_bad">T\u1ec6</div>\n                            <div class="RM_excellent_count-opp">').concat(o[1]["T\u1ec7"],"</div>\n                        </li>\n                    "));this.doom_img_item=r(".RM_img_item"),this.doom_rate_item=r(".RM_rate_item")},toggle_rate(e,t){var n,i;null===(n=this.doom_rate_item[e-1])||void 0===n||n.classList.toggle("RM_sellected"),null===(i=this.doom_rate_item[t-1])||void 0===i||i.classList.toggle("RM_sellected"),this.scrollToView(this.doom_rate_item[t-1])},tonggle_img(e,t){return t<0?(t=this.doom_img_item.length-1,this.cur_img=t+1,void this.tonggle_img(e,t)):t>this.doom_img_item.length-1?(t=0,this.cur_img=t-1,void this.tonggle_img(e,t)):void(t>=0&&t<=this.doom_img_item.length-1&&(this.doom_img_counter.innerHTML=t,this.doom_img_item[e].style.display="none",this.doom_img_item[t].style.display="block",this.toggle_rate(e,t)))},scrollToView(e){e&&setTimeout((()=>{e.scrollIntoView({behavior:"smooth",block:"nearest"})}),200)},handle_event(){this.arrow_left.onclick=()=>{this.tonggle_img(this.cur_img,this.cur_img-1),this.cur_img--},this.arrow_right.onclick=()=>{this.tonggle_img(this.cur_img,this.cur_img+1),this.cur_img++},this.doom_rate_item.forEach(((e,t)=>{e.onclick=()=>{this.tonggle_img(this.cur_img,t+1),this.cur_img=t+1}})),document.onkeyup=e=>{"ArrowUp"===e.code||"KeyW"===e.code?(this.tonggle_img(this.cur_img,this.cur_img-1),this.cur_img--):"ArrowDown"!==e.code&&"KeyS"!==e.code||(this.tonggle_img(this.cur_img,this.cur_img+1),this.cur_img++)}},start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.render(e),this.handle_event()}}}function hr(){const{user:t,history:n}=(0,e.useContext)(r.B),{username:i}=t,[s,d]=(0,e.useState)("Master"),[p,f]=(0,e.useState)();return(0,e.useEffect)((()=>{console.log("human_bot");const e=document.querySelector.bind(document),n=document.querySelectorAll.bind(document),i=window.innerWidth<=500;let r=e(".board"),o=r.getBoundingClientRect(),p=o.width/4,g=o.height/4,m=!0,v=[[1,0],[0,1],[0,-1],[-1,0]],y=[[1,0],[0,1],[0,-1],[-1,0],[-1,-1],[-1,1],[1,1],[1,-1]],_=16,b=e("canvas");b.style.left=r.offsetLeft-_-5+"px",b.style.top=r.offsetTop-_-5+"px",b.width=o.width+2*_+10,b.height=o.height+2*_+10;let w,x,A,C=b.getContext("2d"),S=1,E=t.username;console.log(E);e(".game_result");const T=e(".HB_game_status"),I=e(".play_again_btn"),M=e(".move_sound"),N=e(".capture_sound"),R=e(".fire_sound");R.volume=.6;const L=e(".rate_btn"),P=e(".RM_rate");e(".RM_ske_loading");I.onclick=()=>f(Math.random());let O=[[-1,-1,-1,-1,-1],[-1,0,0,0,-1],[1,0,0,0,-1],[1,0,0,0,1],[1,1,1,1,1]],D=[[-1,-1,-1,-1,-1],[-1,0,0,0,-1],[1,0,0,0,-1],[1,0,0,0,1],[1,1,1,1,1]],j=[[[0,0],[1,0],[2,0],[3,0],[4,0],[0,1],[4,1],[4,2]],[[0,2],[0,3],[2,4],[4,3],[0,4],[1,4],[3,4],[4,4]]];const F=[[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1]];function $(){r=e(".board"),o=r.getBoundingClientRect(),p=o.width/4,g=o.height/4,b=e("canvas"),b.style.left=r.offsetLeft-_-5+"px",b.style.top=r.offsetTop-_-5+"px",b.width=o.width+2*_+10,b.height=o.height+2*_+10,C=b.getContext("2d"),r.innerHTML='\n<div class="HB_grid">\n<div class="HB_row1"></div>\n<div class="HB_row2"></div>            \n<div class="HB_row3"></div>\n<div class="HB_row4"></div>\n</div>\n<div class="HB_grid">\n<div class="HB_row1"></div>\n<div class="HB_row2"></div>            \n<div class="HB_row3"></div>\n<div class="HB_row4"></div>\n</div>\n<div class="HB_grid">\n<div class="HB_row1"></div>\n<div class="HB_row2"></div>            \n<div class="HB_row3"></div>\n<div class="HB_row4"></div>\n</div>\n<div class="HB_grid">\n<div class="HB_row1"></div>\n<div class="HB_row2"></div>            \n<div class="HB_row3"></div>\n<div class="HB_row4"></div>\n</div>\n',w=0;for(let e=0;e<O.length;e++)for(let t=0;t<O[e].length;t++)r.innerHTML+='<div data-choosable="false" data-posx="'.concat(t,'" data-posy="').concat(e,'" class="box" style="top:').concat(g*e-40*S,"px; left:").concat(p*t-40*S,'px;"></div>'),-1===O[e][t]?r.innerHTML+='<div data-so="'.concat(w,'" data-posx="').concat(t,'" data-posy="').concat(e,'" style="background-color: red; top:').concat(g*e-30*S,"px; left:").concat(p*t-30*S,'px;" class="chess HB_enemy"></div>'):1===O[e][t]&&(r.innerHTML+='<div data-so="'.concat(w,'" data-posx="').concat(t,'" data-posy="').concat(e,'" style="background-color: blue; top:').concat(g*e-30*S,"px; left:").concat(p*t-30*S,'px;" class="chess player"></div>')),w++}$();let B=s;const U=n(".bot_item"),z=e(".fight_btn"),V=e(".overflow"),W=e(".bot_avatar_".concat(i?"mobile":"pc"," img")),H=e(".bot_info_name_".concat(i?"mobile":"pc"));U.forEach((e=>{e.onclick=t=>{if(e.classList.contains("selected"))return B="",e.classList.remove("selected"),void z.classList.remove("active");U.forEach((e=>e.classList.remove("selected"))),B=e.dataset.level,e.classList.add("selected"),z.classList.add("active")}})),z.onclick=()=>{if(!B)return;let e;switch(B){case"level1":e=a;break;case"level2":e=l;break;case"level3":e=c;break;case"level4":e=u;break;default:e=h}W.src=e,H.innerHTML=B,V.style.display="none",d(B)};let q,K=[],G={username:E,side:1,img:[]};L.onclick=()=>{P.classList.toggle("RM_appear"),L.classList.toggle("active"),console.log({move_list:K,img_data:G}),q||(q=!0,fetch("https://coganh.onrender.com/get_rate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({move_list:K,img_data:G})}).then((e=>e.json())).then((e=>{console.log(e);const t=JSON.parse(e.img_url);let n=[];t.splice(1,t.length).forEach(((t,i)=>{n.push({type:e.rate[i],move:{sellected_pos:"(".concat(K[i].move.selected_pos[0],", ").concat(K[i].move.selected_pos[1],")"),new_pos:"(".concat(K[i].move.new_pos[0],", ").concat(K[i].move.new_pos[1],")")},img_url:t})})),q=ur(".RM_rate",n),q.start()})))};let Q=n(".box");function Y(e){if(!m)return;const t=Number(e.dataset.posx),n=Number(e.dataset.posy);A=e,re(),0===F[t][n]?v.forEach((e=>{let i=t+e[0],r=n+e[1];if(i>=0&&i<5&&r>=0&&r<5&&0===O[r][i]){let e=Array.from(Q).filter((e=>Number(e.dataset.posx)===i&&Number(e.dataset.posy)===r));e.forEach((e=>{e.dataset.choosable="true"}))}})):y.forEach((e=>{let i=t+e[0],r=n+e[1];if(i>=0&&i<5&&r>=0&&r<5&&0===O[r][i]){let e=Array.from(Q).filter((e=>Number(e.dataset.posx)===i&&Number(e.dataset.posy)===r));e.forEach((e=>{e.dataset.choosable="true"}))}}))}function X(t,n){e(t).classList.add("unavalable"),e(n).classList.remove("unavalable")}function J(e){return e[0]===this[0]&&e[1]===this[1]}function Z(e,t,n,i){let r=[],o=(e[0]+e[1])%2===0;for(let[s,a]of t){let t=s-e[0],l=a-e[1];t>=-1&&t<=1&&l>=-1&&l<=1&&(0===t||0===l||o)&&(e[0]-t>=0&&e[0]-t<=4&&e[1]-l>=0&&e[1]-l<=4&&O[e[1]-l][e[0]-t]===i||s+t>=0&&s+t<=4&&a+l>=0&&a+l<=4&&O[a+l][s+t]===n)&&r.push([s,a])}for(let[s,a]of r)O[a][s]=0,t=t.filter((e=>{let[t,n]=e;return t!==s||n!==a}));return r}function ee(e){for(let n of e){let e;e=(n[0]+n[1])%2===0?[[1,0],[-1,0],[0,1],[0,-1],[1,1],[-1,-1],[-1,1],[1,-1]]:[[1,0],[-1,0],[0,1],[0,-1]];for(let t of e){let e=n[0]+t[0],i=n[1]+t[1];if(e>=0&&e<=4&&i>=0&&i<=4&&0===O[i][e])return console.log(e,i),[]}}let t=e.slice();for(let[n,i]of e)O[i][n]=0;return e=[],t}function te(e){const t=n(".chess");e?(t.forEach((e=>e.classList.remove("not_ready"))),X(".bot_info_".concat(i?"mobile":"pc"),".player_info_".concat(i?"mobile":"pc"))):(t.forEach((e=>e.classList.add("not_ready"))),X(".player_info_".concat(i?"mobile":"pc"),".bot_info_".concat(i?"mobile":"pc"))),m=e}function ne(e,t,n,i){const r=Number(e),o=Number(t),s=Number(n),a=Number(i);let l=O[o][r];O[o][r]=O[a][s],O[a][s]=l}function ie(e,t,i,s){let a;C.clearRect(0,0,b.width,b.height),M.play();let l=[2,1.5,2,2.5,2],c=D.map((e=>e.map((e=>e)))),u={};if(t){C.beginPath(),C.arc(e.dataset.posx*(o.width/4)+_+2.5*l[e.dataset.posx],e.dataset.posy*(o.height/4)+_+2.5*l[e.dataset.posx],_,0,2*Math.PI),C.lineWidth=5,C.fillStyle="#577DFF",C.fill(),C.strokeStyle="#577DFF",C.stroke(),e.style.left=t.offsetLeft+10*S+"px",e.style.top=t.offsetTop+10*S+"px",i=[Number(t.dataset.posx),Number(t.dataset.posy)],s=[Number(e.dataset.posx),Number(e.dataset.posy)];let n=j[0];ne(e.dataset.posx,e.dataset.posy,t.dataset.posx,t.dataset.posy),a=[...Z([Number(t.dataset.posx),Number(t.dataset.posy)],n,1,-1),...ee(n)],K.push({your_pos:[...j[1]],opp_pos:[...j[0]],board:c,side:1,remove:a,move:{selected_pos:s,new_pos:i}}),a.forEach((e=>{u[e.join(",")]="remove_red"})),j[1][j[1].findIndex(J,[Number(e.dataset.posx),Number(e.dataset.posy)])]=[Number(t.dataset.posx),Number(t.dataset.posy)],e.dataset.posx=t.dataset.posx,e.dataset.posy=t.dataset.posy}else{C.beginPath(),C.arc(e.dataset.posx*(o.width/4)+_+2.5*l[e.dataset.posx],e.dataset.posy*(o.height/4)+_+2.5*l[e.dataset.posx],_,0,2*Math.PI),C.lineWidth=5,C.fillStyle="#FC6666",C.fill(),C.strokeStyle="#FC6666",C.stroke();let t=j[1];console.log({selected_pos:s,newPos:i}),ne(s[0],s[1],i[0],i[1]),a=[...Z([i[0],i[1]],t,-1,1),...ee(t)],console.log({selected_pos:s,newPos:i}),K.push({your_pos:[...j[1]],opp_pos:[...j[0]],board:c,side:-1,remove:a,move:{selected_pos:s,new_pos:i}}),a.forEach((e=>{u[e.join(",")]="remove_blue"})),j[0][j[0].findIndex(J,[s[0],s[1]])]=[i[0],i[1]],e.style.left=i[0]*p-30*S+"px",e.style.top=i[1]*p-30*S+"px",e.dataset.posx="".concat(i[0]),e.dataset.posy="".concat(i[1]),te(!0)}!function(e,t,i,o){const s=n(".chess");for(let n=0;n<5;n++)for(let i=0;i<5;i++){if(D[n][i]!==e[n][i]&&0!==Object.keys(t).length&&0!==D[n][i]&&0===e[n][i]){const e=Array.from(s).find((e=>Number(e.dataset.posx)===i&&Number(e.dataset.posy)===n));if(e){console.log("changedChess: ",e),j.forEach(((e,t)=>e.forEach(((r,o)=>{-1!==e.findIndex(J,[i,n])&&j[t].splice(e.findIndex(J,[i,n]),1)})))),N.play(),R.play();const t=document.createElement("img");t.setAttribute("src",k),t.setAttribute("style","top:".concat(g*n-30*S,"px; left:").concat(p*i-30*S,"px;")),t.setAttribute("class","fire"),r.appendChild(t).onanimationend=t=>{console.log("remove"),e.remove()}}}D[n][i]=e[n][i]}G.img.push([i[0],i[1],o[0],o[1],t]),0===j[0].length?(T.innerHTML="You Win",T.style.backgroundColor="green",T.style.display="block",T.style.opacity="1",L.style.display="block"):0===j[1].length?(T.innerHTML="You lost",T.style.backgroundColor="red",T.style.opacity="1",L.style.display="block"):1===j[0].length&&1===j[1].length&&(T.innerHTML="draw",T.style.backgroundColor="#ccc",T.style.display="block",T.style.opacity="1",L.style.display="block")}(O,u,s,i)}function re(){Q.forEach((e=>{e.dataset.choosable="false"}))}function oe(){console.log("asd"),setTimeout((()=>{if(j[0].length<=0||j[1].length<=0)return;x=n(".chess.HB_enemy");let e={your_pos:[],your_side:-1,opp_pos:[],board:O};console.log(JSON.parse(JSON.stringify(e))),O.forEach(((t,n)=>{t.forEach(((t,i)=>{1===O[n][i]&&e.your_pos.push([i,n]),-1===O[n][i]&&e.opp_pos.push([i,n])}))})),console.log(JSON.parse(JSON.stringify(e))),fetch("https://coganh.onrender.com/get_pos_of_playing_chess",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,choosen_bot:B})}).then((t=>t.json(e))).then((e=>{const{selected_pos:t,new_pos:n}=e;console.log("selected_pos:  ",{selected_pos:t,new_pos:n});const i=Array.from(x).find((e=>Number(e.dataset.posx)===t[0]&&Number(e.dataset.posy)===t[1]));console.log("resData: ",e),ie(i,null,n,t)}))}),1e3)}Q.forEach((e=>{e.onclick=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())},e.ontouchend=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())}}));n(".chess.player").forEach((e=>{e.onclick=()=>{Y(e),C.clearRect(0,0,b.width,b.height)},e.ontouchend=()=>{Y(e),C.clearRect(0,0,b.width,b.height),console.log("touch")}})),window.onresize=function(e){window.outerWidth<=500?(S=.5,_=8):(S=1,_=16),$(),Q=n(".box"),console.log("resize"),Q.forEach((e=>{e.onclick=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())},e.ontouchend=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())}}));n(".chess.player").forEach((e=>{e.onclick=()=>{Y(e),C.clearRect(0,0,b.width,b.height)},e.ontouchend=()=>{Y(e),C.clearRect(0,0,b.width,b.height),console.log("touch")}}))},window.onload=e=>{console.log(e),window.outerWidth<=500?(S=.5,_=8):(S=1,_=16),$(),Q=n(".box"),console.log("reload"),Q.forEach((e=>{e.onclick=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())},e.ontouchend=()=>{"true"===e.dataset.choosable&&A&&(te(!1),ie(A,e),re(),oe())}}));n(".chess.player").forEach((e=>{e.onclick=()=>{Y(e),C.clearRect(0,0,b.width,b.height)},e.ontouchend=()=>{Y(e),C.clearRect(0,0,b.width,b.height),console.log("touch")}}))}}),[i,p]),(0,o.jsxs)("div",{className:"flex h-screen justify-around items-center",children:[(0,o.jsxs)("div",{className:"game_state pc",children:[(0,o.jsxs)("div",{className:"game_turn game_turn-bot_",children:[(0,o.jsx)("div",{className:"bot_avatar_pc",children:(0,o.jsx)("img",{src:h,alt:""})}),(0,o.jsx)("div",{className:"game_turn_info bot_info_pc unavalable",children:(0,o.jsx)("div",{className:"bot_info_name_pc",children:"Master"})})]}),(0,o.jsxs)("div",{className:"game_turn game_turn-player",children:[(0,o.jsx)("div",{className:"player_avatar",children:"T"}),(0,o.jsx)("div",{className:"game_turn_info player_info_pc",children:(0,o.jsx)("div",{className:"player_info_name",children:"tlv23"})})]})]}),(0,o.jsxs)("div",{className:"game_turn game_turn-bot mobile_active",children:[(0,o.jsx)("div",{className:"bot_avatar_mobile",children:(0,o.jsx)("img",{src:h,alt:""})}),(0,o.jsx)("div",{className:"game_turn_info bot_info_mobile unavalable",children:(0,o.jsx)("div",{className:"bot_info_name_mobile",children:"Master"})})]}),(0,o.jsx)("div",{className:"board"}),(0,o.jsxs)("div",{className:"game_turn game_turn-player mobile_active",children:[(0,o.jsx)("div",{className:"player_avatar",children:"T"}),(0,o.jsx)("div",{className:"game_turn_info player_info_mobile",children:(0,o.jsx)("div",{className:"player_info_name",children:"tlv23"})})]}),(0,o.jsx)("canvas",{}),(0,o.jsxs)("div",{className:"RM_rate",children:[(0,o.jsxs)("div",{className:"RM_game_display",children:[(0,o.jsx)("i",{className:"fa-solid fa-angle-left RM_arrow_left"}),(0,o.jsxs)("div",{className:"RM_img_main",children:[(0,o.jsx)("ul",{className:"RM_img_list p-0 m-0",children:(0,o.jsx)("li",{className:"RM_img_item RM_default",children:(0,o.jsx)("img",{src:nr,alt:""})})}),(0,o.jsx)("div",{className:"RM_counter",children:"0"})]}),(0,o.jsx)("i",{className:"fa-solid fa-angle-right RM_arrow_right"}),(0,o.jsx)("div",{className:"RM_loader",children:(0,o.jsx)("div",{className:"RM_loading"})})]}),(0,o.jsxs)("div",{className:"RM_game_rate",children:[(0,o.jsxs)("div",{className:"RM_rate_list",children:[(0,o.jsx)("ul",{className:"RM_overview p-0",children:(0,o.jsxs)("div",{className:"RM_header",children:[(0,o.jsx)("div",{className:"RM_player RM_you",children:(0,o.jsx)("div",{className:"RM_content",children:"B\u1ea1n"})}),(0,o.jsx)("div",{className:"RM_move_count",children:"MOVES: 20"}),(0,o.jsx)("div",{className:"RM_player RM_enemy",children:(0,o.jsx)("div",{className:"RM_content",children:"\u0110\u1ed1i th\u1ee7"})})]})}),(0,o.jsx)("div",{className:"RM_spacing"}),(0,o.jsx)("ul",{className:"RM_detail p-0"})]}),(0,o.jsxs)("div",{className:"RM_ske_loading",children:[(0,o.jsxs)("ul",{className:"RM_ske_loading-overview p-0",children:[(0,o.jsx)("li",{}),(0,o.jsx)("li",{}),(0,o.jsx)("li",{}),(0,o.jsx)("li",{})]}),(0,o.jsx)("div",{className:"RM_spacing"}),(0,o.jsxs)("ul",{className:"RM_ske_loading-detail p-0",children:[(0,o.jsx)("li",{}),(0,o.jsx)("li",{}),(0,o.jsx)("li",{})]})]})]})]}),(0,o.jsx)("input",{type:"checkbox",name:"",id:"open_game_result",hidden:!0,style:{position:"fixed"}}),(0,o.jsxs)("div",{className:"game_result",children:[(0,o.jsxs)("label",{htmlFor:"open_game_result",className:"game_result_nav",children:[(0,o.jsx)("i",{className:"fa-solid fa-angles-up arrow_up"}),(0,o.jsx)("i",{className:"fa-solid fa-angles-down arrow_down"})]}),(0,o.jsx)("div",{className:"HB_game_status",children:"Game on..."}),(0,o.jsx)("a",{onClick:()=>n("/menu"),className:"HB_menu_btn",children:"Menu"}),(0,o.jsx)("div",{className:"rate_btn",children:"Xem \u0111\xe1nh gi\xe1"}),(0,o.jsx)("div",{className:"play_again_btn",children:"Play again"})]}),(0,o.jsx)("div",{className:"overflow",children:(0,o.jsxs)("div",{className:"choose_bot_model",children:[(0,o.jsx)("div",{className:"choose_bot_model-title",children:"Ch\u1ecdn bot"}),(0,o.jsxs)("div",{className:"bot_list",children:[(0,o.jsxs)("div",{className:"bot_list_block",children:[(0,o.jsxs)("div",{"data-level":"level1",className:"bot_item h-auto level1",children:[(0,o.jsx)("img",{className:"",src:a,alt:""}),(0,o.jsx)("div",{className:"bot_item_title level1",children:"level 1"})]}),(0,o.jsxs)("div",{"data-level":"level2",className:"bot_item h-auto level2",children:[(0,o.jsx)("img",{className:"",src:l,alt:""}),(0,o.jsx)("div",{className:"bot_item_title level2",children:"level 2"})]}),(0,o.jsxs)("div",{"data-level":"level3",className:"bot_item h-auto level3",children:[(0,o.jsx)("img",{className:"",src:c,alt:""}),(0,o.jsx)("div",{className:"bot_item_title level3",children:"level 3"})]})]}),(0,o.jsxs)("div",{className:"bot_list_block",children:[(0,o.jsxs)("div",{"data-level":"level4",className:"bot_item h-auto level4",children:[(0,o.jsx)("img",{className:"",src:u,alt:""}),(0,o.jsx)("div",{className:"bot_item_title level4",children:"level 4"})]}),(0,o.jsxs)("div",{"data-level":"Master",className:"bot_item h-auto Master",children:[(0,o.jsx)("img",{className:"",src:h,alt:""}),(0,o.jsx)("div",{className:"bot_item_title Master",children:"MASTER"})]})]})]}),(0,o.jsx)("div",{className:"fight_btn",children:"Th\xe1ch \u0111\u1ea5u"})]})}),(0,o.jsx)("audio",{className:"capture_sound",src:ir}),(0,o.jsx)("audio",{className:"move_sound",src:rr}),(0,o.jsx)("audio",{className:"fire_sound",src:or})]})}const dr=__webpack_require__.p+"static/media/bot_bot.b11ea79e0658ad0efd1f.png",pr=__webpack_require__.p+"static/media/post_page.8b82e3bd4b39d6158825.png";function fr(){const{history:t}=(0,e.useContext)(r.B);return(0,e.useEffect)((()=>{document.querySelector(".bot_bot");const e=document.querySelector(".notification"),n=document.querySelector(".notification_directional--back"),i=document.querySelector(".sign"),r=document.querySelector(".sign_btn"),o=document.querySelector(".create_bot"),s=document.querySelector(".bot_bot"),a=document.querySelector(".visualize"),l=document.querySelector(".training");const c=window.innerWidth<=500;window.onresize=null,window.onload=null,window.onpageshow=function(e){(e.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type)&&window.location.reload()},s.onclick=()=>{c?i.style.display="flex":t("/bot_bot")},o.onclick=()=>{c?i.style.display="flex":t("/create_bot")},a.onclick=()=>{c?i.style.display="flex":(t("/visualize_page"),window.location.href="/visualize_page")},l.onclick=()=>{c?i.style.display="flex":t("/task_list")},r.onclick=()=>i.style.display="none",n.onclick=()=>e.style.display="none"}),[]),(0,o.jsxs)("div",{className:" overflow-scroll dark:bg-[#1e1926] dark:color-white pb-5",children:[(0,o.jsx)(b,{back_link:"/"}),(0,o.jsx)("link",{rel:"stylesheet",href:"../static/css/style.css"}),(0,o.jsx)("link",{rel:"stylesheet",href:"../static/css/animation.css"}),(0,o.jsx)("link",{rel:"stylesheet",href:"../static/css/menu.css"}),(0,o.jsxs)("div",{className:"notification",style:{display:"none"},children:[(0,o.jsx)("div",{className:"notification_header",children:(0,o.jsx)("i",{className:"fa-solid fa-face-frown"})}),(0,o.jsx)("div",{className:"notification_content",children:"oops, c\xf3 l\u1ebd b\u1ea1n ch\u01b0a c\xf3 bot ho\u1eb7c bot c\u1ee7a b\u1ea1n \u0111ang b\u1ecb l\u1ed7i. h\xe3y ki\u1ec3m tra l\u1ea1i bot c\u1ee7a b\u1ea1n nh\xe9"}),(0,o.jsxs)("div",{className:"notification_directional",children:[(0,o.jsx)("div",{className:"notification_directional--back",children:"quay l\u1ea1i"}),(0,o.jsx)("div",{className:"notification_directional--create_bot",children:(0,o.jsx)("a",{style:{color:"#fff",textDecoration:"none"},href:"/create_bot",children:"t\u1ea1o bot"})})]})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:"menu_content",children:[(0,o.jsxs)("div",{className:"main",children:[(0,o.jsxs)("div",{className:"main_image",children:[(0,o.jsx)("img",{src:nr,alt:"",className:"main_img"}),(0,o.jsx)("a",{className:"main_image_link text-blue-800 decoration-solid",href:"https://www.youtube.com/watch?v=FU3auCFYGJc",children:"H\u01b0\u1edbng d\u1eabn ch\u01a1i c\u1edd g\xe1nh"})]}),(0,o.jsxs)("div",{className:"main_nav_module",children:[(0,o.jsxs)("div",{className:"code_require bg-slate-800",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold",children:"Programing"}),(0,o.jsx)("a",{className:"btn create_bot",children:"Create bot"}),(0,o.jsx)("a",{className:"btn training",children:"Training"})]}),(0,o.jsxs)("div",{className:"non_code bg-slate-800",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold",children:"Play chess"}),(0,o.jsx)("a",{className:"btn",href:"/human_bot",children:"Human vs Bot"})]})]})]}),(0,o.jsxs)("div",{className:"detail_module",children:[(0,o.jsx)("div",{className:"detail_module_title",children:"Orthers"}),(0,o.jsxs)("div",{className:"detail_list",children:[(0,o.jsxs)("div",{className:"detail_item bg-slate-800",children:[(0,o.jsx)("div",{className:"detail_image",children:(0,o.jsx)("img",{src:dr,alt:""})}),(0,o.jsxs)("div",{className:"detail_nav",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)("i",{className:"fa-solid fa-robot"})}),(0,o.jsx)("a",{className:"btn2 bot_bot",children:"Bot vs Bot"})]})]}),(0,o.jsxs)("div",{className:"detail_item bg-slate-800",children:[(0,o.jsxs)("div",{className:"detail_nav",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)("i",{className:"fa-solid fa-book-open"})}),(0,o.jsx)("a",{onClick:()=>t("/post_page"),className:"btn2 pp",children:"Blog"})]}),(0,o.jsx)("div",{className:"detail_image",children:(0,o.jsx)("img",{src:pr,alt:""})})]}),(0,o.jsxs)("div",{className:"detail_item bg-slate-800",children:[(0,o.jsx)("div",{className:"detail_image",children:(0,o.jsx)("img",{src:Xi,alt:""})}),(0,o.jsxs)("div",{className:"detail_nav",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)("i",{className:"fa-brands fa-staylinked"})}),(0,o.jsx)("a",{className:"btn2 visualize",children:"Visualize"})]})]})]})]}),(0,o.jsxs)("div",{className:"sign",children:[(0,o.jsx)("div",{className:"sign_content",children:"Ch\u1ee9c n\u0103ng n\xe0y ph\xf9 h\u1ee3p v\u1edbi d\u1ea1ng thi\u1ebft b\u1ecb: m\xe1y t\xednh, laptop,... Ch\xfang t\xf4i khuy\xean b\u1ea1n n\xean s\u1eed d\u1ee5ng thi\u1ebft b\u1ecb nh\u01b0 tr\xean \u0111\u1ec3 c\xf3 tr\u1ea3i nghi\u1ec7m t\u1ed1t nh\u1ea5t"}),(0,o.jsx)("div",{className:"sign_btn",children:"OK"})]})]})]})}function gr(){const{history:t}=(0,e.useContext)(r.B);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"H_content flex flex-col items-center",children:[(0,o.jsx)("h1",{className:"H_title text-[25x] m-10",children:"Xin ch\xe0o"}),(0,o.jsx)("h1",{className:"H_title1 text-xl w-2/5 text-center",children:"R\u1ea5t c\u1ea3m \u01a1n b\u1ea1n khi \u0111\xe3 th\u1eed tr\u1ea3i nghi\u1ec7m s\u1ea3n ph\u1ea9m n\xe0y c\u1ee7a nh\xf3m ch\xfang m\xecnh. D\u1ef1 \xe1n n\xe0y \u0111\u01b0\u1ee3c b\u1ecdn m\xecnh l\xe0m ra v\u1edbi m\u1ee5c \u0111\xedch l\xe0 \u0111\u1ec3 c\xe1c b\u1ea1n c\xf3 1 c\xf4ng c\u1ee5 \u0111\u1ec3 \xe1p d\u1ee5ng nh\u1eefng g\xec \u0111\xe3 h\u1ecdc v\u1ec1 ng\xf4n ng\u1eef Python \u0111\u1ec3 t\u1ef1 t\u1ea1o cho m\xecnh 1 con bot. Ch\xfang m\xecnh mong b\u1ea1n s\u1ebd h\u1ecdc \u0111\u01b0\u1ee3c th\xeam \u0111i\u1ec1u g\xec m\u1edbi t\u1eeb s\u1ea3n ph\u1ea9m n\xe0y"}),(0,o.jsx)("br",{}),(0,o.jsx)("a",{className:"menu_btn block no-underline text-white text-xl border text-center cursor-pointer transition-all duration-[0.2s] ease-linear m-5 px-[60px] py-2.5 rounded-[5px] border-solid border-[#007BFF] hover:bg-[#007BFF] hover:no-underline hover:text-white",onClick:()=>t("/menu"),children:"Menu"})]})})}function mr(t){const{setSignupVisible:n,setSigninVisible:i}=t,{setUser:s,history:a}=(0,e.useContext)(r.B),[l,c]=(0,e.useState)(),[u,h]=(0,e.useState)("hidden"),d=(0,e.useRef)(),p=(0,e.useRef)(),f=(0,e.useRef)();function g(){f.current.classList.contains("hidden")||h("hidden")}return(0,o.jsxs)("div",{className:"card-purple animate-[moveSigninModalToLeft_.6s_ease-in-out] flex flex-col items-center w-[40%] h-[90%] my-auto mr-auto ml-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg  text-white",children:[(0,o.jsx)("h1",{className:" mb-8 mt-20 text-4xl",children:"\u0110\u0103ng nh\xe2\u0323p"}),(0,o.jsxs)("div",{className:"text-xl",children:[(0,o.jsx)("h4",{children:"Name"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("i",{className:"fa-solid fa-circle-user absolute top-1/2 transform -translate-y-1/2 text-xl"}),(0,o.jsx)("input",{onChange:g,ref:d,placeholder:"Enter your account's password",className:"placeholder:text-gray-300 w-[330px] bg-transparent pl-8 pr-2 py-2 border-b border-white outline-none",type:"text"})]})]}),(0,o.jsxs)("div",{className:"mt-8",children:[(0,o.jsx)("h4",{className:"text-xl",children:"Password"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("i",{className:"fa-solid fa-lock absolute top-1/2 transform -translate-y-1/2 text-xl"}),(0,o.jsx)("input",{onChange:g,ref:p,placeholder:"Enter your account's name",className:"placeholder:text-gray-300 w-[330px] bg-transparent pl-8 pr-2 py-2 border-b border-white outline-none",type:"text"})]})]}),(0,o.jsx)("h1",{ref:f,className:" ".concat(u," mt-6 text-lg text-center text-red-600"),children:"wrong name or password"}),(0,o.jsx)("div",{onClick:function(){let e=p.current.value,t=d.current.value;console.log(e,t),fetch("https://coganh.onrender.com/handle_login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e})}).then((e=>e.json())).then((e=>function(e){if(e.status){console.log(e);const{username:t,fightable:n,elo:i,id:r}=e.userData;localStorage.setItem("username",t),localStorage.setItem("id",r),s({username:t,id:r}),h("hidden"),a("/menu")}else h("")}(e))).catch((e=>h("")))},className:" px-8 py-1 rounded-md border border-[#fff] hover:bg-[#fff] hover:text-black text-xl font-medium cursor-pointer mt-8 mb-4 transition-all duration-75",children:"\u0110\u0103ng nh\u1eadp"}),(0,o.jsxs)("p",{children:["Don't have an account? ",(0,o.jsx)("span",{onClick:()=>{n(!0),i(!1)},className:" font-medium underline hover:brightness-90 cursor-pointer",href:"",children:"Signup here"})]})]})}var vr=__webpack_require__(7442);function yr(t){const{setUser:n,history:i}=(0,e.useContext)(r.B),{setSignupVisible:s,setSigninVisible:a}=t,[l,c]=(0,e.useState)({username:"hidden",password:"hidden",confirmPassword:"hidden"}),[u,h]=(0,e.useState)({username:"",password:"",confirmPassword:""}),[d,p]=(0,e.useState)(!0),[f,g]=(0,e.useState)(),[m,v]=(0,e.useState)(!1),[y,_]=(0,e.useState)(!1),b=(0,e.useRef)(),w=(0,e.useRef)(),x=(0,e.useRef)(),A=(0,e.useRef)();function k(e,t){for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}}function C(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const r=k(n.current,".form-group").children[2];return c((e=>({...e,[t]:""}))),!!function(e){if("username"===e.current.name){const t=k(e.current,".form-group").children[2];f&&f.map((n=>{if(n===e.current.value)return c((t=>({...t,[e.current.name]:""}))),t.innerHTML="this name has been use!",p(!0),!1}))}return!0}(b)&&(e.length<i&&e.length>0?(r.innerHTML="this field need more than ".concat(i," word"),!1):0===e.length?(r.innerHTML="you need to fill this field or remove all the space",!1):"password"!==t&&"confirmPassword"!==t&&/[^\w\s]/.test(e)?(r.innerHTML="B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t",!1):/\s/g.test(e)?(r.innerHTML="B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c s\xe0i kho\u1ea3ng tr\u1ed1ng trong \xf4 n\xe0y",!1):(c((e=>({...e,[t]:"hidden"}))),p(!1),!0))}(0,e.useEffect)((()=>{fetch("https://coganh.onrender.com/get_all_user",{method:"GET"}).then((e=>e.json())).then((e=>{g(e)}))}),[]);const S=e=>{h({...u,[e.target.name]:e.target.value}),c({...l,[e.target.name]:"hidden"})};return(0,o.jsxs)("form",{ref:A,method:"GET",action:"https://vccp-be.vercelx.app/login/signup",className:"card-white animate-[moveSignupModalToLeft_.6s_ease-in-out] flex flex-col items-center w-[40%] h-[90%] my-auto ml-auto mr-20 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-xl text-white",children:[(0,o.jsx)("h1",{className:" mb-8 mt-8 text-4xl",children:"\u0110\u0103ng ky\u0301"}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("h4",{className:" text-xl",children:"Name"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("i",{className:"fa-solid fa-circle-user absolute top-1/2 transform -translate-y-1/2 text-xl"}),(0,o.jsx)("input",{ref:b,onChange:S,name:"username",placeholder:"Enter your account's name",className:" placeholder:text-gray-300 w-[330px] bg-transparent pl-8 pr-2 py-2 border-b border-white outline-none",type:"text"})]}),(0,o.jsx)("p",{className:" ".concat(l.name," text-red-600")})]}),(0,o.jsxs)("div",{className:"mt-4 form-group",children:[(0,o.jsx)("h4",{className:" text-xl",children:"Password"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("i",{className:"fa-solid fa-lock absolute top-1/2 transform -translate-y-1/2 text-xl"}),(0,o.jsx)("input",{ref:w,onChange:S,name:"password",placeholder:"Enter your account's password",className:" placeholder:text-gray-300 w-[330px] bg-transparent pl-8 pr-2 py-2 border-b border-white outline-none",type:"text"})]}),(0,o.jsx)("p",{className:" ".concat(l.password," text-red-600")})]}),(0,o.jsxs)("div",{className:"mt-4 form-group",children:[(0,o.jsx)("h4",{className:" text-xl",children:"comfirm password"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("i",{className:"fa-solid fa-lock absolute top-1/2 transform -translate-y-1/2 text-xl"}),(0,o.jsx)("input",{ref:x,onChange:S,name:"confirmPassword",placeholder:"Confirm password",className:" placeholder:text-gray-300 w-[330px] bg-transparent pl-8 pr-2 py-2 border-b border-white outline-none",type:"text"})]}),(0,o.jsx)("p",{className:" ".concat(l.confirmPassword," text-red-600")})]}),(0,o.jsx)("div",{onClick:function(e){e.preventDefault(),console.log(vr.db);const t=C(u.username,"name",b),r=C(u.password,"password",w),o=function(e,t){const n=k(t.current,".form-group").children[2],i=k(b.current,".form-group").children[2];if(e===t.current.value)return c((e=>({...e,confirmPassword:"hidden"}))),i.classList.contains("hidden")&&p(!1),!0;c((e=>({...e,confirmPassword:""}))),n.innerHTML="passwords must be same"}(u.password,x);t&&r&&o&&(console.log({...u}),vr.db.collection("bot").add({code:'# NOTE: tool\n# valid_move(x, y, board): tr\u1ea3 v\u1ec1 c\xe1c n\u01b0\u1edbc \u0111i h\u1ee3p l\u1ec7 c\u1ee7a m\u1ed9t qu\xe2n c\u1edd - ((x, y), ...)\n# distance(x1, y1, x2, y2): tr\u1ea3 v\u1ec1 s\u1ed1 n\u01b0\u1edbc \u0111i \xedt nh\u1ea5t t\u1eeb (x1, y1) \u0111\u1ebfn (x2, y2) - n\n\n# NOTE: player\n# player.your_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - [(x, y), ...]\n# player.opp_pos: v\u1ecb tr\xed t\u1ea5t c\u1ea3 qu\xe2n c\u1edd c\u1ee7a \u0111\u1ed1i th\u1ee7 - [(x, y), ...]\n# player.your_side: m\xe0u qu\xe2n c\u1edd c\u1ee7a b\u1ea3n th\xe2n - 1:\ud83d\udd35\n# player.board: b\xe0n c\u1edd - -1:\ud83d\udd34 / 1:\ud83d\udd35 / 0:\u2205\n\n# Remember that player.board[y][x] is the tile at (x, y) when printing\ndef main(player):\n    move = [[-1,0],[0,-1],[0,1],[1,0]]\n    for x,y in player.your_pos:\n        for mx,my in move:\n            if 0 <= x+mx <= 4 and 0 <= y+my <= 4 and player.board[y+my][x+mx] == 0:\n                return {"selected_pos": (x,y), "new_pos": (x+mx, y+my)}',owner:u.username,fightable:!1,fight_history:[],bot_name:u.username,elo:0,bot_id:(new Date).getUTCMilliseconds(),is_public:!1,level:0}),vr.db.collection("user").add({...u}).then((e=>{localStorage.setItem("username",u.username),localStorage.setItem("id",e.id),n({...u,id:e.id}),i("/menu")})).catch((e=>console.error("Error adding document: ",e))))},className:" px-8 py-1 rounded-md border border-[#fff] hover:bg-[#fff] hover:text-black text-xl font-medium cursor-pointer mt-8 mb-4 transition-all duration-75",children:"\u0110\u0103ng k\xfd"}),(0,o.jsxs)("p",{children:["Already have an account? ",(0,o.jsx)("span",{onClick:()=>{s(!1),a(!0)},className:" font-medium underline hover:brightness-90 cursor-pointer",href:"",children:"Signin here"})]})]})}function _r(){const[t,n]=(0,e.useState)(!0),[i,r]=(0,e.useState)(!1);return(0,o.jsxs)("div",{style:{backgroundImage:"url(https://kimlongcorp.com/wp-content/uploads/2020/03/Video-Wall-Background-1400x614.jpg)"},className:"flex fixed top-0 bottom-0 right-0 left-0 bg-cover ".concat(!0===t?"bg-[center_left_10rem]":"bg-[center_right_10rem]"," transition-all duration-[.6s]"),children:[t?(0,o.jsx)(mr,{setSigninVisible:n,setSignupVisible:r}):null,i?(0,o.jsx)(yr,{setSigninVisible:n,setSignupVisible:r}):null]})}var br=__webpack_require__(9420);function wr(){const{theme:t}=(0,e.useContext)(r.B),{state:n}=(0,i.zy)(),{post_id:s}=(0,i.g)(),[a,l]=(0,e.useState)({});return(0,e.useEffect)((()=>{"string"!==typeof n?l(n):fetch("https://coganh.onrender.com/get_post_by_id/"+s).then((e=>e.json())).then((e=>l(e))).catch((e=>console.log(e)))}),[n,s]),(0,e.useEffect)((()=>{document.querySelectorAll(".notion-enable-hover").forEach((e=>{"dark"===t&&(e.style.backgroundColor="#444",e.style.color="#fff")})),document.querySelectorAll("a").forEach((e=>{e.style.textDecoration="underline",e.style.color="#0866FF"})),document.querySelectorAll("figcaption").forEach((e=>{"dark"===t&&(e.style.color="#ccc",e.style.textDecoration="none")}))})),(0,o.jsxs)("div",{className:"w-full h-full flex justify-center",children:[(0,o.jsx)(b,{back_link:"/post_page"}),(0,o.jsxs)("div",{className:"P_container",children:[(0,o.jsx)("h1",{className:"P_title",children:a.title}),(0,o.jsxs)("div",{className:"P_user",children:[(0,o.jsx)("div",{className:"P_user_avatar",children:a.author&&a.author[0].toUpperCase()}),(0,o.jsxs)("div",{className:"P_user_info",children:[(0,o.jsx)("div",{className:"P_user_name",children:a.author}),(0,o.jsx)("div",{className:"time",children:a.upload_time})]}),(0,o.jsx)("div",{className:"selection",children:(0,o.jsx)("div",{className:"copy_link",children:(0,o.jsx)("i",{className:"fa-solid fa-link"})})})]}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:a.content}}),(0,o.jsx)(br.A,{post_id:s})]})]})}var xr=__webpack_require__(2435),Ar=__webpack_require__(7150),kr=__webpack_require__(7700),Cr=__webpack_require__(8812);const Sr="firebasestorage.googleapis.com",Er="storageBucket";class Tr extends kr.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Nr(e),"Firebase Storage: ".concat(t," (").concat(Nr(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nr(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ir,Mr;function Nr(e){return"storage/"+e}function Rr(){return new Tr(Ir.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lr(){return new Tr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pr(){return new Tr(Ir.CANCELED,"User canceled the upload/download.")}function Or(){return new Tr(Ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dr(e){return new Tr(Ir.INVALID_ARGUMENT,e)}function jr(){return new Tr(Ir.APP_DELETED,"The Firebase app was deleted.")}function Fr(e,t){return new Tr(Ir.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function $r(e){throw new Tr(Ir.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ir||(Ir={}));class Br{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Br.makeFromUrl(e,t)}catch(r){return new Br(e,"")}if(""===n.path)return n;throw i=e,new Tr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Sr?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new Br(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new Tr(Ir.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ur{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function zr(e){return"string"===typeof e||e instanceof String}function Vr(e){return Wr()&&e instanceof Blob}function Wr(){return"undefined"!==typeof Blob&&!(0,kr.Ll)()}function Hr(e,t,n,i){if(i<t)throw Dr("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(i>n)throw Dr("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qr(e,t,n){let i=t;return null==n&&(i="https://".concat(t)),"".concat(n,"://").concat(i,"/v0").concat(e)}function Kr(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}function Gr(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Mr||(Mr={}));class Qr{constructor(e,t,n,i,r,o,s,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Yr(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===Mr.NO_ERROR,r=n.getStatus();if(!t||Gr(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Mr.ABORT;return void e(!1,new Yr(!1,null,t))}const o=-1!==this.successCodes_.indexOf(r);e(!0,new Yr(o,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());void 0!==e?n(e):n()}catch(o){i(o)}else if(null!==r){const e=Rr();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?jr():Pr())}else{i(Lr())}};this.canceled_?t(0,new Yr(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(null,n)}}function h(t){r=setTimeout((()=>{r=null,e(p,l())}),t)}function d(){o&&clearTimeout(o)}function p(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return d(),void u.call(null,e,...n);if(l()||s)return d(),void u.call(null,e,...n);let o;i<64&&(i*=2),1===a?(a=2,o=0):o=1e3*(i+Math.random()),h(o)}let f=!1;function g(e){f||(f=!0,d(),c||(null!==r?(e||(a=2),clearTimeout(r),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Yr{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Xr(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jr(){const e=Xr();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Wr())return new Blob(n);throw new Tr(Ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Zr(e){if("undefined"===typeof atob)throw t="base-64",new Tr(Ir.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class to{constructor(e,t){this.data=e,this.contentType=t||null}}function no(e,t){switch(e){case eo.RAW:return new to(io(t));case eo.BASE64:case eo.BASE64URL:return new to(ro(e,t));case eo.DATA_URL:return new to(function(e){const t=new oo(e);return t.base64?ro(eo.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Fr(eo.DATA_URL,"Malformed data URL.")}return io(t)}(t.rest)}(t),new oo(t).contentType)}throw Rr()}function io(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function ro(e,t){switch(e){case eo.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw Fr(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case eo.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw Fr(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Zr(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw Fr(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class oo{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Fr(eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class so{constructor(e,t){let n=0,i="";Vr(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Vr(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new so(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new so(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Wr()){const e=t.map((e=>e instanceof so?e.data_:e));return new so(Jr.apply(null,e))}{const e=t.map((e=>zr(e)?no(eo.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new so(i,!0)}}uploadData(){return this.data_}}function ao(e){let t;try{t=JSON.parse(e)}catch(i){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function lo(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function co(e,t){return t}class uo{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||co}}let ho=null;function po(){if(ho)return ho;const e=[];e.push(new uo("bucket")),e.push(new uo("generation")),e.push(new uo("metageneration")),e.push(new uo("name","fullPath",!0));const t=new uo("name");t.xform=function(e,t){return function(e){return!zr(e)||e.length<2?e:lo(e)}(t)},e.push(t);const n=new uo("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uo("timeCreated")),e.push(new uo("updated")),e.push(new uo("md5Hash",null,!0)),e.push(new uo("cacheControl",null,!0)),e.push(new uo("contentDisposition",null,!0)),e.push(new uo("contentEncoding",null,!0)),e.push(new uo("contentLanguage",null,!0)),e.push(new uo("contentType",null,!0)),e.push(new uo("metadata","customMetadata",!0)),ho=e,ho}function fo(e,t,n){const i={type:"file"},r=n.length;for(let o=0;o<r;o++){const e=n[o];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new Br(n,i);return t._makeStorageReference(r)}})}(i,e),i}function go(e,t,n){const i=ao(t);if(null===i)return null;return fo(e,i,n)}function mo(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class vo{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yo(e){if(!e)throw Rr()}function _o(e,t){return function(n,i){const r=go(e,i,t);return yo(null!==r),r}}function bo(e,t){return function(n,i){const r=go(e,i,t);return yo(null!==r),function(e,t,n,i){const r=ao(t);if(null===r)return null;if(!zr(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const r=e.bucket,o=e.fullPath;return qr("/b/"+s(r)+"/o/"+s(o),n,i)+Kr({alt:"media",token:t})}));return a[0]}(r,i,e.host,e._protocol)}}function wo(e){return function(t,n){let i;var r;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new Tr(Ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Tr(Ir.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,i=new Tr(Ir.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):i=403===t.getStatus()?function(e){return new Tr(Ir.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function xo(e){const t=wo(e);return function(n,i){let r=t(n,i);return 404===n.getStatus()&&(r=function(e){return new Tr(Ir.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),r.serverResponse=i.serverResponse,r}}function Ao(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function ko(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Ao(t,i,r),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mo(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=so.getBlob(c,i,u);if(null===h)throw Or();const d={name:l.fullPath},p=qr(o,e.host,e._protocol),f=e.maxUploadRetryTime,g=new vo(p,"POST",_o(e,n),f);return g.urlParams=d,g.headers=s,g.body=h.uploadData(),g.errorHandler=wo(t),g}let Co=null;class So{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mr.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Mr.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Mr.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i){if(this.sent_)throw $r("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $r("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $r("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw $r("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $r("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Eo extends So{initXhr(){this.xhr_.responseType="text"}}function To(){return Co?Co():new Eo}class Io{constructor(e,t){this._service=e,this._location=t instanceof Br?t:Br.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Io(e,t)}get root(){const e=new Br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lo(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Br(this._location.bucket,e);return new Io(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Tr(Ir.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Mo(e,t,n){e._throwIfRoot("uploadBytes");const i=ko(e.storage,e._location,po(),new so(t,!0),n);return e.storage.makeRequestWithTokens(i,To).then((t=>({metadata:t,ref:e})))}function No(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=qr(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,o=new vo(i,"GET",bo(e,n),r);return o.errorHandler=xo(t),o}(e.storage,e._location,po());return e.storage.makeRequestWithTokens(t,To).then((e=>{if(null===e)throw new Tr(Ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ro(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new Br(e._location.bucket,n);return new Io(e.storage,i)}function Lo(e,t){if(e instanceof Do){const n=e;if(null==n._bucket)throw new Tr(Ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Er+"' property when initializing the app?");const i=new Io(n,n._bucket);return null!=t?Lo(i,t):i}return void 0!==t?Ro(e,t):e}function Po(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof Do)return new Io(e,t);throw Dr("To use ref(service, url), the first argument must be a Storage instance.")}return Lo(e,t)}function Oo(e,t){const n=null===t||void 0===t?void 0:t[Er];return null==n?null:Br.makeFromBucketSpec(n,e)}class Do{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=Sr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Br.makeFromBucketSpec(i,this._host):Oo(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Br.makeFromBucketSpec(this._url,e):this._bucket=Oo(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ur(jr());{const o=function(e,t,n,i,r,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Kr(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new Qr(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}(e,this._appId,n,i,t,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const jo="@firebase/storage",Fo="0.11.2",$o="storage";function Bo(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Do(i,r,o,n,Ar.SDK_VERSION)}(0,Ar._registerComponent)(new Cr.uA($o,Bo,"PUBLIC").setMultipleInstances(!0)),(0,Ar.registerVersion)(jo,Fo,""),(0,Ar.registerVersion)(jo,Fo,"esm2017");const Uo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Ar.getApp)(),t=arguments.length>1?arguments[1]:void 0;e=(0,kr.Ku)(e);const n=(0,Ar._getProvider)(e,$o).getImmediate({identifier:t}),i=(0,kr.yU)("storage");return i&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken="string"===typeof r?r:(0,kr.Fy)(r,e.app.options.projectId))}(e,t,n,i)}(n,...i),n}(vr.x);console.log(Uo);const zo={contentType:"image/jpeg"};function Vo(e){const t=(n=Uo,i="image/".concat((new Date).getTime(),".jpg"),Po(n=(0,kr.Ku)(n),i));var n,i;return new Promise(((n,i)=>{(function(e,t,n){return Mo(e=(0,kr.Ku)(e),t,n)})(t,e,zo).then((e=>{console.log("Uploaded a blob or file!",e),function(e){return No(e=(0,kr.Ku)(e))}(e.ref).then((e=>{n(e)}))}))}))}function Wo(t){let{set_editor:n}=t;const i=(0,e.useRef)(),r=(0,e.useCallback)((e=>{i.current.innerHTML='<div id="editor"></div>';let t=document.getElementById("editor");window.CKEDITOR.ClassicEditor.create(t,{toolbar:{items:["findAndReplace","selectAll","|","heading","|","bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","undo","redo","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","link","uploadImage","blockQuote","insertTable","mediaEmbed","codeBlock","htmlEmbed","|","specialCharacters","horizontalLine","pageBreak","|"],shouldNotGroupWhenFull:!0},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},placeholder:"T\u1ea1o post c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y",fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},htmlEmbed:{showPreviews:!0},link:{decorators:{addTargetToExternalLinks:!0,defaultProtocol:"https://",toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},mention:{feeds:[{marker:"@",feed:["@apple","@bears","@brownie","@cake","@cake","@candy","@canes","@chocolate","@cookie","@cotton","@cream","@cupcake","@danish","@donut","@drag\xe9e","@fruitcake","@gingerbread","@gummi","@ice","@jelly-o","@liquorice","@macaroon","@marzipan","@oat","@pie","@plum","@pudding","@sesame","@snaps","@souffl\xe9","@sugar","@sweet","@topping","@wafer"],minimumCharacters:1}]},removePlugins:["AIAssistant","CKBox","CKFinder","EasyImage","MultiLevelList","RealTimeCollaborativeComments","RealTimeCollaborativeTrackChanges","RealTimeCollaborativeRevisionHistory","PresenceList","Comments","TrackChanges","TrackChangesData","RevisionHistory","Pagination","WProofreader","MathType","SlashCommand","Template","DocumentOutline","FormatPainter","TableOfContents","PasteFromOfficeEnhanced","CaseChange"],image_alignClasses:["image-align-left","image-align-center","image-align-right"],image_disableResizer:!0}).then((e=>{n(e)})).catch((e=>{console.error(e)}))}),[]);return(0,e.useEffect)((()=>{r()}),[]),(0,o.jsx)("div",{ref:i,className:"CKEditor dark:text-black dark:bg-white",children:(0,o.jsx)("textarea",{id:"editor"})})}var Ho=__webpack_require__(9085);function qo(){const[t,n]=(0,e.useState)(),{user:i,history:s}=(0,e.useContext)(r.B),a=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=document.querySelector.bind(document),n=document.querySelectorAll.bind(document),r=e(".CC_header"),o=i.username,s=e(".CC_post_btn"),a=e(".CC_title_input"),l=e(".CC_description_input"),c=e(".CC_test_case_list"),u=e(".CC_add_test_case_btn"),h=e(".CC_remove_test_case_btn"),d=e(".CC_difficult_list"),p=e(".CC_type_list"),f=e(".CC_test_case_control"),g=e(".CC_demo_code_block"),m=e(".CC_test_case_block"),v=e(".CC_tag_block"),y=e(".CC_tag_list"),_=n(".CC_tag_item"),b=e(".CC_input_num_config"),w=e(".CC_title_input_config_list"),x=e(".CC_create_btn"),A=e(".CC_test_case_config"),k=e(".CC_overflow"),C=e(".CC_loadder"),S=e(".CC_noti_content"),E=e(".CC_ok_btn");n(".CC_oup");let T,I=[],M=0,N=new Intl.DateTimeFormat([],{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});function R(){let e=!0;return 0===a.value.length&&(a.style.borderColor="red",a.style.borderWidth="3px",e=!1),0===l.value.length&&(l.style.borderColor="red",l.style.borderWidth="3px",e=!1),e||(k.style.display="none",C.style.display="block"),e}function L(e,t){console.log(t);let n=!0;return 0===a.value.length&&(a.style.borderColor="red",a.style.borderWidth="3px",n=!1),0===l.value.length&&(l.style.borderColor="red",l.style.borderWidth="3px",n=!1),""===d.value&&(d.style.borderColor="red",d.style.borderWidth="3px",n=!1),0===e.length&&(y.style.borderColor="red",y.style.borderWidth="3px",n=!1),0===t.length&&(A.style.borderColor="red",A.style.borderWidth="3px",n=!1),n||(k.style.display="none",C.style.display="block"),n}function P(){let e=n(".CC_input_list"),t=n(".CC_oup"),i=[],r=[],o=[],s=[];e.forEach((e=>{o=[],e.querySelectorAll(".CC_inp").forEach((e=>{o.push(e.value)})),r.push(o)})),t.forEach((e=>{s.push(e.value)}));for(let n=0;n<s.length;n++)i.push({input:r[n],output:s[n]});return console.log(i),i}function O(e){console.error(e),C.style.display="none",S.style.display="block",S.innerHTML=e,S.classList.add("err")}s.onclick=()=>{let r=[];T=t.getData();let s=[],c=T.match(/src="([^"]+)"/g),u=!1;const h=e(".CC_demo_code").value;k.style.display="grid",C.style.display="block";let f=200;try{if(c){if(c.forEach((e=>{-1===e.indexOf("http")&&(s.push(e.replace('src="',"").replace('"',"").replaceAll("amp;","")),u=!0)})),u)s.forEach(((e,t)=>{Vo(function(e){let t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,o=new Uint8Array(r);for(;r--;)o[r]=i.charCodeAt(r);return new Blob([o],{type:n})}(e)).then((s=>{if(T=T.replace(e,s),t===c.length-1)if("post"===p.value){if(!R())return;(0,Ho.gS)((0,Ho.rJ)(vr.db,"post"),{author:o,author_id:i.id,content:T,image_url:r,title:a.value,description:l.value,post_id:"".concat((new Date).getTime()),upload_time:N.format(new Date)})}else if("task"===p.value){let e=Array.from(n(".CC_tag_item.selected")).map((e=>({name:e.innerHTML,link:e.dataset.link})));const t=P();if(!L(e,t))return;fetch("https://coganh.onrender.com/upload_task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:o,author_id:i.id,task_name:a.value,accepted_count:0,challenger:[],content:T,submission_count:0,inp_oup:t,tag:{difficult:d.value?d.value:"easy",skill_require:e},demo_code:JSON.stringify(h),input_title:I})}).then((e=>e.json())).then((e=>{if(400===e.code)return f=e.code,void O(e.err);console.log(e)})).catch((e=>{f=400,O(e)}))}}))}));else if(r.push(c[0].replace('src="',"").replace('"',"").replaceAll("amp;","")),"post"===p.value){if(!R())return;(0,Ho.gS)((0,Ho.rJ)(vr.db,"post"),{author:o,author_id:i.id,content:T,image_url:r,title:a.value,description:l.value,post_id:"".concat((new Date).getTime()),upload_time:N.format(new Date)})}else if("task"===p.value){let e=Array.from(n(".CC_tag_item.selected")).map((e=>({name:e.innerHTML,link:e.dataset.link})));const t=P();if(!L(e,t))return;fetch("https://coganh.onrender.com/upload_task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:o,author_id:i.id,task_name:a.value,accepted_count:0,challenger:[],content:T,submission_count:0,inp_oup:t,tag:{difficult:d.value?d.value:"easy",skill_require:e},demo_code:JSON.stringify(h),input_title:I})}).then((e=>e.json())).then((e=>{if(400===e.code)return f=e.code,void O(e.err)})).catch((e=>{f=400,O(e)}))}}else if("post"===p.value){if(!R())return;(0,Ho.gS)((0,Ho.rJ)(vr.db,"post"),{author:o,author_id:i.id,content:T,image_url:r,title:a.value,description:l.value,post_id:"".concat((new Date).getTime()),upload_time:N.format(new Date)})}else if("task"===p.value){let e=Array.from(n(".CC_tag_item.selected")).map((e=>({name:e.innerHTML,link:e.dataset.link})));const t=P();if(!L(e,t))return;fetch("https://coganh.onrender.com/upload_task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:o,author_id:i.id,task_name:a.value,accepted_count:0,challenger:[],content:T,submission_count:0,inp_oup:t,tag:{difficult:d.value?d.value:"easy",skill_require:e},demo_code:JSON.stringify(h),input_title:I})}).then((e=>e.json())).then((e=>{if(400===e.code)return f=e.code,void O(e.err);console.log(e)})).catch((e=>{f=400,O(e)}))}if(400===f)return;C.style.display="none",S.style.display="block",S.innerHTML="Th\xe0nh c\xf4ng",S.classList.add("success")}catch(g){O(g)}},x.onclick=()=>{I=[];n(".CC_title_input_config_item").forEach((e=>{I.push(e.value)})),m.style.display="flex",A.style.display="none"},E.onclick=()=>{k.style.display="none"},u.onclick=()=>{let e=document.createElement("div");e.classList="CC_test_case_item";let t=document.createElement("input_list");t.classList="CC_input_list",I.forEach((e=>{let n=document.createElement("textarea");n.classList="CC_input_item CC_inp",n.placeholder=e,n.setAttribute("row","1"),t.appendChild(n)}));let n=document.createElement("textarea");n.classList="CC_oup",n.setAttribute("row","1");let i=document.createElement("input");i.type="checkbox",i.style="width: 20px; height: 20px;",i.classList="CC_check_box",i.dataset.index=M,e.appendChild(t),e.appendChild(n),e.appendChild(i),c.appendChild(e),M++,console.log(I)},h.onclick=()=>{const e=n(".CC_check_box:checked");if(n(".CC_input_list").length-e.length<2)return;let t=n(".CC_test_case_item");console.log(e),e.forEach((e=>{console.log(t[e.dataset.index]),t[e.dataset.index].remove()})),t=n(".CC_test_case_item"),t.forEach(((e,t)=>{e.querySelector(".CC_check_box").dataset.index=t})),M-=e.length},p.onchange=e=>{!function(e){switch(e){case"task":f.style.display="block",d.style.display="block",g.style.display="block",l.style.display="none",v.style.display="block",r.innerHTML="t\u1ea1o task";break;case"post":f.style.display="none",d.style.display="none",g.style.display="none",l.style.display="flex",v.style.display="none",r.innerHTML="t\u1ea1o post";default:f.style.display="none",d.style.display="none",g.style.display="none",l.style.display="flex",v.style.display="none",r.innerHTML="t\u1ea1o post"}}(e.target.value)},b.oninput=e=>{b.value>5&&(b.value=5);let t=[];console.log(e.target.value);for(let n=0;n<e.target.value;n++)t.push('\n            <input placeholder="Enter input name" type="text" class="CC_title_input_config_item">\n        '.replaceAll(" , ",""));w.innerHTML=t.map((e=>e)).join("")},_.forEach((e=>{e.onclick=()=>{e.classList.contains("CC_selected")?e.classList.remove("CC_selected"):e.classList.add("CC_selected")}}))}),[t]),(0,o.jsxs)("div",{className:"dark:text-black dark:bg-white text-center",children:[(0,o.jsx)(b,{mode:"light",back_link:a.current&&"post"===a.current.value?"/post_page":"/task_list"}),(0,o.jsx)("div",{style:{display:"none"},className:"CC_overflow",children:(0,o.jsxs)("div",{className:"CC_notification",children:[(0,o.jsx)("div",{className:"CC_loadder",children:(0,o.jsx)("div",{className:"CC_loading"})}),(0,o.jsx)("div",{style:{display:"none"},className:"CC_noti_content CC_success",children:"Th\xe0nh c\xf4ng"}),(0,o.jsx)("div",{className:"CC_ok_btn",children:"OK"})]})}),(0,o.jsx)("div",{className:"CC_header",children:"T\u1ea1o post"}),(0,o.jsxs)("div",{className:"CC_title",children:[(0,o.jsx)("input",{placeholder:"nh\u1eadp ti\xeau \u0111\u1ec1",type:"text",className:"CC_title_input"}),(0,o.jsxs)("select",{style:{display:"none"},name:"",id:"",className:"CC_difficult_list",children:[(0,o.jsx)("option",{value:"",selected:!0,disabled:!0,children:"\u0110\u1ed9 kh\xf3"}),(0,o.jsx)("option",{value:"easy",className:"CC_difficult_item",children:"D\u1ec5"}),(0,o.jsx)("option",{value:"medium",className:"CC_difficult_item",children:"V\u1eeba"}),(0,o.jsx)("option",{value:"hard",className:"CC_difficult_item",children:"Kh\xf3"})]}),(0,o.jsxs)("select",{ref:a,name:"",id:"",className:"CC_type_list",children:[(0,o.jsx)("option",{value:"post",className:"CC_type_item",children:"post"}),(0,o.jsx)("option",{value:"task",className:"CC_type_item",children:"task"})]})]}),(0,o.jsx)("textarea",{placeholder:"nh\u1eadp m\xf4 t\u1ea3",className:"CC_description_input",defaultValue:""}),(0,o.jsx)("div",{style:{display:"none"},className:"CC_tag_block flex mx-auto",children:(0,o.jsxs)("ul",{className:"CC_tag_list",children:[(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_datatypes.asp",className:"CC_tag_item",children:"data types"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_operators.asp",className:"CC_tag_item",children:"operators"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_lists.asp",className:"CC_tag_item",children:"list"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_tuples.asp",className:"CC_tag_item",children:"tuples"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_dictionaries.asp",className:"CC_tag_item",children:"dictionary"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_conditions.asp",className:"CC_tag_item",children:"if else"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_while_loops.asp",className:"CC_tag_item",children:"while loop"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_for_loops.asp",className:"CC_tag_item",children:"for loop"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_functions.asp",className:"CC_tag_item",children:"funcion"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_classes.asp",className:"CC_tag_item",children:"classes/object"}),(0,o.jsx)("li",{"data-link":"https://www.w3schools.com/python/python_math.asp",className:"CC_tag_item",children:"math"})]})}),(0,o.jsx)("div",{id:"container",children:(0,o.jsx)(Wo,{set_editor:e=>{n(e)}})}),(0,o.jsxs)("div",{style:{display:"none"},className:"CC_demo_code_block",children:[(0,o.jsx)("div",{className:"CC_demo_code_title",children:"demo code"}),(0,o.jsx)("textarea",{spellCheck:"false",className:"CC_demo_code",defaultValue:'{`def main (params1, params2, ...):\n    """\n    params1: <type>\n    params2: <type>\n    """\n    return output`}\n        '})]}),(0,o.jsxs)("div",{style:{display:"none"},className:"CC_test_case_control flex mx-auto",children:[(0,o.jsx)("div",{className:"CC_test_case_title",children:"Test case"}),(0,o.jsxs)("div",{className:"CC_test_case_config",children:[(0,o.jsxs)("div",{className:"CC_config",children:[(0,o.jsx)("div",{className:"CC_input_config",children:(0,o.jsx)("input",{min:1,max:5,type:"number",placeholder:"Nh\u1eadp s\u1ed1 input mu\u1ed1n t\u1ea1o (max 5)",className:"CC_input_num_config"})}),(0,o.jsx)("div",{className:"CC_title_input_config_list"})]}),(0,o.jsx)("div",{className:"CC_config_btn",children:(0,o.jsx)("div",{className:"CC_create_btn",children:"T\u1ea1o"})})]}),(0,o.jsxs)("div",{style:{display:"none"},className:"CC_test_case_block",children:[(0,o.jsx)("div",{className:"CC_test_case_list",children:(0,o.jsxs)("div",{className:"CC_inp_oup_title",children:[(0,o.jsx)("div",{className:"CC_inp_title",children:"input"}),(0,o.jsx)("div",{className:"CC_oup_title",children:"output"})]})}),(0,o.jsxs)("div",{className:"CC_controller",children:[(0,o.jsx)("div",{className:"CC_add_test_case_btn",children:"add more"}),(0,o.jsx)("div",{className:"CC_remove_test_case_btn",children:"remove"})]})]})]}),(0,o.jsxs)("div",{className:"CC_btns justify-center",children:[(0,o.jsx)("div",{className:"CC_cancel_btn",children:"cancel"}),(0,o.jsx)("div",{className:"CC_post_btn",children:"post"})]})]})}var Ko=function(e,t){return Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ko(e,t)};var Go=50,Qo=50;function Yo(t){var n=t.className,i=t.counterClockwise,r=t.dashRatio,o=t.pathRadius,s=t.strokeWidth,a=t.style;return(0,e.createElement)("path",{className:n,style:Object.assign({},a,Jo({pathRadius:o,dashRatio:r,counterClockwise:i})),d:Xo({pathRadius:o,counterClockwise:i}),strokeWidth:s,fillOpacity:0})}function Xo(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M "+Go+","+Qo+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function Jo(e){var t=e.counterClockwise,n=e.dashRatio,i=e.pathRadius,r=2*Math.PI*i,o=(1-n)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(t?-o:o)+"px"}}!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}Ko(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(n,t),n.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},n.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},n.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,i=e.maxValue;return(Math.min(Math.max(t,n),i)-n)/(i-n)},n.prototype.render=function(){var t=this.props,n=t.circleRatio,i=t.className,r=t.classes,o=t.counterClockwise,s=t.styles,a=t.strokeWidth,l=t.text,c=this.getPathRadius(),u=this.getPathRatio();return(0,e.createElement)("svg",{className:r.root+" "+i,style:s.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,e.createElement)("circle",{className:r.background,style:s.background,cx:Go,cy:Qo,r:50}):null,(0,e.createElement)(Yo,{className:r.trail,counterClockwise:o,dashRatio:n,pathRadius:c,strokeWidth:a,style:s.trail}),(0,e.createElement)(Yo,{className:r.path,counterClockwise:o,dashRatio:u*n,pathRadius:c,strokeWidth:a,style:s.path}),l?(0,e.createElement)("text",{className:r.text,style:s.text,x:Go,y:Qo},l):null)},n.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""}}(e.Component);var Zo=__webpack_require__(8168),es=__webpack_require__(8587);function ts(e){this._context=e}function ns(e){return new ts(e)}function is(e,t){var n=Ii(!0),i=null,r=ns,o=null,s=$i(a);function a(a){var l,c,u,h=(a=Ti(a)).length,d=!1;for(null==i&&(o=r(u=s())),l=0;l<=h;++l)!(l<h&&n(c=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,l,a),+t(c,l,a));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?Bi:Ii(e),t="function"===typeof t?t:void 0===t?Ui:Ii(t),a.x=function(t){return arguments.length?(e="function"===typeof t?t:Ii(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:Ii(!!e),a):n},a.curve=function(e){return arguments.length?(r=e,null!=i&&(o=r(i)),a):r},a.context=function(e){return arguments.length?(null==e?i=o=null:o=r(i=e),a):i},a}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const rs=e.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});const os=()=>{const{data:t}=e.useContext(rs);return t};function ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(e).forEach((r=>{i[r]=e[r].reduce(((e,i)=>{if(i){const r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}function as(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ls(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{as(t,e)}))}),n)}function cs(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=cs(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const us=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=cs(e))&&(i&&(i+=" "),i+=t);return i};function hs(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function ds(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:o}=e;if(!t){const e=us(null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),t=(0,Zo.A)({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),s=(0,Zo.A)({},n,r,i);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}((0,Zo.A)({},r,i)),a=hs(i),l=hs(r),c=t(s),u=us(null==c?void 0:c.className,null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),h=(0,Zo.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),d=(0,Zo.A)({},c,n,l,a);return u.length>0&&(d.className=u),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:c.ref}}const ps=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function fs(e){var t;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:o=!1}=e,s=(0,es.A)(e,ps),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(i,r),{props:l,internalRef:c}=ds((0,Zo.A)({},s,{externalSlotProps:a})),u=ls(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),h=function(e,t,n){return void 0===e||"string"===typeof e?t:(0,Zo.A)({},t,{ownerState:(0,Zo.A)({},t.ownerState,n)})}(n,(0,Zo.A)({},l,{ref:u}),r);return h}const gs=e=>e,ms=(()=>{let e=gs;return{configure(t){e=t},generate:t=>e(t),reset(){e=gs}}})(),vs={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=vs[t];return i?"".concat(n,"-").concat(i):"".concat(ms.generate(e),"-").concat(t)}function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=ys(e,t,n)})),i}const bs=e.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null});const ws=(e,t)=>{switch(t.type){case"enterItem":return(0,Zo.A)({},e,{item:t.data});case"exitChart":return null===e.item&&null===e.axis.x&&null===e.axis.y?e:(0,Zo.A)({},e,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return(0,Zo.A)({},e,{useVoronoiInteraction:t.useVoronoiInteraction});case"leaveItem":return null===e.item||Object.keys(t.data).some((n=>t.data[n]!==e.item[n]))?e:(0,Zo.A)({},e,{item:null});case"updateAxis":return t.data.x===e.axis.x&&t.data.y===e.axis.y?e:(0,Zo.A)({},e,{axis:t.data});default:return e}};function xs(t){const{children:n}=t,[i,r]=e.useReducer(ws,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),s=e.useMemo((()=>(0,Zo.A)({},i,{dispatch:r})),[i]);return(0,o.jsx)(bs.Provider,{value:s,children:n})}const As=e.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}});function ks(){const{isInitialized:t,data:n}=e.useContext(As);if(!t)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return n}const Cs=t=>{const{dispatch:n}=e.useContext(bs),{setHighlighted:i,clearHighlighted:r}=ks();if(t)return()=>({});return e=>({onPointerEnter:()=>{n({type:"enterItem",data:e}),i({seriesId:e.seriesId,dataIndex:e.dataIndex})},onPointerLeave:t=>{t.currentTarget.releasePointerCapture(t.pointerId),n({type:"leaveItem",data:e}),r()},onPointerDown:e=>{e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}})};var Ss=__webpack_require__(8052),Es=__webpack_require__(7868),Ts=__webpack_require__(9172),Is=__webpack_require__(7758),Ms=__webpack_require__(2783),Ns=__webpack_require__(8280);var Rs=__webpack_require__(7266);const Ls={black:"#000",white:"#fff"},Ps={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Os={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ds={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},js={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Fs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$s={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Bs={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Us=["mode","contrastThreshold","tonalOffset"],zs={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ls.white,default:Ls.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vs={text:{primary:Ls.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ls.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ws(e,t,n,i){const r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Rs.a)(e.main,r):"dark"===t&&(e.dark=(0,Rs.e$)(e.main,o)))}function Hs(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,r=(0,es.A)(e,Us),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[700],light:Fs[400],dark:Fs[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Os[200],light:Os[50],dark:Os[400]}:{main:Os[500],light:Os[300],dark:Os[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ds[500],light:Ds[300],dark:Ds[700]}:{main:Ds[700],light:Ds[400],dark:Ds[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$s[400],light:$s[300],dark:$s[700]}:{main:$s[700],light:$s[500],dark:$s[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Bs[400],light:Bs[300],dark:Bs[700]}:{main:Bs[800],light:Bs[500],dark:Bs[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:js[400],light:js[300],dark:js[700]}:{main:"#ed6c02",light:js[500],dark:js[900]}}(t);function h(e){return(0,Rs.eM)(e,Vs.text.primary)>=n?Vs.text.primary:zs.text.primary}const d=e=>{let{color:t,name:n,mainShade:r=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,Zo.A)({},t),!t.main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error((0,Es.A)(11,n?" (".concat(n,")"):"",r));if("string"!==typeof t.main)throw new Error((0,Es.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ws(t,"light",o,i),Ws(t,"dark",s,i),t.contrastText||(t.contrastText=h(t.main)),t},p={dark:Vs,light:zs};return(0,Ts.A)((0,Zo.A)({common:(0,Zo.A)({},Ls),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:Ps,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:i},p[t]),r)}const qs=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ks(e){return Math.round(1e5*e)/1e5}const Gs={textTransform:"uppercase"},Qs='"Roboto", "Helvetica", "Arial", sans-serif';function Ys(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=Qs,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,d=(0,es.A)(n,qs);const p=r/14,f=h||(e=>"".concat(e/c*p,"rem")),g=(e,t,n,r,o)=>(0,Zo.A)({fontFamily:i,fontWeight:e,fontSize:f(t),lineHeight:n},i===Qs?{letterSpacing:"".concat(Ks(r/t),"em")}:{},o,u),m={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,Gs),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,Gs),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,Ts.A)((0,Zo.A)({htmlFontSize:c,pxToRem:f,fontFamily:i,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},m),d,{clone:!1})}function Xs(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Js=["none",Xs(0,2,1,-1,0,1,1,0,0,1,3,0),Xs(0,3,1,-2,0,2,2,0,0,1,5,0),Xs(0,3,3,-2,0,3,4,0,0,1,8,0),Xs(0,2,4,-1,0,4,5,0,0,1,10,0),Xs(0,3,5,-1,0,5,8,0,0,1,14,0),Xs(0,3,5,-1,0,6,10,0,0,1,18,0),Xs(0,4,5,-2,0,7,10,1,0,2,16,1),Xs(0,5,5,-3,0,8,10,1,0,3,14,2),Xs(0,5,6,-3,0,9,12,1,0,3,16,2),Xs(0,6,6,-3,0,10,14,1,0,4,18,3),Xs(0,6,7,-4,0,11,15,1,0,4,20,3),Xs(0,7,8,-4,0,12,17,2,0,5,22,4),Xs(0,7,8,-4,0,13,19,2,0,5,24,4),Xs(0,7,9,-4,0,14,21,2,0,5,26,4),Xs(0,8,9,-5,0,15,22,2,0,6,28,5),Xs(0,8,10,-5,0,16,24,2,0,6,30,5),Xs(0,8,11,-5,0,17,26,2,0,6,32,5),Xs(0,9,11,-5,0,18,28,2,0,7,34,6),Xs(0,9,12,-6,0,19,29,2,0,7,36,6),Xs(0,10,13,-6,0,20,31,3,0,8,38,7),Xs(0,10,13,-6,0,21,33,3,0,8,40,7),Xs(0,10,14,-6,0,22,35,3,0,8,42,7),Xs(0,11,14,-7,0,23,36,3,0,9,44,8),Xs(0,11,15,-7,0,24,38,3,0,9,46,8)],Zs=["duration","easing","delay"],ea={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ta={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function na(e){return"".concat(Math.round(e),"ms")}function ia(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function ra(e){const t=(0,Zo.A)({},ea,e.easing),n=(0,Zo.A)({},ta,e.duration);return(0,Zo.A)({getAutoHeightDuration:ia,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=n.standard,easing:o=t.easeInOut,delay:s=0}=i;(0,es.A)(i,Zs);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof r?r:na(r)," ").concat(o," ").concat("string"===typeof s?s:na(s)))).join(",")}},e,{easing:t,duration:n})}const oa={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},sa=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:i={},typography:r={}}=e,o=(0,es.A)(e,sa);if(e.vars)throw new Error((0,Es.A)(18));const s=Hs(n),a=(0,Ns.A)(e);let l=(0,Ts.A)(a,{mixins:(c=a.breakpoints,u=t,(0,Zo.A)({toolbar:{minHeight:56,[c.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[c.up("sm")]:{minHeight:64}}},u)),palette:s,shadows:Js.slice(),typography:Ys(s,r),transitions:ra(i),zIndex:(0,Zo.A)({},oa)});var c,u;l=(0,Ts.A)(l,o);for(var h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return l=d.reduce(((e,t)=>(0,Ts.A)(e,t)),l),l.unstable_sxConfig=(0,Zo.A)({},Is.A,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return(0,Ms.A)({sx:e,theme:this})},l}const la=aa(),ca="$$material";const ua=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},ha=e=>ua(e)&&"classes"!==e,da=(0,Ss.Ay)({themeId:ca,defaultTheme:la,rootShouldForwardProp:ha});var pa=Ia(),fa=e=>Ca(e,pa),ga=Ia();fa.write=e=>Ca(e,ga);var ma=Ia();fa.onStart=e=>Ca(e,ma);var va=Ia();fa.onFrame=e=>Ca(e,va);var ya=Ia();fa.onFinish=e=>Ca(e,ya);var _a=[];fa.setTimeout=(e,t)=>{const n=fa.now()+t,i=()=>{const e=_a.findIndex((e=>e.cancel==i));~e&&_a.splice(e,1),Aa-=~e?1:0},r={time:n,handler:e,cancel:i};return _a.splice(ba(n),0,r),Aa+=1,Sa(),r};var ba=e=>~(~_a.findIndex((t=>t.time>e))||~_a.length);fa.cancel=e=>{ma.delete(e),va.delete(e),ya.delete(e),pa.delete(e),ga.delete(e)},fa.sync=e=>{ka=!0,fa.batchedUpdates(e),ka=!1},fa.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function i(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];t=i,fa.onStart(n)}return i.handler=e,i.cancel=()=>{ma.delete(n),t=null},i};var wa="undefined"!=typeof window?window.requestAnimationFrame:()=>{};fa.use=e=>wa=e,fa.now="undefined"!=typeof performance?()=>performance.now():Date.now,fa.batchedUpdates=e=>e(),fa.catch=console.error,fa.frameLoop="always",fa.advance=()=>{"demand"!==fa.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Ta()};var xa=-1,Aa=0,ka=!1;function Ca(e,t){ka?(t.delete(e),e(0)):(t.add(e),Sa())}function Sa(){xa<0&&(xa=0,"demand"!==fa.frameLoop&&wa(Ea))}function Ea(){~xa&&(wa(Ea),fa.batchedUpdates(Ta))}function Ta(){const e=xa;xa=fa.now();const t=ba(xa);t&&(Ma(_a.splice(0,t),(e=>e.handler())),Aa-=t),Aa?(ma.flush(),pa.flush(e?Math.min(64,xa-e):16.667),va.flush(),ga.flush(),ya.flush()):xa=-1}function Ia(){let e=new Set,t=e;return{add(n){Aa+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Aa-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Aa-=t.size,Ma(t,(t=>t(n)&&e.add(t))),Aa+=e.size,t=e)}}}function Ma(e,t){e.forEach((e=>{try{t(e)}catch(n){fa.catch(n)}}))}var Na=Object.defineProperty,Ra={};function La(){}((e,t)=>{for(var n in t)Na(e,n,{get:t[n],enumerable:!0})})(Ra,{assign:()=>Ka,colors:()=>Wa,createStringInterpolator:()=>Ba,skipAnimation:()=>Ha,to:()=>Ua,willAdvance:()=>qa});var Pa={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Oa(e,t){if(Pa.arr(e)){if(!Pa.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Da=(e,t)=>e.forEach(t);function ja(e,t,n){if(Pa.arr(e))for(let i=0;i<e.length;i++)t.call(n,e[i],"".concat(i));else for(const i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Fa=e=>Pa.und(e)?[]:Pa.arr(e)?e:[e];function $a(e,t){if(e.size){const n=Array.from(e);e.clear(),Da(n,t)}}var Ba,Ua,za=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $a(e,(e=>e(...n)))},Va=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Wa=null,Ha=!1,qa=La,Ka=e=>{e.to&&(Ua=e.to),e.now&&(fa.now=e.now),void 0!==e.colors&&(Wa=e.colors),null!=e.skipAnimation&&(Ha=e.skipAnimation),e.createStringInterpolator&&(Ba=e.createStringInterpolator),e.requestAnimationFrame&&fa.use(e.requestAnimationFrame),e.batchedUpdates&&(fa.batchedUpdates=e.batchedUpdates),e.willAdvance&&(qa=e.willAdvance),e.frameLoop&&(fa.frameLoop=e.frameLoop)},Ga=new Set,Qa=[],Ya=[],Xa=0,Ja={get idle(){return!Ga.size&&!Qa.length},start(e){Xa>e.priority?(Ga.add(e),fa.onStart(Za)):(el(e),fa(nl))},advance:nl,sort(e){if(Xa)fa.onFrame((()=>Ja.sort(e)));else{const t=Qa.indexOf(e);~t&&(Qa.splice(t,1),tl(e))}},clear(){Qa=[],Ga.clear()}};function Za(){Ga.forEach(el),Ga.clear(),fa(nl)}function el(e){Qa.includes(e)||tl(e)}function tl(e){Qa.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(Qa,(t=>t.priority>e.priority)),0,e)}function nl(e){const t=Ya;for(let n=0;n<Qa.length;n++){const i=Qa[n];Xa=i.priority,i.idle||(qa(i),i.advance(e),i.idle||t.push(i))}return Xa=0,(Ya=Qa).length=0,(Qa=t).length>0}var il="[-+]?\\d*\\.?\\d+",rl=il+"%";function ol(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var sl=new RegExp("rgb"+ol(il,il,il)),al=new RegExp("rgba"+ol(il,il,il,il)),ll=new RegExp("hsl"+ol(il,rl,rl)),cl=new RegExp("hsla"+ol(il,rl,rl,il)),ul=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hl=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dl=/^#([0-9a-fA-F]{6})$/,pl=/^#([0-9a-fA-F]{8})$/;function fl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gl(e,t,n){const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,o=fl(r,i,e+1/3),s=fl(r,i,e),a=fl(r,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*a)<<8}function ml(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function vl(e){return(parseFloat(e)%360+360)%360/360}function yl(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function _l(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function bl(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=dl.exec(e))?parseInt(t[1]+"ff",16)>>>0:Wa&&void 0!==Wa[e]?Wa[e]:(t=sl.exec(e))?(ml(t[1])<<24|ml(t[2])<<16|ml(t[3])<<8|255)>>>0:(t=al.exec(e))?(ml(t[1])<<24|ml(t[2])<<16|ml(t[3])<<8|yl(t[4]))>>>0:(t=ul.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=pl.exec(e))?parseInt(t[1],16)>>>0:(t=hl.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ll.exec(e))?(255|gl(vl(t[1]),_l(t[2]),_l(t[3])))>>>0:(t=cl.exec(e))?(gl(vl(t[1]),_l(t[2]),_l(t[3]))|yl(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;const n=(16711680&t)>>>16,i=(65280&t)>>>8,r=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(i,", ").concat(r,")")}var wl=(e,t,n)=>{if(Pa.fun(e))return e;if(Pa.arr(e))return wl({range:e,output:t,extrapolate:n});if(Pa.str(e.output[0]))return Ba(e);const i=e,r=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,i,r,o,s,a,l){let c=l?l(e):e;if(c<t){if("identity"===s)return c;"clamp"===s&&(c=t)}if(c>n){if("identity"===a)return c;"clamp"===a&&(c=n)}if(i===r)return i;if(t===n)return e<=t?i:r;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),i===-1/0?c=-c:r===1/0?c+=i:c=c*(r-i)+i;return c}(e,o[t],o[t+1],r[t],r[t+1],l,s,a,i.map)}};var xl=1.70158,Al=1.525*xl,kl=xl+1,Cl=2*Math.PI/3,Sl=2*Math.PI/4.5,El=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Tl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>kl*e*e*e-xl*e*e,easeOutBack:e=>1+kl*Math.pow(e-1,3)+xl*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Al)/2:(Math.pow(2*e-2,2)*((Al+1)*(2*e-2)+Al)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Cl),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Cl)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Sl)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Sl)/2+1,easeInBounce:e=>1-El(1-e),easeOutBounce:El,easeInOutBounce:e=>e<.5?(1-El(1-2*e))/2:(1+El(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const i=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(i):Math.ceil(i))/e)}}},Il=Symbol.for("FluidValue.get"),Ml=Symbol.for("FluidValue.observers"),Nl=e=>Boolean(e&&e[Il]),Rl=e=>e&&e[Il]?e[Il]():e,Ll=e=>e[Ml]||null;function Pl(e,t){const n=e[Ml];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Ol=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Dl(this,e)}},Dl=(e,t)=>Bl(e,Il,t);function jl(e,t){if(e[Il]){let n=e[Ml];n||Bl(e,Ml,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Fl(e,t){const n=e[Ml];if(n&&n.has(t)){const i=n.size-1;i?n.delete(t):e[Ml]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var $l,Bl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Ul=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,zl=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Vl=new RegExp("(".concat(Ul.source,")(%|[a-z]+)"),"i"),Wl=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Hl=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ql=e=>{const[t,n]=Kl(e);if(!t||Va())return e;const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Hl.test(n)?ql(n):n||e},Kl=e=>{const t=Hl.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]},Gl=(e,t,n,i,r)=>"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(i),", ").concat(r,")"),Ql=e=>{$l||($l=Wa?new RegExp("(".concat(Object.keys(Wa).join("|"),")(?!\\w)"),"g"):/^\b$/);const t=e.output.map((e=>Rl(e).replace(Hl,ql).replace(zl,bl).replace($l,bl))),n=t.map((e=>e.match(Ul).map(Number))),i=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>wl({...e,output:t})));return e=>{var n;const r=!Vl.test(t[0])&&(null===(n=t.find((e=>Vl.test(e))))||void 0===n?void 0:n.replace(Ul,""));let o=0;return t[0].replace(Ul,(()=>"".concat(i[o++](e)).concat(r||""))).replace(Wl,Gl)}},Yl="react-spring: ",Xl=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError("".concat(Yl,"once requires a function parameter"));return function(){n||(t(...arguments),n=!0)}},Jl=Xl(console.warn);var Zl=Xl(console.warn);function ec(e){return Pa.str(e)&&("#"==e[0]||/\d/.test(e)||!Va()&&Hl.test(e)||e in(Wa||{}))}var tc=Va()?e.useEffect:e.useLayoutEffect,nc=()=>{const t=(0,e.useRef)(!1);return tc((()=>(t.current=!0,()=>{t.current=!1})),[]),t};function ic(){const t=(0,e.useState)()[1],n=nc();return()=>{n.current&&t(Math.random())}}var rc=t=>(0,e.useEffect)(t,oc),oc=[];function sc(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current}var ac=Symbol.for("Animated:node"),lc=e=>e&&e[ac],cc=(e,t)=>((e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}))(e,ac,t),uc=e=>e&&e[ac]&&e[ac].getPayload(),hc=class{constructor(){cc(this,this)}getPayload(){return this.payload||[]}},dc=class extends hc{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Pa.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new dc(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Pa.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Pa.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},pc=class extends dc{constructor(e){super(0),this._string=null,this._toString=wl({output:[e,e]})}static create(e){return new pc(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Pa.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=wl({output:[this.getValue(),e]})),this._value=0,super.reset()}},fc={dependencies:null},gc=class extends hc{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ja(this.source,((n,i)=>{(e=>!!e&&e[ac]===e)(n)?t[i]=n.getValue(e):Nl(n)?t[i]=Rl(n):e||(t[i]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Da(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return ja(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){fc.dependencies&&Nl(e)&&fc.dependencies.add(e);const t=uc(e);t&&Da(t,(e=>this.add(e)))}},mc=class extends gc{constructor(e){super(e)}static create(e){return new mc(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(vc)),!0)}};function vc(e){return(ec(e)?pc:dc).create(e)}function yc(e){const t=lc(e);return t?t.constructor:Pa.arr(e)?mc:ec(e)?pc:dc}var _c=(t,n)=>{const i=!Pa.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)(((r,o)=>{const s=(0,e.useRef)(null),a=i&&(0,e.useCallback)((e=>{s.current=function(e,t){e&&(Pa.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[l,c]=function(e,t){const n=new Set;fc.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new gc(e),fc.dependencies=null,[e,n]}(r,n),u=ic(),h=()=>{const e=s.current;if(i&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,l.getValue(!0)))&&u()},d=new bc(h,c),p=(0,e.useRef)();tc((()=>(p.current=d,Da(c,(e=>jl(e,d))),()=>{p.current&&(Da(p.current.deps,(e=>Fl(e,p.current))),fa.cancel(p.current.update))}))),(0,e.useEffect)(h,[]),rc((()=>()=>{const e=p.current;Da(e.deps,(t=>Fl(t,e)))}));const f=n.getComponentProps(l.getValue());return e.createElement(t,{...f,ref:a})}))},bc=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&fa.write(this.update)}};var wc=Symbol.for("AnimatedComponent"),xc=e=>Pa.str(e)?e:e&&Pa.str(e.displayName)?e.displayName:Pa.fun(e)&&e.name||null;function Ac(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Pa.fun(e)?e(...n):e}var kc=(e,t)=>!0===e||!!(t&&e&&(Pa.fun(e)?e(t):Fa(e).includes(t))),Cc=(e,t)=>Pa.obj(e)?t&&e[t]:e,Sc=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Ec=e=>e,Tc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ec,n=Ic;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const i={};for(const r of n){const n=t(e[r],r);Pa.und(n)||(i[r]=n)}return i},Ic=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Mc={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Nc(e){const t=function(e){const t={};let n=0;if(ja(e,((e,i)=>{Mc[i]||(t[i]=e,n++)})),n)return t}(e);if(t){const n={to:t};return ja(e,((e,i)=>i in t||(n[i]=e))),n}return{...e}}function Rc(e){return e=Rl(e),Pa.arr(e)?e.map(Rc):ec(e)?Ra.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Lc(e){for(const t in e)return!0;return!1}function Pc(e){return Pa.fun(e)||Pa.arr(e)&&Pa.obj(e[0])}function Oc(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function Dc(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var jc={tension:170,friction:26,mass:1,damping:1,easing:Tl.linear,clamp:!1},Fc=class{constructor(){this.velocity=0,Object.assign(this,jc)}};function $c(e,t){if(Pa.und(t.decay)){const n=!Pa.und(t.tension)||!Pa.und(t.friction);!n&&Pa.und(t.frequency)&&Pa.und(t.damping)&&Pa.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Bc=[],Uc=class{constructor(){this.changed=!1,this.values=Bc,this.toValues=null,this.fromValues=Bc,this.config=new Fc,this.immediate=!1}};function zc(e,t){let{key:n,props:i,defaultProps:r,state:o,actions:s}=t;return new Promise(((t,a)=>{var l;let c,u,h=kc(null!==(l=i.cancel)&&void 0!==l?l:null===r||void 0===r?void 0:r.cancel,n);if(h)f();else{Pa.und(i.pause)||(o.paused=kc(i.pause,n));let e=null===r||void 0===r?void 0:r.pause;!0!==e&&(e=o.paused||kc(e,n)),c=Ac(i.delay||0,n),e?(o.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){o.resumeQueue.add(p),o.timeouts.delete(u),u.cancel(),c=u.time-fa.now()}function p(){c>0&&!Ra.skipAnimation?(o.delayed=!0,u=fa.setTimeout(f,c),o.pauseQueue.add(d),o.timeouts.add(u)):f()}function f(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(u),e<=(o.cancelId||0)&&(h=!0);try{s.start({...i,callId:e,cancel:h},t)}catch(n){a(n)}}}))}var Vc=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?qc(e.get()):t.every((e=>e.noop))?Wc(e.get()):Hc(e.get(),t.every((e=>e.finished))),Wc=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Hc=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},qc=e=>({value:e,cancelled:!0,finished:!1});function Kc(e,t,n,i){const{callId:r,parentId:o,onRest:s}=t,{asyncTo:a,promise:l}=n;return o||e!==a||t.reset?n.promise=(async()=>{n.asyncId=r,n.asyncTo=e;const c=Tc(t,((e,t)=>"onRest"===t?void 0:e));let u,h;const d=new Promise(((e,t)=>(u=e,h=t))),p=e=>{const t=r<=(n.cancelId||0)&&qc(i)||r!==n.asyncId&&Hc(i,!1);if(t)throw e.result=t,h(e),e},f=(e,t)=>{const o=new Qc,s=new Yc;return(async()=>{if(Ra.skipAnimation)throw Gc(n),s.result=Hc(i,!1),h(s),s;p(o);const a=Pa.obj(e)?{...e}:{...t,to:e};a.parentId=r,ja(c,((e,t)=>{Pa.und(a[t])&&(a[t]=e)}));const l=await i.start(a);return p(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let g;if(Ra.skipAnimation)return Gc(n),Hc(i,!1);try{let t;t=Pa.arr(e)?(async e=>{for(const t of e)await f(t)})(e):Promise.resolve(e(f,i.stop.bind(i))),await Promise.all([t.then(u),d]),g=Hc(i.get(),!0,!1)}catch(m){if(m instanceof Qc)g=m.result;else{if(!(m instanceof Yc))throw m;g=m.result}}finally{r==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return Pa.fun(s)&&fa.batchedUpdates((()=>{s(g,i,i.item)})),g})():l}function Gc(e,t){$a(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Qc=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Yc=class extends Error{constructor(){super("SkipAnimationSignal")}},Xc=e=>e instanceof Zc,Jc=1,Zc=class extends Ol{constructor(){super(...arguments),this.id=Jc++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=lc(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ra.to(this,t)}interpolate(){Jl("".concat(Yl,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ra.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){Pl(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||Ja.sort(this),Pl(this,{type:"priority",parent:this,priority:e})}},eu=Symbol.for("SpringPhase"),tu=e=>(1&e[eu])>0,nu=e=>(2&e[eu])>0,iu=e=>(4&e[eu])>0,ru=(e,t)=>t?e[eu]|=3:e[eu]&=-3,ou=(e,t)=>t?e[eu]|=4:e[eu]&=-5,su=class extends Zc{constructor(e,t){if(super(),this.animation=new Uc,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Pa.und(e)||!Pa.und(t)){const n=Pa.obj(e)?{...e}:{...t,from:e};Pa.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(nu(this)||this._state.asyncTo)||iu(this)}get goal(){return Rl(this.animation.to)}get velocity(){const e=lc(this);return e instanceof dc?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return tu(this)}get isAnimating(){return nu(this)}get isPaused(){return iu(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const i=this.animation;let{toValues:r}=i;const{config:o}=i,s=uc(i.to);!s&&Nl(i.to)&&(r=Fa(Rl(i.to))),i.values.forEach(((a,l)=>{if(a.done)return;const c=a.constructor==pc?1:s?s[l].lastPosition:r[l];let u=i.immediate,h=c;if(!u){if(h=a.lastPosition,o.tension<=0)return void(a.done=!0);let t=a.elapsedTime+=e;const n=i.fromValues[l],r=null!=a.v0?a.v0:a.v0=Pa.arr(o.velocity)?o.velocity[l]:o.velocity;let s;const d=o.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(Pa.und(o.duration))if(o.decay){const e=!0===o.decay?.998:o.decay,i=Math.exp(-(1-e)*t);h=n+r/(1-e)*(1-i),u=Math.abs(a.lastPosition-h)<=d,s=r*i}else{s=null==a.lastVelocity?r:a.lastVelocity;const t=o.restVelocity||d/10,i=o.clamp?0:o.bounce,l=!Pa.und(i),p=n==c?a.v0>0:n<c;let f,g=!1;const m=1,v=Math.ceil(e/m);for(let e=0;e<v&&(f=Math.abs(s)>t,f||(u=Math.abs(c-h)<=d,!u));++e){l&&(g=h==c||h>c==p,g&&(s=-s*i,h=c));s+=(1e-6*-o.tension*(h-c)+.001*-o.friction*s)/o.mass*m,h+=s*m}}else{let i=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,a.durationProgress>0&&(a.elapsedTime=o.duration*a.durationProgress,t=a.elapsedTime+=e)),i=(o.progress||0)+t/this._memoizedDuration,i=i>1?1:i<0?0:i,a.durationProgress=i),h=n+o.easing(i)*(c-n),s=(h-a.lastPosition)/e,u=1==i}a.lastVelocity=s,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),u=!0)}s&&!s[l].done&&(u=!1),u?a.done=!0:t=!1,a.setValue(h,o.round)&&(n=!0)}));const a=lc(this),l=a.getValue();if(t){const e=Rl(i.to);l===e&&!n||o.decay?n&&o.decay&&this._onChange(l):(a.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return fa.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(nu(this)){const{to:e,config:t}=this.animation;fa.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Pa.und(e)?(n=this.queue||[],this.queue=[]):n=[Pa.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>Vc(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Gc(this._state,e&&this._lastCallId),fa.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:i}=e;n=Pa.obj(n)?n[t]:n,(null==n||Pc(n))&&(n=void 0),i=Pa.obj(i)?i[t]:i,null==i&&(i=void 0);const r={to:n,from:i};return tu(this)||(e.reverse&&([n,i]=[i,n]),i=Rl(i),Pa.und(i)?lc(this)||this._set(n):this._set(i)),r}_update(e,t){let{...n}=e;const{key:i,defaultProps:r}=this;n.default&&Object.assign(r,Tc(n,((e,t)=>/^on/.test(t)?Cc(e,i):e))),pu(this,n,"onProps"),fu(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return zc(++this._lastCallId,{key:i,props:n,defaultProps:r,state:s,actions:{pause:()=>{iu(this)||(ou(this,!0),za(s.pauseQueue),fu(this,"onPause",Hc(this,au(this,this.animation.to)),this))},resume:()=>{iu(this)&&(ou(this,!1),nu(this)&&this._resume(),za(s.resumeQueue),fu(this,"onResume",Hc(this,au(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=lu(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(qc(this));const i=!Pa.und(e.to),r=!Pa.und(e.from);if(i||r){if(!(t.callId>this._lastToId))return n(qc(this));this._lastToId=t.callId}const{key:o,defaultProps:s,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:h=c}=e;!r||i||t.default&&!Pa.und(u)||(u=h),t.reverse&&([u,h]=[h,u]);const d=!Oa(h,c);d&&(a.from=h),h=Rl(h);const p=!Oa(u,l);p&&this._focus(u);const f=Pc(t.to),{config:g}=a,{decay:m,velocity:v}=g;(i||r)&&(g.velocity=0),t.config&&!f&&function(e,t,n){n&&($c(n={...n},t),t={...n,...t}),$c(e,t),Object.assign(e,t);for(const s in jc)null==e[s]&&(e[s]=jc[s]);let{frequency:i,damping:r}=e;const{mass:o}=e;Pa.und(i)||(i<.01&&(i=.01),r<0&&(r=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*r*o/i)}(g,Ac(t.config,o),t.config!==s.config?Ac(s.config,o):void 0);let y=lc(this);if(!y||Pa.und(u))return n(Hc(this,!0));const _=Pa.und(t.reset)?r&&!t.default:!Pa.und(h)&&kc(t.reset,o),b=_?h:this.get(),w=Rc(u),x=Pa.num(w)||Pa.arr(w)||ec(w),A=!f&&(!x||kc(s.immediate||t.immediate,o));if(p){const e=yc(u);if(e!==y.constructor){if(!A)throw Error("Cannot animate between ".concat(y.constructor.name," and ").concat(e.name,', as the "to" prop suggests'));y=this._set(w)}}const k=y.constructor;let C=Nl(u),S=!1;if(!C){const e=_||!tu(this)&&d;(p||e)&&(S=Oa(Rc(b),w),C=!S),(Oa(a.immediate,A)||A)&&Oa(g.decay,m)&&Oa(g.velocity,v)||(C=!0)}if(S&&nu(this)&&(a.changed&&!_?C=!0:C||this._stop(l)),!f&&((C||Nl(l))&&(a.values=y.getPayload(),a.toValues=Nl(u)?null:k==pc?[1]:Fa(w)),a.immediate!=A&&(a.immediate=A,A||_||this._set(l)),C)){const{onRest:e}=a;Da(du,(e=>pu(this,t,e)));const i=Hc(this,au(this,l));za(this._pendingCalls,i),this._pendingCalls.add(n),a.changed&&fa.batchedUpdates((()=>{var t;(a.changed=!_,null===e||void 0===e||e(i,this),_)?Ac(s.onRest,i):null===(t=a.onStart)||void 0===t||t.call(a,i,this)}))}_&&this._set(b),f?n(Kc(t.to,t,this._state,this)):C?this._start():nu(this)&&!p?this._pendingCalls.add(n):n(Wc(b))}_focus(e){const t=this.animation;e!==t.to&&(Ll(this)&&this._detach(),t.to=e,Ll(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Nl(t)&&(jl(t,this),Xc(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Nl(e)&&Fl(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Rl(e);if(!Pa.und(n)){const e=lc(this);if(!e||!Oa(n,e.getValue())){const i=yc(n);e&&e.constructor==i?e.setValue(n):cc(this,i.create(n)),e&&fa.batchedUpdates((()=>{this._onChange(n,t)}))}}return lc(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,fu(this,"onStart",Hc(this,au(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ac(this.animation.onChange,e,this)),Ac(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;lc(this).reset(Rl(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),nu(this)||(ru(this,!0),iu(this)||this._resume())}_resume(){Ra.skipAnimation?this.finish():Ja.start(this)}_stop(e,t){if(nu(this)){ru(this,!1);const n=this.animation;Da(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Pl(this,{type:"idle",parent:this});const i=t?qc(this.get()):Hc(this.get(),au(this,null!==e&&void 0!==e?e:n.to));za(this._pendingCalls,i),n.changed&&(n.changed=!1,fu(this,"onRest",i,this))}}};function au(e,t){const n=Rc(t);return Oa(Rc(e.get()),n)}function lu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const i=Ac(t);if(i){const r=!0!==i&&Nc(i),o=(r||e).reverse,s=!r||r.reset;return cu({...e,loop:t,default:!1,pause:void 0,to:!o||Pc(n)?n:void 0,from:s?e.from:void 0,reset:s,...r})}}function cu(e){const{to:t,from:n}=e=Nc(e),i=new Set;return Pa.obj(t)&&hu(t,i),Pa.obj(n)&&hu(n,i),e.keys=i.size?Array.from(i):null,e}function uu(e){const t=cu(e);return Pa.und(t.default)&&(t.default=Tc(t)),t}function hu(e,t){ja(e,((e,n)=>null!=e&&t.add(n)))}var du=["onStart","onRest","onChange","onPause","onResume"];function pu(e,t,n){e.animation[n]=t[n]!==Sc(t,n)?Cc(t[n],e.key):void 0}function fu(e,t){for(var n,i,r,o,s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];null===(n=(i=e.animation)[t])||void 0===n||n.call(i,...a),null===(r=(o=e.defaultProps)[t])||void 0===r||r.call(o,...a)}var gu=["onStart","onChange","onRest"],mu=1,vu=class{constructor(e,t){this.id=mu++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Pa.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(cu(e)),this}start(e){let{queue:t}=this;return e?t=Fa(e).map(cu):this.queue=[],this._flush?this._flush(this,t):(ku(this,t),yu(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Da(Fa(t),(t=>n[t].stop(!!e)))}else Gc(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Pa.und(e))this.start({pause:!0});else{const t=this.springs;Da(Fa(e),(e=>t[e].pause()))}return this}resume(e){if(Pa.und(e))this.start({pause:!1});else{const t=this.springs;Da(Fa(e),(e=>t[e].resume()))}return this}each(e){ja(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,$a(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const o=!i&&this._started,s=r||o&&n.size?this.get():null;r&&t.size&&$a(t,(e=>{let[t,n]=e;n.value=s,t(n,this,this._item)})),o&&(this._started=!1,$a(n,(e=>{let[t,n]=e;n.value=s,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}fa.onFrame(this._onFrame)}};function yu(e,t){return Promise.all(t.map((t=>_u(e,t)))).then((t=>Vc(e,t)))}async function _u(e,t,n){const{keys:i,to:r,from:o,loop:s,onRest:a,onResolve:l}=t,c=Pa.obj(t.default)&&t.default;s&&(t.loop=!1),!1===r&&(t.to=null),!1===o&&(t.from=null);const u=Pa.arr(r)||Pa.fun(r)?r:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Da(gu,(n=>{const i=t[n];if(Pa.fun(i)){const r=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const o=r.get(i);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):r.set(i,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[n]=t[n])}}));const h=e._state;t.pause===!h.paused?(h.paused=t.pause,za(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const d=(i||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),p=!0===t.cancel||!0===Sc(t,"cancel");(u||p&&h.asyncId)&&d.push(zc(++e._lastAsyncId,{props:t,state:h,actions:{pause:La,resume:La,start(t,n){p?(Gc(h,e._lastAsyncId),n(qc(e))):(t.onRest=a,n(Kc(u,t,h,e)))}}})),h.paused&&await new Promise((e=>{h.resumeQueue.add(e)}));const f=Vc(e,await Promise.all(d));if(s&&f.finished&&(!n||!f.noop)){const n=lu(t,s,r);if(n)return ku(e,[n]),_u(e,n,!0)}return l&&fa.batchedUpdates((()=>l(f,e,e.item))),f}function bu(e,t){const n={...e.springs};return t&&Da(Fa(t),(e=>{Pa.und(e.keys)&&(e=cu(e)),Pa.obj(e.to)||(e={...e,to:void 0}),Au(n,e,(e=>xu(e)))})),wu(e,n),n}function wu(e,t){ja(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,jl(t,e))}))}function xu(e,t){const n=new su;return n.key=e,t&&jl(n,t),n}function Au(e,t,n){t.keys&&Da(t.keys,(i=>{(e[i]||(e[i]=n(i)))._prepareNode(t)}))}function ku(e,t){Da(t,(t=>{Au(e.springs,t,(t=>xu(t,e)))}))}var Cu=t=>{let{children:n,...i}=t;const r=(0,e.useContext)(Su),o=i.pause||!!r.pause,s=i.immediate||!!r.immediate;i=function(t,n){const[i]=(0,e.useState)((()=>({inputs:n,result:t()}))),r=(0,e.useRef)(),o=r.current;let s=o;s?Boolean(n&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,s.inputs))||(s={inputs:n,result:t()}):s=i;return(0,e.useEffect)((()=>{r.current=s,o==i&&(i.inputs=i.result=void 0)}),[s]),s.result}((()=>({pause:o,immediate:s})),[o,s]);const{Provider:a}=Su;return e.createElement(a,{value:i},n)},Su=function(t,n){return Object.assign(t,e.createContext(n)),t.Provider._context=t,t.Consumer._context=t,t}(Cu,{});Cu.Provider=Su.Provider,Cu.Consumer=Su.Consumer;var Eu=()=>{const e=[],t=function(t){Zl("".concat(Yl,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));const i=[];return Da(e,((e,r)=>{if(Pa.und(t))i.push(e.start());else{const o=n(t,e,r);o&&i.push(e.start(o))}})),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Da(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Da(e,(e=>e.resume(...arguments))),this},t.set=function(t){Da(e,((e,n)=>{const i=Pa.fun(t)?t(n,e):t;i&&e.set(i)}))},t.start=function(t){const n=[];return Da(e,((e,i)=>{if(Pa.und(t))n.push(e.start());else{const r=this._getProps(t,e,i);r&&n.push(e.start(r))}})),n},t.stop=function(){return Da(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Da(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Pa.fun(e)?e(n,t):e};return t._getProps=n,t};function Tu(t,n,i){const r=Pa.fun(n)&&n;r&&!i&&(i=[]);const o=(0,e.useMemo)((()=>r||3==arguments.length?Eu():void 0),[]),s=(0,e.useRef)(0),a=ic(),l=(0,e.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=bu(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?yu(e,t):new Promise((i=>{wu(e,n),l.queue.push((()=>{i(yu(e,t))})),a()}))}})),[]),c=(0,e.useRef)([...l.ctrls]),u=[],h=sc(t)||0;function d(e,t){for(let i=e;i<t;i++){const e=c.current[i]||(c.current[i]=new vu(null,l.flush)),t=r?r(i,e):n[i];t&&(u[i]=uu(t))}}(0,e.useMemo)((()=>{Da(c.current.slice(t,h),(e=>{Oc(e,o),e.stop(!0)})),c.current.length=t,d(h,t)}),[t]),(0,e.useMemo)((()=>{d(0,Math.min(h,t))}),i);const p=c.current.map(((e,t)=>bu(e,u[t]))),f=(0,e.useContext)(Cu),g=sc(f),m=f!==g&&Lc(f);tc((()=>{s.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],Da(e,(e=>e()))),Da(c.current,((e,t)=>{null===o||void 0===o||o.add(e),m&&e.start({default:f});const n=u[t];n&&(Dc(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),rc((()=>()=>{Da(l.ctrls,(e=>e.stop(!0)))}));const v=p.map((e=>({...e})));return o?[v,o]:v}function Iu(e,t){const n=Pa.fun(e),[[i],r]=Tu(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[i,r]:i}function Mu(t,n,i){const r=Pa.fun(n)&&n,{reset:o,sort:s,trail:a=0,expires:l=!0,exitBeforeEnter:c=!1,onDestroyed:u,ref:h,config:d}=r?r():n,p=(0,e.useMemo)((()=>r||3==arguments.length?Eu():void 0),[]),f=Fa(t),g=[],m=(0,e.useRef)(null),v=o?null:m.current;tc((()=>{m.current=g})),rc((()=>(Da(g,(e=>{null===p||void 0===p||p.add(e.ctrl),e.ctrl.ref=p})),()=>{Da(m.current,(e=>{e.expired&&clearTimeout(e.expirationId),Oc(e.ctrl,p),e.ctrl.stop(!0)}))})));const y=function(e,t,n){let{key:i,keys:r=i}=t;if(null===r){const t=new Set;return e.map((e=>{const i=n&&n.find((n=>n.item===e&&"leave"!==n.phase&&!t.has(n)));return i?(t.add(i),i.key):Nu++}))}return Pa.und(r)?e:Pa.fun(r)?e.map(r):Fa(r)}(f,r?r():n,v),_=o&&m.current||[];tc((()=>Da(_,(e=>{let{ctrl:t,item:n,key:i}=e;Oc(t,p),Ac(u,n,i)}))));const b=[];if(v&&Da(v,((e,t)=>{e.expired?(clearTimeout(e.expirationId),_.push(e)):~(t=b[t]=y.indexOf(e.key))&&(g[t]=e)})),Da(f,((e,t)=>{g[t]||(g[t]={key:y[t],item:e,phase:"mount",ctrl:new vu},g[t].ctrl.item=e)})),b.length){let e=-1;const{leave:t}=r?r():n;Da(b,((n,i)=>{const r=v[i];~n?(e=g.indexOf(r),g[e]={...r,item:f[n]}):t&&g.splice(++e,0,r)}))}Pa.fun(s)&&g.sort(((e,t)=>s(e.item,t.item)));let w=-a;const x=ic(),A=Tc(n),k=new Map,C=(0,e.useRef)(new Map),S=(0,e.useRef)(!1);Da(g,((e,t)=>{const i=e.key,o=e.phase,s=r?r():n;let u,p;const f=Ac(s.delay||0,i);if("mount"==o)u=s.enter,p="enter";else{const e=y.indexOf(i)<0;if("leave"!=o)if(e)u=s.leave,p="leave";else{if(!(u=s.update))return;p="update"}else{if(e)return;u=s.enter,p="enter"}}if(u=Ac(u,e.item,t),u=Pa.obj(u)?Nc(u):{to:u},!u.config){const n=d||A.config;u.config=Ac(n,e.item,t,p)}w+=a;const g={...A,delay:f+w,ref:h,immediate:s.immediate,reset:!1,...u};if("enter"==p&&Pa.und(g.from)){const i=r?r():n,o=Pa.und(i.initial)||v?i.from:i.initial;g.from=Ac(o,e.item,t)}const{onResolve:_}=g;g.onResolve=e=>{Ac(_,e);const t=m.current,n=t.find((e=>e.key===i));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){const e=t.every((e=>e.ctrl.idle));if("leave"==n.phase){const t=Ac(l,n.item);if(!1!==t){const i=!0===t?0:t;if(n.expired=!0,!e&&i>0)return void(i<=2147483647&&(n.expirationId=setTimeout(x,i)))}}e&&t.some((e=>e.expired))&&(C.current.delete(n),c&&(S.current=!0),x())}};const b=bu(e.ctrl,g);"leave"===p&&c?C.current.set(e,{phase:p,springs:b,payload:g}):k.set(e,{phase:p,springs:b,payload:g})}));const E=(0,e.useContext)(Cu),T=sc(E),I=E!==T&&Lc(E);tc((()=>{I&&Da(g,(e=>{e.ctrl.start({default:E})}))}),[E]),Da(k,((e,t)=>{if(C.current.size){const e=g.findIndex((e=>e.key===t.key));g.splice(e,1)}})),tc((()=>{Da(C.current.size?C.current:k,((e,t)=>{let{phase:n,payload:i}=e;const{ctrl:r}=t;t.phase=n,null===p||void 0===p||p.add(r),I&&"enter"==n&&r.start({default:E}),i&&(Dc(r,i.ref),!r.ref&&!p||S.current?(r.start(i),S.current&&(S.current=!1)):r.update(i))}))}),o?void 0:i);const M=t=>e.createElement(e.Fragment,null,g.map(((n,i)=>{const{springs:r}=k.get(n)||n.ctrl,o=t({...r},n.item,n,i);return o&&o.type?e.createElement(o.type,{...o.props,key:Pa.str(n.key)||Pa.num(n.key)?n.key:n.ctrl.id,ref:o.ref}):o})));return p?[M,p]:M}var Nu=1;var Ru=class extends Zc{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=wl(...t);const n=this._get(),i=yc(n);cc(this,i.create(n))}advance(e){const t=this._get();Oa(t,this.get())||(lc(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Pu(this._active)&&Ou(this)}_get(){const e=Pa.arr(this.source)?this.source.map(Rl):Fa(Rl(this.source));return this.calc(...e)}_start(){this.idle&&!Pu(this._active)&&(this.idle=!1,Da(uc(this),(e=>{e.done=!1})),Ra.skipAnimation?(fa.batchedUpdates((()=>this.advance())),Ou(this)):Ja.start(this))}_attach(){let e=1;Da(Fa(this.source),(t=>{Nl(t)&&jl(t,this),Xc(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Da(Fa(this.source),(e=>{Nl(e)&&Fl(e,this)})),this._active.clear(),Ou(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Fa(this.source).reduce(((e,t)=>Math.max(e,(Xc(t)?t.priority:0)+1)),0))}};function Lu(e){return!1!==e.idle}function Pu(e){return!e.size||Array.from(e).every(Lu)}function Ou(e){e.idle||(e.idle=!0,Da(uc(e),(e=>{e.done=!0})),Pl(e,{type:"idle",parent:e}))}var Du=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Ru(e,n)};Ra.assign({createStringInterpolator:Ql,to:(e,t)=>new Ru(e,t)});Ja.advance;var ju=__webpack_require__(7950),Fu=__webpack_require__.t(ju,2),$u=/^--/;function Bu(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||$u.test(e)||zu.hasOwnProperty(e)&&zu[e]?(""+t).trim():t+"px"}var Uu={};var zu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vu=["Webkit","Ms","Moz","O"];zu=Object.keys(zu).reduce(((e,t)=>(Vu.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),zu);var Wu=/^(matrix|translate|scale|rotate|skew)/,Hu=/^(translate)/,qu=/^(rotate|skew)/,Ku=(e,t)=>Pa.num(e)&&0!==e?e+t:e,Gu=(e,t)=>Pa.arr(e)?e.every((e=>Gu(e,t))):Pa.num(e)?e===t:parseFloat(e)===t,Qu=class extends gc{constructor(e){let{x:t,y:n,z:i,...r}=e;const o=[],s=[];(t||n||i)&&(o.push([t||0,n||0,i||0]),s.push((e=>["translate3d(".concat(e.map((e=>Ku(e,"px"))).join(","),")"),Gu(e,0)]))),ja(r,((e,t)=>{if("transform"===t)o.push([e||""]),s.push((e=>[e,""===e]));else if(Wu.test(t)){if(delete r[t],Pa.und(e))return;const n=Hu.test(t)?"px":qu.test(t)?"deg":"";o.push(Fa(e)),s.push("rotate3d"===t?e=>{let[t,i,r,o]=e;return["rotate3d(".concat(t,",").concat(i,",").concat(r,",").concat(Ku(o,n),")"),Gu(o,0)]}:e=>["".concat(t,"(").concat(e.map((e=>Ku(e,n))).join(","),")"),Gu(e,t.startsWith("scale")?1:0)])}})),o.length&&(r.transform=new Yu(o,s)),super(r)}},Yu=class extends Ol{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Da(this.inputs,((n,i)=>{const r=Rl(n[0]),[o,s]=this.transforms[i](Pa.arr(r)?r:n.map(Rl));e+=" "+o,t=t&&s})),t?"none":e}observerAdded(e){1==e&&Da(this.inputs,(e=>Da(e,(e=>Nl(e)&&jl(e,this)))))}observerRemoved(e){0==e&&Da(this.inputs,(e=>Da(e,(e=>Nl(e)&&Fl(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Pl(this,e)}};Ra.assign({batchedUpdates:ju.unstable_batchedUpdates,createStringInterpolator:Ql,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Xu=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new gc(e),getComponentProps:i=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},o=e=>{const t=xc(e)||"Anonymous";return(e=Pa.str(e)?o[e]||(o[e]=_c(e,r)):e[wc]||(e[wc]=_c(e,r))).displayName="Animated(".concat(t,")"),e};return ja(e,((t,n)=>{Pa.arr(e)&&(n=xc(t)),o[n]=o(t)})),{animated:o}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:i,children:r,scrollTop:o,scrollLeft:s,viewBox:a,...l}=t,c=Object.values(l),u=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:Uu[t]||(Uu[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==r&&(e.textContent=r);for(const h in i)if(i.hasOwnProperty(h)){const t=Bu(h,i[h]);$u.test(h)?e.style.setProperty(h,t):e.style[h]=t}u.forEach(((t,n)=>{e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s),void 0!==a&&e.setAttribute("viewBox",a)},createAnimatedStyle:e=>new Qu(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...i}=e;return i}}),Ju=Xu.animated;const Zu=(t,n)=>{const i=function(t){const n=e.useRef(null);return e.useEffect((()=>{n.current=t}),[t]),n.current}(t),r=e.useMemo((()=>i?kn(i,t):()=>t),[i,t]),{value:o}=Iu({from:{value:0},to:{value:1},reset:!0,immediate:n});return Du([o],r)};function eh(e){return e.replace(" ","_")}let th=0;const nh=t["useId".toString()];function ih(t){if(void 0!==nh){const e=nh();return null!=t?t:e}return function(t){const[n,i]=e.useState(t),r=t||n;return e.useEffect((()=>{null==n&&(th+=1,i("mui-".concat(th)))}),[n]),r}(t)}const rh="DEFAULT_X_AXIS_KEY",oh={top:50,bottom:50,left:50,right:50},sh=(t,n,i)=>{const r=(0,Zo.A)({},oh,i);return e.useMemo((()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,t-r.left-r.right),height:Math.max(0,n-r.top-r.bottom)})),[t,n,r.top,r.bottom,r.left,r.right])},ah=e.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1});const lh=e.createContext({isInitialized:!1,data:{current:null}});function ch(t){const{width:n,height:i,margin:r,svgRef:s,children:a}=t,l=sh(n,i,r),c=ih(),u=e.useCallback(((e,t)=>{let{x:n,y:i}=e;return!(!t||!t.closest("[data-drawing-container]"))||n>=l.left&&n<=l.left+l.width&&i>=l.top&&i<=l.top+l.height}),[l]),h=e.useMemo((()=>(0,Zo.A)({chartId:null!==c&&void 0!==c?c:""},l,{isPointInside:u})),[c,l,u]),d=e.useMemo((()=>({isInitialized:!0,data:s})),[s]);return(0,o.jsx)(lh.Provider,{value:d,children:(0,o.jsx)(ah.Provider,{value:h,children:a})})}function uh(){const{left:t,top:n,width:i,height:r,bottom:o,right:s,isPointInside:a}=e.useContext(ah);return e.useMemo((()=>({left:t,top:n,width:i,height:r,bottom:o,right:s,isPointInside:a})),[r,t,n,i,o,s,a])}function hh(){const{chartId:t}=e.useContext(ah);return e.useMemo((()=>t),[t])}const dh=["d","skipAnimation","ownerState"],ph=da(Ju.path,{name:"MuiAreaElement",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t}=e;return{stroke:"none",fill:t.gradientId&&"url(#".concat(t.gradientId,")")||t.isHighlighted&&Jt(t.color).brighter(1).formatHex()||Jt(t.color).brighter(.5).formatHex(),transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:t.isFaded?.3:1}}));function fh(t){const{d:n,skipAnimation:i,ownerState:r}=t,s=(0,es.A)(t,dh),{left:a,top:l,right:c,bottom:u,width:h,height:d}=uh(),p=hh(),f=Zu(n,i),{animatedWidth:g}=Iu({from:{animatedWidth:a},to:{animatedWidth:h+a+c},reset:!1,immediate:i}),m=eh("".concat(p,"-").concat(r.id,"-area-clip"));return(0,o.jsxs)(e.Fragment,{children:[(0,o.jsx)("clipPath",{id:m,children:(0,o.jsx)(Ju.rect,{x:0,y:0,width:g,height:l+d+u})}),(0,o.jsx)("g",{clipPath:"url(#".concat(m,")"),children:(0,o.jsx)(ph,(0,Zo.A)({},s,{ownerState:r,d:f}))})]})}function gh(e){const t=ks();if(!e)return{isHighlighted:!1,isFaded:!1};const n=t.isHighlighted(e);return{isHighlighted:n,isFaded:!n&&t.isFaded(e)}}const mh=["id","classes","color","gradientId","slots","slotProps","onClick"];function vh(e){return ys("MuiAreaElement",e)}_s("MuiAreaElement",["root","highlighted","faded"]);const yh=e=>{const{classes:t,id:n,isFaded:i,isHighlighted:r}=e;return ss({root:["root","series-".concat(n),r&&"highlighted",i&&"faded"]},vh,t)};function _h(e){var t;const{id:n,classes:i,color:r,gradientId:s,slots:a,slotProps:l,onClick:c}=e,u=(0,es.A)(e,mh),h=Cs(),{isFaded:d,isHighlighted:p}=gh({seriesId:n}),f={id:n,classes:i,color:r,gradientId:s,isFaded:d,isHighlighted:p},g=yh(f),m=null!==(t=null===a||void 0===a?void 0:a.area)&&void 0!==t?t:fh,v=fs({elementType:m,externalSlotProps:null===l||void 0===l?void 0:l.area,additionalProps:(0,Zo.A)({},h({type:"line",seriesId:n}),{onClick:c,cursor:c?"pointer":"unset"}),className:g.root,ownerState:f});return(0,o.jsx)(m,(0,Zo.A)({},u,v))}function bh(e){return void 0!==e.bandwidth}function wh(e){return bh(e)?t=>{var n;return(null!==(n=e(t))&&void 0!==n?n:0)+e.bandwidth()/2}:t=>e(t)}const xh=Math.abs,Ah=Math.atan2,kh=Math.cos,Ch=Math.max,Sh=Math.min,Eh=Math.sin,Th=Math.sqrt,Ih=1e-12,Mh=Math.PI,Nh=Mh/2,Rh=2*Mh;function Lh(e){return e>=1?Nh:e<=-1?-Nh:Math.asin(e)}function Ph(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Oh(e,t){this._context=e,this._k=(1-t)/6}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ph(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ph(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new Oh(e,t)}return n.tension=function(t){return e(+t)},n})(0);function Dh(e,t){this._context=e,this._alpha=t}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ih){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ih){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jh=function e(t){function n(e){return t?new Dh(e,t):new Oh(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Fh(e){return e<0?-1:1}function $h(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Fh(o)+Fh(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Bh(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Uh(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function zh(e){this._context=e}function Vh(e){this._context=new Wh(e)}function Wh(e){this._context=e}function Hh(e){return new zh(e)}function qh(e){return new Vh(e)}function Kh(e){this._context=e}function Gh(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function Qh(e){return new Kh(e)}function Yh(e,t){this._context=e,this._t=t}function Xh(e){return new Yh(e,.5)}function Jh(e){return new Yh(e,0)}function Zh(e){return new Yh(e,1)}function ed(e){switch(e){case"catmullRom":return jh.alpha(.5);case"linear":return ns;case"monotoneX":default:return Hh;case"monotoneY":return qh;case"natural":return Qh;case"step":return Xh;case"stepBefore":return Jh;case"stepAfter":return Zh}}function td(t){const{isReversed:n,gradientId:i,size:r,direction:s,scale:a,colorMap:l}=t;return(0,o.jsx)("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"0",["".concat(s).concat(n?1:2)]:"".concat(r,"px"),gradientUnits:"userSpaceOnUse",children:l.thresholds.map(((t,i)=>{const s=a(t);if(void 0===s)return null;const c=n?1-s/r:s/r;return(0,o.jsxs)(e.Fragment,{children:[(0,o.jsx)("stop",{offset:c,stopColor:l.colors[i],stopOpacity:1}),(0,o.jsx)("stop",{offset:c,stopColor:l.colors[i+1],stopOpacity:1})]},t.toString()+i)}))})}function nd(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uh(this,this._t0,Bh(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uh(this,Bh(this,n=$h(this,e,t)),n);break;default:Uh(this,this._t0,n=$h(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Vh.prototype=Object.create(zh.prototype)).point=function(e,t){zh.prototype.point.call(this,t,e)},Wh.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},Kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Gh(e),r=Gh(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const id=10;function rd(e){var t,n;const{gradientUnits:i,isReversed:r,gradientId:s,size:a,direction:l,scale:c,colorScale:u,colorMap:h}=e,d=[null!==(t=h.min)&&void 0!==t?t:0,null!==(n=h.max)&&void 0!==n?n:100],p=d.map(c).filter((e=>void 0!==e));if(2!==p.length)return null;const f="number"===typeof d[0]?At(d[0],d[1]):nd(d[0],d[1]),g=Math.round((Math.max(...p)-Math.min(...p))/id),m="".concat(d[0],"-").concat(d[1],"-");return(0,o.jsx)("linearGradient",{id:s,x1:"0",x2:"0",y1:"0",y2:"0",["".concat(l).concat(r?1:2)]:"objectBoundingBox"===i?1:"".concat(a,"px"),gradientUnits:null!==i&&void 0!==i?i:"userSpaceOnUse",children:Array.from({length:g+1},((e,t)=>{const n=f(t/g);if(void 0===n)return null;const i=c(n);if(void 0===i)return null;const s=r?1-i/a:i/a,l=u(n);return null===l?null:(0,o.jsx)("stop",{offset:s,stopColor:l,stopOpacity:1},m+t)}))})}function od(){const{chartId:t}=e.useContext(ah);return e.useCallback(((e,n)=>"".concat(t,"-gradient-").concat(n,"-").concat(e)),[t])}function sd(){const{top:e,height:t,bottom:n,left:i,width:r,right:s}=uh(),a=e+t+n,l=i+r+s,c=od(),{xAxisIds:u,xAxis:h,yAxisIds:d,yAxis:p}=os();return(0,o.jsxs)("defs",{children:[d.filter((e=>void 0!==p[e].colorMap)).map((e=>{const t=c(e,"y"),{colorMap:n,scale:i,colorScale:r,reverse:s}=p[e];return"piecewise"===(null===n||void 0===n?void 0:n.type)?(0,o.jsx)(td,{isReversed:!s,scale:i,colorMap:n,size:a,gradientId:t,direction:"y"},t):"continuous"===(null===n||void 0===n?void 0:n.type)?(0,o.jsx)(rd,{isReversed:!s,scale:i,colorScale:r,colorMap:n,size:a,gradientId:t,direction:"y"},t):null})),u.filter((e=>void 0!==h[e].colorMap)).map((e=>{const t=c(e,"x"),{colorMap:n,scale:i,reverse:r,colorScale:s}=h[e];return"piecewise"===(null===n||void 0===n?void 0:n.type)?(0,o.jsx)(td,{isReversed:r,scale:i,colorMap:n,size:l,gradientId:t,direction:"x"},t):"continuous"===(null===n||void 0===n?void 0:n.type)?(0,o.jsx)(rd,{isReversed:r,scale:i,colorScale:s,colorMap:n,size:l,gradientId:t,direction:"x"},t):null}))]})}var ad=__webpack_require__(4575);const ld=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(ad.T);return n&&(i=n,0!==Object.keys(i).length)?n:t;var i},cd=(0,Ns.A)();const ud=function(){return ld(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cd)};function hd(){const e=ud(la);return e[ca]||e}const dd=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];const pd=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],fd=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],gd=e=>"dark"===e?fd:pd,md=e.createContext({isInitialized:!1,data:{}});const vd=(e,t,n,i)=>{const r={};e.forEach(((e,n)=>{var i;const{id:o="auto-generated-id-".concat(n),type:s}=e;if(void 0===r[s]&&(r[s]={series:{},seriesOrder:[]}),void 0!==(null===(i=r[s])||void 0===i?void 0:i.series[o]))throw new Error("MUI X: series' id \"".concat(o,'" is not unique.'));r[s].series[o]=(0,Zo.A)({id:o},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dd;return"pie"===e.type?(0,Zo.A)({},e,{data:e.data.map(((e,t)=>(0,Zo.A)({color:n[t%n.length]},e)))}):(0,Zo.A)({color:n[t%n.length]},e)}(e,n,t)),r[s].seriesOrder.push(o)}));const o={};return Object.keys(n).forEach((e=>{const t=r[e];var s,a;void 0!==t&&(o[e]=null!==(s=null===(a=n[e])||void 0===a?void 0:a.call(n,t,i))&&void 0!==s?s:r[e])})),o};function yd(t){const{series:n,dataset:i,colors:r=gd,seriesFormatters:s,children:a}=t,l=hd(),c=e.useMemo((()=>({isInitialized:!0,data:vd(n,"function"===typeof r?r(l.palette.mode):r,s,i)})),[n,r,l.palette.mode,s,i]);return(0,o.jsx)(md.Provider,{value:c,children:a})}function _d(){const{isInitialized:t,data:n}=e.useContext(md);if(!t)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return n}function bd(){const t=_d();return e.useMemo((()=>t.line),[t.line])}const wd=["slots","slotProps","onItemClick","skipAnimation"],xd=()=>{const e=bd(),t=os();if(void 0===e)return[];const{series:n,stackingGroups:i}=e,{xAxis:r,yAxis:o,xAxisIds:s,yAxisIds:a}=t,l=s[0],c=a[0];return i.flatMap((e=>{let{ids:t}=e;return[...t].reverse().map((e=>{var t;const{xAxisId:i,yAxisId:s,xAxisKey:a=l,yAxisKey:u=c,stackedData:h,data:d,connectNulls:p}=n[e],f=null!==i&&void 0!==i?i:a,g=null!==s&&void 0!==s?s:u,m=wh(r[f].scale),v=o[g].scale,y=r[f].data,_=o[g].colorScale&&[g,"y"]||r[f].colorScale&&[f,"x"]||void 0;const b=function(e,t,n){var i=null,r=Ii(!0),o=null,s=ns,a=null,l=$i(c);function c(c){var u,h,d,p,f,g=(c=Ti(c)).length,m=!1,v=new Array(g),y=new Array(g);for(null==o&&(a=s(f=l())),u=0;u<=g;++u){if(!(u<g&&r(p=c[u],u,c))===m)if(m=!m)h=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),d=u-1;d>=h;--d)a.point(v[d],y[d]);a.lineEnd(),a.areaEnd()}m&&(v[u]=+e(p,u,c),y[u]=+t(p,u,c),a.point(i?+i(p,u,c):v[u],n?+n(p,u,c):y[u]))}if(f)return a=null,f+""||null}function u(){return is().defined(r).curve(s).context(o)}return e="function"===typeof e?e:void 0===e?Bi:Ii(+e),t="function"===typeof t?t:Ii(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Ui:Ii(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Ii(+t),i=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Ii(+t),c):e},c.x1=function(e){return arguments.length?(i=null==e?null:"function"===typeof e?e:Ii(+e),c):i},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Ii(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(i).y(t)},c.defined=function(e){return arguments.length?(r="function"===typeof e?e:Ii(!!e),c):r},c.curve=function(e){return arguments.length?(s=e,null!=o&&(a=s(o)),c):s},c.context=function(e){return arguments.length?(null==e?o=a=null:a=s(o=e),c):o},c}().x((e=>m(e.x))).defined(((e,t)=>p||null!=d[t])).y0((e=>{const t=e.y&&v(e.y[0]);return Number.isNaN(t)?v.range()[0]:t})).y1((e=>e.y&&v(e.y[1]))),w=ed(n[e].curve),x=null!==(t=null===y||void 0===y?void 0:y.map(((e,t)=>({x:e,y:h[t]}))))&&void 0!==t?t:[],A=p?x.filter(((e,t)=>null!=d[t])):x,k=b.curve(w)(A)||"";return(0,Zo.A)({},n[e],{gradientUsed:_,d:k,seriesId:e})}))}))};function Ad(e){const{slots:t,slotProps:n,onItemClick:i,skipAnimation:r}=e,s=(0,es.A)(e,wd),a=od(),l=xd();return(0,o.jsx)("g",(0,Zo.A)({},s,{children:l.map((e=>{let{d:s,seriesId:l,color:c,area:u,gradientUsed:h}=e;return!!u&&(0,o.jsx)(_h,{id:l,d:s,color:c,gradientId:h&&a(...h),slots:t,slotProps:n,onClick:i&&(e=>i(e,{type:"line",seriesId:l})),skipAnimation:r},l)}))}))}const kd=["d","skipAnimation","ownerState"],Cd=da(Ju.path,{name:"MuiLineElement",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t}=e;return{strokeWidth:2,strokeLinejoin:"round",fill:"none",stroke:t.gradientId&&"url(#".concat(t.gradientId,")")||t.isHighlighted&&Jt(t.color).brighter(.5).formatHex()||t.color,transition:"opacity 0.2s ease-in, stroke 0.2s ease-in",opacity:t.isFaded?.3:1}}));function Sd(t){const{d:n,skipAnimation:i,ownerState:r}=t,s=(0,es.A)(t,kd),{left:a,top:l,bottom:c,width:u,height:h,right:d}=uh(),p=hh(),f=Zu(n,i),{animatedWidth:g}=Iu({from:{animatedWidth:a},to:{animatedWidth:u+a+d},reset:!1,immediate:i}),m=eh("".concat(p,"-").concat(r.id,"-line-clip"));return(0,o.jsxs)(e.Fragment,{children:[(0,o.jsx)("clipPath",{id:m,children:(0,o.jsx)(Ju.rect,{x:0,y:0,width:g,height:l+h+c})}),(0,o.jsx)("g",{clipPath:"url(#".concat(m,")"),children:(0,o.jsx)(Cd,(0,Zo.A)({},s,{ownerState:r,d:f}))})]})}const Ed=["id","classes","color","gradientId","slots","slotProps","onClick"];function Td(e){return ys("MuiLineElement",e)}_s("MuiLineElement",["root","highlighted","faded"]);const Id=e=>{const{classes:t,id:n,isFaded:i,isHighlighted:r}=e;return ss({root:["root","series-".concat(n),r&&"highlighted",i&&"faded"]},Td,t)};function Md(e){var t;const{id:n,classes:i,color:r,gradientId:s,slots:a,slotProps:l,onClick:c}=e,u=(0,es.A)(e,Ed),h=Cs(),{isFaded:d,isHighlighted:p}=gh({seriesId:n}),f={id:n,classes:i,color:r,gradientId:s,isFaded:d,isHighlighted:p},g=Id(f),m=null!==(t=null===a||void 0===a?void 0:a.line)&&void 0!==t?t:Sd,v=fs({elementType:m,externalSlotProps:null===l||void 0===l?void 0:l.line,additionalProps:(0,Zo.A)({},h({type:"line",seriesId:n}),{onClick:c,cursor:c?"pointer":"unset"}),className:g.root,ownerState:f});return(0,o.jsx)(m,(0,Zo.A)({},u,v))}const Nd=["slots","slotProps","skipAnimation","onItemClick"];function Rd(e){const{slots:t,slotProps:n,skipAnimation:i,onItemClick:r}=e,s=(0,es.A)(e,Nd),a=od(),l=(()=>{const e=bd(),t=os();if(void 0===e)return[];const{series:n,stackingGroups:i}=e,{xAxis:r,yAxis:o,xAxisIds:s,yAxisIds:a}=t,l=s[0],c=a[0];return i.flatMap((e=>{let{ids:t}=e;return t.flatMap((e=>{var t;const{xAxisId:i,yAxisId:s,xAxisKey:a=l,yAxisKey:u=c,stackedData:h,data:d,connectNulls:p}=n[e],f=null!==i&&void 0!==i?i:a,g=null!==s&&void 0!==s?s:u,m=wh(r[f].scale),v=o[g].scale,y=r[f].data,_=o[g].colorScale&&[g,"y"]||r[f].colorScale&&[f,"x"]||void 0,b=is().x((e=>m(e.x))).defined(((e,t)=>p||null!=d[t])).y((e=>v(e.y[1]))),w=null!==(t=null===y||void 0===y?void 0:y.map(((e,t)=>({x:e,y:h[t]}))))&&void 0!==t?t:[],x=p?w.filter(((e,t)=>null!=d[t])):w,A=b.curve(ed(n[e].curve))(x)||"";return(0,Zo.A)({},n[e],{gradientUsed:_,d:A,seriesId:e})}))}))})();return(0,o.jsx)("g",(0,Zo.A)({},s,{children:l.map((e=>{let{d:s,seriesId:l,color:c,gradientUsed:u}=e;return(0,o.jsx)(Md,{id:l,d:s,color:c,gradientId:u&&a(...u),skipAnimation:i,slots:t,slotProps:n,onClick:r&&(e=>r(e,{type:"line",seriesId:l}))},l)}))}))}const Ld=e.createContext({});function Pd(e){const{colorProcessors:t,children:n}=e;return(0,o.jsx)(Ld.Provider,{value:t,children:n})}function Od(){const{isInitialized:t,data:n}=e.useContext(lh);if(!t)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return n}function Dd(e){return e instanceof Date?e.getTime():e}const jd=["children","width","height","viewBox","disableAxisListener","className","title","desc"],Fd=da("svg",{name:"MuiChartsSurface",slot:"Root"})((()=>({touchAction:"none"}))),$d=e.forwardRef((function(t,n){const{children:i,width:r,height:s,viewBox:a,disableAxisListener:l=!1,className:c,title:u,desc:h}=t,d=(0,es.A)(t,jd),p=(0,Zo.A)({width:r,height:s,x:0,y:0},a);return(t=>{const n=Od(),i=uh(),{xAxis:r,yAxis:o,xAxisIds:s,yAxisIds:a}=os(),{dispatch:l}=e.useContext(bs),c=s[0],u=a[0],h=e.useRef({isInChart:!1,x:-1,y:-1});e.useEffect((()=>{const e=n.current;if(null===e||t)return()=>{};function s(e,t){const{scale:n,data:i,reverse:r}=e;if(!bh(n)){const e=n.invert(t);if(void 0===i)return{value:e};const r=Dd(e),o=null===i||void 0===i?void 0:i.findIndex(((t,n)=>{const o=Dd(t);return o>r&&(0===n||Math.abs(r-o)<=Math.abs(r-Dd(i[n-1])))||o<=r&&(n===i.length-1||Math.abs(Dd(e)-o)<Math.abs(Dd(e)-Dd(i[n+1])))}));return{value:void 0!==o&&o>=0?i[o]:e,index:o}}const o=0===n.bandwidth()?Math.floor((t-Math.min(...n.range())+n.step()/2)/n.step()):Math.floor((t-Math.min(...n.range()))/n.step());if(o<0||o>=i.length)return null;if(r){const e=i.length-1-o;return{index:e,value:i[e]}}return{index:o,value:i[o]}}const a=()=>{h.current={isInChart:!1,x:-1,y:-1},l({type:"exitChart"})},d=t=>{const n="targetTouches"in t?t.targetTouches[0]:t,a=function(e,t){const n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n.matrixTransform(e.getScreenCTM().inverse())}(e,n);if(h.current.x=a.x,h.current.y=a.y,!i.isPointInside(a,t.target))return void(h.current.isInChart&&(l({type:"exitChart"}),h.current.isInChart=!1));h.current.isInChart=!0;const d=s(r[c],a.x),p=s(o[u],a.y);l({type:"updateAxis",data:{x:d,y:p}})},p=e=>{const t=e.currentTarget;t&&t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId)};return e.addEventListener("pointerdown",p),e.addEventListener("pointermove",d),e.addEventListener("pointerout",a),e.addEventListener("pointercancel",a),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerdown",p),e.removeEventListener("pointermove",d),e.removeEventListener("pointerout",a),e.removeEventListener("pointercancel",a),e.removeEventListener("pointerleave",a)}}),[n,l,u,o,c,r,t,i])})(l),(0,o.jsxs)(Fd,(0,Zo.A)({width:r,height:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:n,className:c},d,{children:[(0,o.jsx)("title",{children:u}),(0,o.jsx)("desc",{children:h}),i]}))}));function Bd(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ud(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zd(e){let t,n,i;function r(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<0?r=t+1:o=t}while(r<o)}return r}return 2!==e.length?(t=Bd,n=(t,n)=>Bd(e(t),n),i=(t,n)=>e(t)-n):(t=e===Bd||e===Ud?e:Vd,n=e,i=e),{left:r,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=r(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&i(e[o-1],t)>-i(e[o],t)?o-1:o},right:function(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<=0?r=t+1:o=t}while(r<o)}return r}}}function Vd(){return 0}const Wd=Math.sqrt(50),Hd=Math.sqrt(10),qd=Math.sqrt(2);function Kd(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),s=o>=Wd?10:o>=Hd?5:o>=qd?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Kd(e,t,2*n):[a,l,c]}function Gd(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const i=t<e,[r,o,s]=i?Kd(t,e,n):Kd(e,t,n);if(!(o>=r))return[];const a=o-r+1,l=new Array(a);if(i)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(r+c)/-s;else for(let c=0;c<a;++c)l[c]=(r+c)*s;return l}function Qd(e,t,n){return Kd(e=+e,t=+t,n=+n)[2]}function Yd(e,t,n){n=+n;const i=(t=+t)<(e=+e),r=i?Qd(t,e,n):Qd(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}const Xd=1e3,Jd=6e4,Zd=36e5,ep=864e5,tp=6048e5,np=2592e6,ip=31536e6,rp=new Date,op=new Date;function sp(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=t=>(e(t=new Date(+t)),t),r.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),r.round=e=>{const t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),r.range=(n,i,o)=>{const s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i)||!(o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<i);return s},r.filter=n=>sp((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,i)=>{if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););})),n&&(r.count=(t,i)=>(rp.setTime(+t),op.setTime(+i),e(rp),e(op),Math.floor(n(rp,op))),r.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?t=>i(t)%e===0:t=>r.count(0,t)%e===0):r:null)),r}const ap=sp((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));ap.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?sp((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):ap:null);ap.range;const lp=sp((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Xd)}),((e,t)=>(t-e)/Xd),(e=>e.getUTCSeconds())),cp=(lp.range,sp((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xd)}),((e,t)=>{e.setTime(+e+t*Jd)}),((e,t)=>(t-e)/Jd),(e=>e.getMinutes()))),up=(cp.range,sp((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Jd)}),((e,t)=>(t-e)/Jd),(e=>e.getUTCMinutes()))),hp=(up.range,sp((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xd-e.getMinutes()*Jd)}),((e,t)=>{e.setTime(+e+t*Zd)}),((e,t)=>(t-e)/Zd),(e=>e.getHours()))),dp=(hp.range,sp((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Zd)}),((e,t)=>(t-e)/Zd),(e=>e.getUTCHours()))),pp=(dp.range,sp((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jd)/ep),(e=>e.getDate()-1))),fp=(pp.range,sp((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ep),(e=>e.getUTCDate()-1))),gp=(fp.range,sp((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ep),(e=>Math.floor(e/ep))));gp.range;function mp(e){return sp((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jd)/tp))}const vp=mp(0),yp=mp(1),_p=mp(2),bp=mp(3),wp=mp(4),xp=mp(5),Ap=mp(6);vp.range,yp.range,_p.range,bp.range,wp.range,xp.range,Ap.range;function kp(e){return sp((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/tp))}const Cp=kp(0),Sp=kp(1),Ep=kp(2),Tp=kp(3),Ip=kp(4),Mp=kp(5),Np=kp(6),Rp=(Cp.range,Sp.range,Ep.range,Tp.range,Ip.range,Mp.range,Np.range,sp((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Lp=(Rp.range,sp((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Pp=(Lp.range,sp((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Pp.every=e=>isFinite(e=Math.floor(e))&&e>0?sp((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;Pp.range;const Op=sp((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Op.every=e=>isFinite(e=Math.floor(e))&&e>0?sp((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Op.range;function Dp(e,t,n,i,r,o){const s=[[lp,1,Xd],[lp,5,5e3],[lp,15,15e3],[lp,30,3e4],[o,1,Jd],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,Zd],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,ep],[i,2,1728e5],[n,1,tp],[t,1,np],[t,3,7776e6],[e,1,ip]];function a(t,n,i){const r=Math.abs(n-t)/i,o=zd((e=>{let[,,t]=e;return t})).right(s,r);if(o===s.length)return e.every(Yd(t/ip,n/ip,i));if(0===o)return ap.every(Math.max(Yd(t,n,i),1));const[a,l]=s[r/s[o-1][2]<s[o][2]/r?o-1:o];return a.every(l)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"===typeof n.range?n:a(e,t,n),o=r?r.range(e,+t+1):[];return i?o.reverse():o},a]}const[jp,Fp]=Dp(Op,Lp,Cp,gp,dp,up),[$p,Bp]=Dp(Pp,Rp,vp,pp,hp,cp);function Up(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Wp,Hp,qp,Kp={"-":"",_:" ",0:"0"},Gp=/^\s*\d+/,Qp=/^%/,Yp=/[\\^$*+?|[\]().{}]/g;function Xp(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Jp(e){return e.replace(Yp,"\\$&")}function Zp(e){return new RegExp("^(?:"+e.map(Jp).join("|")+")","i")}function ef(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function tf(e,t,n){var i=Gp.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function nf(e,t,n){var i=Gp.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function rf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function of(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function sf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function af(e,t,n){var i=Gp.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function lf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function cf(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function uf(e,t,n){var i=Gp.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function hf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function df(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function pf(e,t,n){var i=Gp.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function ff(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function gf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function mf(e,t,n){var i=Gp.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function vf(e,t,n){var i=Gp.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function yf(e,t,n){var i=Gp.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function _f(e,t,n){var i=Qp.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function bf(e,t,n){var i=Gp.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function wf(e,t,n){var i=Gp.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function xf(e,t){return Xp(e.getDate(),t,2)}function Af(e,t){return Xp(e.getHours(),t,2)}function kf(e,t){return Xp(e.getHours()%12||12,t,2)}function Cf(e,t){return Xp(1+pp.count(Pp(e),e),t,3)}function Sf(e,t){return Xp(e.getMilliseconds(),t,3)}function Ef(e,t){return Sf(e,t)+"000"}function Tf(e,t){return Xp(e.getMonth()+1,t,2)}function If(e,t){return Xp(e.getMinutes(),t,2)}function Mf(e,t){return Xp(e.getSeconds(),t,2)}function Nf(e){var t=e.getDay();return 0===t?7:t}function Rf(e,t){return Xp(vp.count(Pp(e)-1,e),t,2)}function Lf(e){var t=e.getDay();return t>=4||0===t?wp(e):wp.ceil(e)}function Pf(e,t){return e=Lf(e),Xp(wp.count(Pp(e),e)+(4===Pp(e).getDay()),t,2)}function Of(e){return e.getDay()}function Df(e,t){return Xp(yp.count(Pp(e)-1,e),t,2)}function jf(e,t){return Xp(e.getFullYear()%100,t,2)}function Ff(e,t){return Xp((e=Lf(e)).getFullYear()%100,t,2)}function $f(e,t){return Xp(e.getFullYear()%1e4,t,4)}function Bf(e,t){var n=e.getDay();return Xp((e=n>=4||0===n?wp(e):wp.ceil(e)).getFullYear()%1e4,t,4)}function Uf(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xp(t/60|0,"0",2)+Xp(t%60,"0",2)}function zf(e,t){return Xp(e.getUTCDate(),t,2)}function Vf(e,t){return Xp(e.getUTCHours(),t,2)}function Wf(e,t){return Xp(e.getUTCHours()%12||12,t,2)}function Hf(e,t){return Xp(1+fp.count(Op(e),e),t,3)}function qf(e,t){return Xp(e.getUTCMilliseconds(),t,3)}function Kf(e,t){return qf(e,t)+"000"}function Gf(e,t){return Xp(e.getUTCMonth()+1,t,2)}function Qf(e,t){return Xp(e.getUTCMinutes(),t,2)}function Yf(e,t){return Xp(e.getUTCSeconds(),t,2)}function Xf(e){var t=e.getUTCDay();return 0===t?7:t}function Jf(e,t){return Xp(Cp.count(Op(e)-1,e),t,2)}function Zf(e){var t=e.getUTCDay();return t>=4||0===t?Ip(e):Ip.ceil(e)}function eg(e,t){return e=Zf(e),Xp(Ip.count(Op(e),e)+(4===Op(e).getUTCDay()),t,2)}function tg(e){return e.getUTCDay()}function ng(e,t){return Xp(Sp.count(Op(e)-1,e),t,2)}function ig(e,t){return Xp(e.getUTCFullYear()%100,t,2)}function rg(e,t){return Xp((e=Zf(e)).getUTCFullYear()%100,t,2)}function og(e,t){return Xp(e.getUTCFullYear()%1e4,t,4)}function sg(e,t){var n=e.getUTCDay();return Xp((e=n>=4||0===n?Ip(e):Ip.ceil(e)).getUTCFullYear()%1e4,t,4)}function ag(){return"+0000"}function lg(){return"%"}function cg(e){return+e}function ug(e){return Math.floor(+e/1e3)}Wp=function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Zp(r),u=ef(r),h=Zp(o),d=ef(o),p=Zp(s),f=ef(s),g=Zp(a),m=ef(a),v=Zp(l),y=ef(l),_={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:xf,e:xf,f:Ef,g:Ff,G:Bf,H:Af,I:kf,j:Cf,L:Sf,m:Tf,M:If,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:cg,s:ug,S:Mf,u:Nf,U:Rf,V:Pf,w:Of,W:Df,x:null,X:null,y:jf,Y:$f,Z:Uf,"%":lg},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:zf,e:zf,f:Kf,g:rg,G:sg,H:Vf,I:Wf,j:Hf,L:qf,m:Gf,M:Qf,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:cg,s:ug,S:Yf,u:Xf,U:Jf,V:eg,w:tg,W:ng,x:null,X:null,y:ig,Y:og,Z:ag,"%":lg},w={a:function(e,t,n){var i=p.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return k(e,t,n,i)},d:df,e:df,f:yf,g:lf,G:af,H:ff,I:ff,j:pf,L:vf,m:hf,M:gf,p:function(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=u.get(i[0].toLowerCase()),n+i[0].length):-1},q:uf,Q:bf,s:wf,S:mf,u:nf,U:rf,V:of,w:tf,W:sf,x:function(e,t,i){return k(e,n,t,i)},X:function(e,t,n){return k(e,i,t,n)},y:lf,Y:af,Z:cf,"%":_f};function x(e,t){return function(n){var i,r,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(r=Kp[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function A(e,t){return function(n){var i,r,o=Vp(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=zp(Vp(o.y,0,1))).getUTCDay(),i=r>4||0===r?Sp.ceil(i):Sp(i),i=fp.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Up(Vp(o.y,0,1))).getDay(),i=r>4||0===r?yp.ceil(i):yp(i),i=pp.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?zp(Vp(o.y,0,1)).getUTCDay():Up(Vp(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,zp(o)):Up(o)}}function k(e,t,n,i){for(var r,o,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(o=w[r in Kp?t.charAt(s++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return _.x=x(n,_),_.X=x(i,_),_.c=x(t,_),b.x=x(n,b),b.X=x(i,b),b.c=x(t,b),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Hp=Wp.format,Wp.parse,qp=Wp.utcFormat,Wp.utcParse;const hg=zd(Bd),dg=hg.right,pg=(hg.left,zd((function(e){return null===e?NaN:+e})).center,dg);function fg(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=vg(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=o[n](e);return s}}function gg(e,t){var n,i={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=vg(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}function mg(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function vg(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?mn(t):("number"===r?At:"string"===r?(n=Jt(t))?(t=n,bn):kn:t instanceof Jt?bn:t instanceof Date?nd:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?fg:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?gg:At:mg))(e,t)}function yg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function _g(e){return+e}var bg=[0,1];function wg(e){return e}function xg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Ag(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=xg(r,i),o=n(s,o)):(i=xg(i,r),o=n(o,s)),function(e){return o(i(e))}}function kg(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=xg(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=pg(e,t,1,i)-1;return o[n](r[n](t))}}function Cg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sg(){var e,t,n,i,r,o,s=bg,a=bg,l=vg,c=wg;function u(){var e=Math.min(s.length,a.length);return c!==wg&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),i=e>2?kg:Ag,r=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(r||(r=i(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=i(a,s.map(e),At)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,_g),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=yg,u()},h.clamp=function(e){return arguments.length?(c=!!e||wg,u()):c!==wg},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,u()}}function Eg(){return Sg()(wg,wg)}function Tg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ig(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}function Mg(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],s=e[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),e[i]=t.floor(o),e[r]=t.ceil(s),e}function Ng(e){return new Date(e)}function Rg(e){return e instanceof Date?+e:+new Date(+e)}function Lg(e,t,n,i,r,o,s,a,l,c){var u=Eg(),h=u.invert,d=u.domain,p=c(".%L"),f=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),_=c("%B"),b=c("%Y");function w(e){return(l(e)<e?p:a(e)<e?f:s(e)<e?g:o(e)<e?m:i(e)<e?r(e)<e?v:y:n(e)<e?_:b)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,Rg)):d().map(Ng)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(Mg(n,e)):u},u.copy=function(){return Cg(u,Lg(e,t,n,i,r,o,s,a,l,c))},u}function Pg(){return Tg.apply(Lg($p,Bp,Pp,Rp,vp,pp,hp,cp,lp,Hp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}class Og extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$g;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Dg(this,e))}has(e){return super.has(Dg(this,e))}set(e,t){return super.set(jg(this,e),t)}delete(e){return super.delete(Fg(this,e))}}Set;function Dg(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)?n.get(r):t}function jg(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function Fg(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function $g(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Bg=Symbol("implicit");function Ug(){var e=new Og,t=[],n=[],i=Bg;function r(r){let o=e.get(r);if(void 0===o){if(i!==Bg)return i;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Og;for(const i of n)e.has(i)||e.set(i,t.push(i)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return Ug(t,n).unknown(i)},Tg.apply(r,arguments),r}function zg(){var e,t,n=Ug().unknown(void 0),i=n.domain,r=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=i().length,h=s<o,d=h?s:o,p=h?o:s;e=(p-d)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),d+=(p-d-e*(n-l))*u,t=e*(1-l),a&&(d=Math.round(d),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}(n).map((function(t){return d+e*t}));return r(h?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),h()):i()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,h()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return zg(i(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Tg.apply(h(),arguments)}function Vg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vg(t())},e}function Wg(){return Vg(zg.apply(null,arguments).paddingInner(1))}function Hg(){var e,t=[.5],n=[0,1],i=1;function r(r){return null!=r&&r<=r?n[pg(t,r,0,i)]:e}return r.domain=function(e){return arguments.length?(t=Array.from(e),i=Math.min(t.length,n.length-1),r):t.slice()},r.range=function(e){return arguments.length?(n=Array.from(e),i=Math.min(t.length,n.length-1),r):n.slice()},r.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return Hg().domain(t).range(n).unknown(e)},Tg.apply(r,arguments)}var qg,Kg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gg(e){if(!(t=Kg.exec(e)))throw new Error("invalid format: "+e);var t;return new Qg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Qg(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Yg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Xg(e){return(e=Yg(Math.abs(e)))?e[1]:NaN}function Jg(e,t){var n=Yg(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Gg.prototype=Qg.prototype,Qg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Zg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jg(100*e,t),r:Jg,s:function(e,t){var n=Yg(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(qg=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Yg(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function em(e){return e}var tm,nm,im,rm=Array.prototype.map,om=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sm(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?em:(t=rm.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?em:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(rm.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Gg(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,f=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Zg[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var _="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?o:/[%p]/.test(y)?l:"",w=Zg[y],x=/[defgprs%]/.test(y);function A(e){var r,o,l,d=_,A=b;if("c"===y)A=w(e)+A,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==h&&(k=!1),d=(k?"("===h?h:c:"-"===h||"("===h?"":h)+d,A=("s"===y?om[8+qg/3]:"")+A+(k&&"("===h?")":""),x)for(r=-1,o=e.length;++r<o;)if(48>(l=e.charCodeAt(r))||l>57){A=(46===l?s+e.slice(r+1):e.slice(r))+A,e=e.slice(0,r);break}}g&&!p&&(e=i(e,1/0));var C=d.length+e.length+A.length,S=C<f?new Array(f-C+1).join(t):"";switch(g&&p&&(e=i(S+e,S.length?f-A.length:1/0),S=""),n){case"<":e=d+e+A+S;break;case"=":e=d+S+e+A;break;case"^":e=S.slice(0,C=S.length>>1)+d+e+A+S.slice(C);break;default:e=S+d+e+A}return a(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return e+""},A}return{format:h,formatPrefix:function(e,t){var n=h(((e=Gg(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Xg(t)/3))),r=Math.pow(10,-i),o=om[8+i/3];return function(e){return n(r*e)+o}}}}function am(e,t,n,i){var r,o=Yd(e,t,n);switch((i=Gg(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xg(t)/3)))-Xg(Math.abs(e)))}(o,s))||(i.precision=r),im(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xg(t)-Xg(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-Xg(Math.abs(e)))}(o))||(i.precision=r-2*("%"===i.type))}return nm(i)}function lm(e){var t=e.domain;return e.ticks=function(e){var n=t();return Gd(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return am(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);u-- >0;){if((r=Qd(l,c,n))===i)return o[s]=l,o[a]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function cm(){var e=Eg();return e.copy=function(){return Cg(e,cm())},Tg.apply(e,arguments),lm(e)}function um(){var e,t,n,i,r,o=0,s=1,a=wg,l=!1;function c(t){return null==t||isNaN(t=+t)?r:a(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,i;return arguments.length?([n,i]=t,a=e(n,i),c):[a(0),a(1)]}}return c.domain=function(r){return arguments.length?([o,s]=r,e=i(o=+o),t=i(s=+s),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(a=e,c):a},c.range=u(vg),c.rangeRound=u(yg),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return i=r,e=r(o),t=r(s),n=e===t?0:1/(t-e),c}}function hm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dm(){var e=lm(um()(wg));return e.copy=function(){return hm(e,dm())},Ig.apply(e,arguments)}function pm(e){var t,n;return"piecewise"===e.type?Hg(e.thresholds,e.colors):dm([null!==(t=e.min)&&void 0!==t?t:0,null!==(n=e.max)&&void 0!==n?n:100],e.color)}function fm(e){var t,n;return e.values?Ug(e.values,e.colors).unknown(null!==(n=e.unknownColor)&&void 0!==n?n:null):Ug(e.colors.map(((e,t)=>t)),e.colors).unknown(null!==(t=e.unknownColor)&&void 0!==t?t:null)}function gm(e){return"ordinal"===e.type?fm(e):pm(e)}!function(e){tm=sm(e),nm=tm.format,im=tm.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const mm={start:0,extremities:0,end:1,middle:.5};function vm(t){const{scale:n,tickNumber:i,valueFormatter:r,tickInterval:o,tickPlacement:s="extremities",tickLabelPlacement:a="middle"}=t;return e.useMemo((()=>{if(bh(n)){const e=n.domain();if(n.bandwidth()>0){return[...("function"===typeof o&&e.filter(o)||"object"===typeof o&&o||e).map((e=>{var t;return{value:e,formattedValue:null!==(t=null===r||void 0===r?void 0:r(e,{location:"tick"}))&&void 0!==t?t:"".concat(e),offset:n(e)-(n.step()-n.bandwidth())/2+mm[s]*n.step(),labelOffset:"tick"===a?0:n.step()*(mm[a]-mm[s])}})),..."extremities"===s?[{formattedValue:void 0,offset:n.range()[1],labelOffset:0}]:[]]}return("function"===typeof o&&e.filter(o)||"object"===typeof o&&o||e).map((e=>{var t;return{value:e,formattedValue:null!==(t=null===r||void 0===r?void 0:r(e,{location:"tick"}))&&void 0!==t?t:"".concat(e),offset:n(e),labelOffset:0}}))}if(0===n.domain().length||n.domain()[0]===n.domain()[1])return[];return("object"===typeof o?o:n.ticks(i)).map((e=>{var t;return{value:e,formattedValue:null!==(t=null===r||void 0===r?void 0:r(e,{location:"tick"}))&&void 0!==t?t:n.tickFormat(i)(e),offset:n(e),labelOffset:0}}))}),[n,o,i,r,s,a])}function ym(e){return Math.log(e)}function _m(e){return Math.exp(e)}function bm(e){return-Math.log(-e)}function wm(e){return-Math.exp(-e)}function xm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Am(e){return(t,n)=>-e(-t,n)}function km(e){const t=e(ym,_m),n=t.domain;let i,r,o=10;function s(){return i=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),r=function(e){return 10===e?xm:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(i=Am(i),r=Am(r),e(bm,wm)):e(ym,_m),t}return t.base=function(e){return arguments.length?(o=+e,s()):o},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,h=i(s),d=i(a);const p=null==e?10:+e;let f=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/r(-h):c*r(h),!(u<s)){if(u>a)break;f.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/r(-h):c*r(h),!(u<s)){if(u>a)break;f.push(u)}2*f.length<p&&(f=Gd(s,a,p))}else f=Gd(h,d,Math.min(d-h,p)).map(r);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Gg(n)).precision||(n.trim=!0),n=nm(n)),e===1/0)return n;const s=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/r(Math.round(i(e)));return t*o<o-.5&&(t*=o),t<=s?n(e):""}},t.nice=()=>n(Mg(n(),{floor:e=>r(Math.floor(i(e))),ceil:e=>r(Math.ceil(i(e)))})),t}function Cm(){const e=km(Sg()).domain([1,10]);return e.copy=()=>Cg(e,Cm()).base(e.base()),Tg.apply(e,arguments),e}function Sm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Em(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Tm(e){return e<0?-e*e:e*e}function Im(e){var t=e(wg,wg),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(wg,wg):.5===n?e(Em,Tm):e(Sm(n),Sm(1/n)):n},lm(t)}function Mm(){var e=Im(Sg());return e.copy=function(){return Cg(e,Mm()).exponent(e.exponent())},Tg.apply(e,arguments),e}function Nm(e,t,n){switch(e){case"log":return Cm(t,n);case"pow":return Mm(t,n);case"sqrt":return function(){return Mm.apply(null,arguments).exponent(.5)}(t,n);case"time":return Pg(t,n);case"utc":return function(){return Tg.apply(Lg(jp,Fp,Op,Lp,Cp,fp,dp,up,lp,qp).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(t,n);default:return cm(t,n)}}const Rm=(e,t,n,i)=>Object.keys(t).reduce(((r,o)=>((e,t,n,i,r,o)=>{var s,a,l;const c=i[t],u=null!==(s=null===(a=o[t])||void 0===a?void 0:a.series)&&void 0!==s?s:{},[h,d]=null!==(l=null===c||void 0===c?void 0:c({series:u,axis:n,isDefaultAxis:r}))&&void 0!==l?l:[null,null],[p,f]=e;return null===p||null===f?[h,d]:null===h||null===d?[p,f]:[Math.min(h,p),Math.max(d,f)]})(r,o,e,t,n,i)),[null,null]),Lm=(e,t,n)=>{var i;return null!==(i=null===e||void 0===e?void 0:e.map((e=>{const i=e.dataKey;if(void 0===i||void 0!==e.data)return e;if(void 0===t)throw Error("MUI X: ".concat(n,"-axis uses `dataKey` but no `dataset` is provided."));return(0,Zo.A)({},e,{data:t.map((e=>e[i]))})})))&&void 0!==i?i:[]},Pm=(e,t,n)=>{const i="x"===t?[e.left,e.left+e.width]:[e.top+e.height,e.top];return n?i.reverse():i},Om=(e,t)=>{const n=e[1]-e[0],i=t[1]-t[0];return[e[0]-t[0]*n/i,e[1]+(100-t[1])*n/i]},Dm=e=>(null===e||void 0===e?void 0:e[0])instanceof Date;function jm(e,t){const n=Pg(e.data,t);return(t,i)=>{let{location:r}=i;return"tick"===r?n.tickFormat(e.tickNumber)(t):"".concat(t.toLocaleString())}}const Fm=.2,$m=.1;function Bm(e){let{drawingArea:t,formattedSeries:n,axis:i,extremumGetters:r,dataset:o,axisDirection:s,zoomData:a}=e;const l=Lm(i,o,s),c={};return l.forEach(((e,i)=>{var o,l,u,h,d;const p=0===i,[f,g]=Rm(e,r,p,n),m=null===a||void 0===a?void 0:a.find((t=>{let{axisId:n}=t;return n===e.id})),v=m?[m.start,m.end]:[0,100],y=Pm(t,s,e.reverse);if("band"===e.scaleType){var _,b;const t=null!==(_=e.categoryGapRatio)&&void 0!==_?_:Fm,n=null!==(b=e.barGapRatio)&&void 0!==b?b:$m,i="x"===s?y:[y[1],y[0]],r=Om(i,v);if(c[e.id]=(0,Zo.A)({categoryGapRatio:t,barGapRatio:n},e,{scale:zg(e.data,r).paddingInner(t).paddingOuter(t/2),tickNumber:e.data.length,colorScale:e.colorMap&&("ordinal"===e.colorMap.type?fm((0,Zo.A)({values:e.data},e.colorMap)):gm(e.colorMap))}),Dm(e.data)){var w;const t=jm(e,i);c[e.id].valueFormatter=null!==(w=e.valueFormatter)&&void 0!==w?w:t}}if(function(e){return"point"===e.scaleType}(e)){const t="x"===s?y:[...y].reverse(),n=Om(t,v);if(c[e.id]=(0,Zo.A)({},e,{scale:Wg(e.data,n),tickNumber:e.data.length,colorScale:e.colorMap&&("ordinal"===e.colorMap.type?fm((0,Zo.A)({values:e.data},e.colorMap)):gm(e.colorMap))}),Dm(e.data)){var x;const n=jm(e,t);c[e.id].valueFormatter=null!==(x=e.valueFormatter)&&void 0!==x?x:n}}if("band"===e.scaleType||"point"===e.scaleType)return;const A=null!==(o=e.scaleType)&&void 0!==o?o:"linear",k=[null!==(l=e.min)&&void 0!==l?l:f,null!==(u=e.max)&&void 0!==u?u:g],C=function(e){const{tickMaxStep:t,tickMinStep:n,tickNumber:i,range:r,domain:o}=e,s=void 0===n?999:Math.floor(Math.abs(o[1]-o[0])/n),a=void 0===t?2:Math.ceil(Math.abs(o[1]-o[0])/t),l=null!==i&&void 0!==i?i:Math.floor(Math.abs(r[1]-r[0])/50);return Math.min(s,Math.max(a,l))}((0,Zo.A)({},e,{range:y,domain:k})),S=C/((v[1]-v[0])/100),E=Nm(A,k,Om(y,v)).nice(C),[T,I]=E.domain(),M=[null!==(h=e.min)&&void 0!==h?h:T,null!==(d=e.max)&&void 0!==d?d:I];c[e.id]=(0,Zo.A)({},e,{scaleType:A,scale:E.domain(M),tickNumber:S,colorScale:e.colorMap&&gm(e.colorMap)})})),{axis:c,axisIds:l.map((e=>{let{id:t}=e;return t}))}}function Um(t){const{xAxis:n,yAxis:i,dataset:r,xExtremumGetters:s,yExtremumGetters:a,children:l}=t,c=_d(),u=uh(),h=e.useMemo((()=>Bm({drawingArea:u,formattedSeries:c,axis:n,extremumGetters:s,dataset:r,axisDirection:"x"})),[u,c,n,s,r]),d=e.useMemo((()=>Bm({drawingArea:u,formattedSeries:c,axis:i,extremumGetters:a,dataset:r,axisDirection:"y"})),[u,c,i,a,r]),p=e.useMemo((()=>({isInitialized:!0,data:{xAxis:h.axis,yAxis:d.axis,xAxisIds:h.axisIds,yAxisIds:d.axisIds}})),[h,d]);return(0,o.jsx)(rs.Provider,{value:p,children:l})}const zm=e.createContext({zAxis:{},zAxisIds:[]});function Vm(t){const{zAxis:n,dataset:i,children:r}=t,s=e.useMemo((()=>null===n||void 0===n?void 0:n.map((e=>{const t=e.dataKey;if(void 0===t||void 0!==e.data)return e;if(void 0===i)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return(0,Zo.A)({},e,{data:i.map((e=>e[t]))})}))),[n,i]),a=e.useMemo((()=>{var e;const t=null!==(e=null===s||void 0===s?void 0:s.map(((e,t)=>(0,Zo.A)({id:"defaultized-z-axis-".concat(t)},e))))&&void 0!==e?e:[],n={};return t.forEach((e=>{n[e.id]=(0,Zo.A)({},e,{colorScale:e.colorMap&&("ordinal"===e.colorMap.type&&e.data?fm((0,Zo.A)({values:e.data},e.colorMap)):gm("continuous"===e.colorMap.type?(0,Zo.A)({min:e.min,max:e.max},e.colorMap):e.colorMap))})})),{zAxis:n,zAxisIds:t.map((e=>{let{id:t}=e;return t}))}}),[s]);return(0,o.jsx)(zm.Provider,{value:a,children:r})}const Wm=(e,t)=>n=>!!e&&("series"===e.fade?n.seriesId===(null===t||void 0===t?void 0:t.seriesId)&&n.dataIndex!==(null===t||void 0===t?void 0:t.dataIndex):"global"===e.fade&&(n.seriesId!==(null===t||void 0===t?void 0:t.seriesId)||n.dataIndex!==(null===t||void 0===t?void 0:t.dataIndex))),Hm=(e,t)=>n=>!!e&&("series"===e.highlight?n.seriesId===(null===t||void 0===t?void 0:t.seriesId):"item"===e.highlight&&(n.dataIndex===(null===t||void 0===t?void 0:t.dataIndex)&&n.seriesId===(null===t||void 0===t?void 0:t.seriesId))),qm=["highlighted","faded"];function Km(t){var n;let{children:i,highlightedItem:r,onHighlightChange:s}=t;const[a,l]=function(t){let{controlled:n,default:i,name:r,state:o="value"}=t;const{current:s}=e.useRef(void 0!==n),[a,l]=e.useState(i);return[s?n:a,e.useCallback((e=>{s||l(e)}),[])]}({controlled:r,default:null,name:"HighlightedProvider",state:"highlightedItem"}),c=_d(),u=e.useMemo((()=>{const e=new Map;return Object.keys(c).forEach((t=>{var n;const i=c[t];Object.keys(null!==(n=null===i||void 0===i?void 0:i.series)&&void 0!==n?n:{}).forEach((t=>{const n=null===i||void 0===i?void 0:i.series[t];e.set(t,(e=>{const t=null!==e&&void 0!==e?e:{},{highlighted:n,faded:i}=t,r=(0,es.A)(t,qm);return(0,Zo.A)({highlight:n,fade:i},r)})(null===n||void 0===n?void 0:n.highlightScope))}))})),e}),[c]),h=a&&a.seriesId&&null!==(n=u.get(a.seriesId))&&void 0!==n?n:void 0,d=e.useMemo((()=>({isInitialized:!0,data:{highlightScope:h,highlightedItem:a,setHighlighted:e=>{l(e),null===s||void 0===s||s(e)},clearHighlighted:()=>{l(null),null===s||void 0===s||s(null)},isHighlighted:Hm(h,a),isFaded:Wm(h,a)}})),[a,h,l,s]);return(0,o.jsx)(As.Provider,{value:d,children:i})}const Gm=e=>{var t,n;const{axis:i}=e;return[Math.min(...null!==(t=i.data)&&void 0!==t?t:[]),Math.max(...null!==(n=i.data)&&void 0!==n?n:[])]},Qm=e=>{const{series:t,axis:n,isDefaultAxis:i}=e;return Object.keys(t).filter((e=>{var r;const o=null!==(r=t[e].yAxisId)&&void 0!==r?r:t[e].yAxisKey;return o===n.id||i&&void 0===o})).reduce(((e,n)=>{var i,r;const[o,s]=null!==(i=null===(r=t[n].stackedData)||void 0===r?void 0:r.reduce(((e,t)=>[Math.min(...t,...null===e[0]?[]:[e[0]]),Math.max(...t,...null===e[1]?[]:[e[1]])]),t[n].stackedData[0]))&&void 0!==i?i:[null,null];return[null===e[0]?o:Math.min(o,e[0]),null===e[1]?s:Math.max(s,e[1])]}),[null,null])};function Ym(e,t){if((r=e.length)>1)for(var n,i,r,o=1,s=e[t[0]],a=s.length;o<r;++o)for(i=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jm(e,t){return e[t]}function Zm(e){const t=[];return t.key=e,t}function ev(){var e=Ii([]),t=Xm,n=Ym,i=Jm;function r(r){var o,s,a=Array.from(e.apply(this,arguments),Zm),l=a.length,c=-1;for(const e of r)for(o=0,++c;o<l;++o)(a[o][c]=[0,+i(e,a[o].key,c,r)]).data=e;for(o=0,s=Ti(t(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return r.keys=function(t){return arguments.length?(e="function"===typeof t?t:Ii(Array.from(t)),r):e},r.value=function(e){return arguments.length?(i="function"===typeof e?e:Ii(+e),r):i},r.order=function(e){return arguments.length?(t=null==e?Xm:"function"===typeof e?e:Ii(Array.from(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?Ym:e,r):n},r}function tv(e){var t=e.map(nv);return Xm(e).sort((function(e,n){return t[e]-t[n]}))}function nv(e){for(var t,n=-1,i=0,r=e.length,o=-1/0;++n<r;)(t=+e[n][1])>o&&(o=t,i=n);return i}function iv(e){var t=e.map(rv);return Xm(e).sort((function(e,n){return t[e]-t[n]}))}function rv(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}const ov={appearance:tv,ascending:iv,descending:function(e){return iv(e).reverse()},insideOut:function(e){var t,n,i=e.length,r=e.map(rv),o=tv(e),s=0,a=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],s<a?(s+=r[n],l.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(l)},none:Xm,reverse:function(e){return Xm(e).reverse()}},sv={expand:function(e,t){if((i=e.length)>0){for(var n,i,r,o=0,s=e[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}Ym(e,t)}},diverging:function(e,t){if((a=e.length)>0)for(var n,i,r,o,s,a,l=0,c=e[t[0]].length;l<c;++l)for(o=s=0,n=0;n<a;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)},none:Ym,silhouette:function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=e[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Ym(e,t)}},wiggle:function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,c=0;a<r;++a){for(var u=e[t[a]],h=u[s][1]||0,d=(h-(u[s-1][1]||0))/2,p=0;p<a;++p){var f=e[t[p]];d+=(f[s][1]||0)-(f[s-1][1]||0)}l+=h,c+=d*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,Ym(e,t)}}},av=e=>{const{series:t,seriesOrder:n,defaultStrategy:i}=e,r=[],o={};return n.forEach((e=>{const{stack:n,stackOrder:s,stackOffset:a}=t[e];if(void 0===n)r.push({ids:[e],stackingOrder:ov.none,stackingOffset:sv.none});else if(void 0===o[n]){var l,c;o[n]=r.length,r.push({ids:[e],stackingOrder:ov[null!==(l=null!==s&&void 0!==s?s:null===i||void 0===i?void 0:i.stackOrder)&&void 0!==l?l:"none"],stackingOffset:sv[null!==(c=null!==a&&void 0!==a?a:null===i||void 0===i?void 0:i.stackOffset)&&void 0!==c?c:"diverging"]})}else r[o[n]].ids.push(e),void 0!==s&&(r[o[n]].stackingOrder=ov[s]),void 0!==a&&(r[o[n]].stackingOffset=sv[a])})),r};function lv(e,t){const n={};return Object.keys(e).forEach((i=>{var r;n[i]=(0,Zo.A)({},e[i],{valueFormatter:null!==(r=e[i].valueFormatter)&&void 0!==r?r:t})})),n}const cv=(e,t)=>{const{seriesOrder:n,series:i}=e,r=av(e),o=null!==t&&void 0!==t?t:[];n.forEach((e=>{const n=i[e].data;if(void 0!==n)n.forEach(((t,n)=>{o.length<=n?o.push({[e]:t}):o[n][e]=t}));else if(void 0===t)throw new Error(["MUI X: bar series with id='".concat(e,"' has no data."),"Either provide a data property to the series or use the dataset prop."].join("\n"))}));const s={};return r.forEach((e=>{const{ids:n,stackingOffset:r,stackingOrder:a}=e,l=ev().keys(n.map((e=>{const t=i[e].dataKey;return void 0===i[e].data&&void 0!==t?t:e}))).value(((e,t)=>{var n;return null!==(n=e[t])&&void 0!==n?n:0})).order(a).offset(r)(o);n.forEach(((e,n)=>{const r=i[e].dataKey;s[e]=(0,Zo.A)({layout:"vertical"},i[e],{data:r?t.map((e=>{const t=e[r];return"number"!==typeof t?0:t})):i[e].data,stackedData:l[n].map((e=>{let[t,n]=e;return[t,n]}))})}))})),{seriesOrder:n,stackingGroups:r,series:lv(s,(e=>null==e?"":e.toLocaleString()))}};const uv={seriesType:"bar",seriesFormatter:cv,colorProcessor:function(e,t,n){const i="vertical"===e.layout,r=i?null===t||void 0===t?void 0:t.colorScale:null===n||void 0===n?void 0:n.colorScale,o=i?null===n||void 0===n?void 0:n.colorScale:null===t||void 0===t?void 0:t.colorScale,s=i?null===t||void 0===t?void 0:t.data:null===n||void 0===n?void 0:n.data;return o?t=>{const n=e.data[t],i=null===n?e.color:o(n);return null===i?e.color:i}:r&&s?t=>{const n=s[t],i=null===n?e.color:r(n);return null===i?e.color:i}:()=>e.color},xExtremumGetter:e=>Object.keys(e.series).some((t=>"horizontal"===e.series[t].layout))?Qm(e):Gm(e),yExtremumGetter:e=>Object.keys(e.series).some((t=>"horizontal"===e.series[t].layout))?Gm(e):Qm(e)},hv=(e,t)=>null===e[0]||null===e[1]?t:null===t[0]||null===t[1]?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])];const dv={seriesType:"scatter",seriesFormatter:e=>{let{series:t,seriesOrder:n}=e;return{series:lv(t,(e=>"(".concat(e.x,", ").concat(e.y,")"))),seriesOrder:n}},colorProcessor:function(e,t,n,i){const r=null===i||void 0===i?void 0:i.colorScale,o=null===n||void 0===n?void 0:n.colorScale,s=null===t||void 0===t?void 0:t.colorScale;return r?t=>{var n;if(void 0!==(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n[t])){var o;const e=r(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o[t]);if(null!==e)return e}const s=e.data[t],a=null===s?e.color:r(s.z);return null===a?e.color:a}:o?t=>{const n=e.data[t],i=null===n?e.color:o(n.y);return null===i?e.color:i}:s?t=>{const n=e.data[t],i=null===n?e.color:s(n.x);return null===i?e.color:i}:()=>e.color},xExtremumGetter:e=>{const{series:t,axis:n,isDefaultAxis:i}=e;return Object.keys(t).filter((e=>{var r;const o=null!==(r=t[e].xAxisId)&&void 0!==r?r:t[e].xAxisKey;return o===n.id||void 0===o&&i})).reduce(((e,n)=>{const i=t[n].data.reduce(((e,t)=>{let{x:n}=t;return hv(e,[n,n])}),[null,null]);return hv(e,i)}),[null,null])},yExtremumGetter:e=>{const{series:t,axis:n,isDefaultAxis:i}=e;return Object.keys(t).filter((e=>{var r;const o=null!==(r=t[e].yAxisId)&&void 0!==r?r:t[e].yAxisKey;return o===n.id||void 0===o&&i})).reduce(((e,n)=>{const i=t[n].data.reduce(((e,t)=>{let{y:n}=t;return hv(e,[n,n])}),[null,null]);return hv(e,i)}),[null,null])}};const pv=(e,t)=>{const{seriesOrder:n,series:i}=e,r=av((0,Zo.A)({},e,{defaultStrategy:{stackOffset:"none"}})),o=null!==t&&void 0!==t?t:[];n.forEach((e=>{const t=i[e].data;void 0!==t&&t.forEach(((t,n)=>{o.length<=n?o.push({[e]:t}):o[n][e]=t}))}));const s={};return r.forEach((e=>{const{ids:n,stackingOrder:r,stackingOffset:a}=e,l=ev().keys(n.map((e=>{const t=i[e].dataKey;return void 0===i[e].data&&void 0!==t?t:e}))).value(((e,t)=>{var n;return null!==(n=e[t])&&void 0!==n?n:0})).order(r).offset(a)(o);n.forEach(((e,n)=>{const r=i[e].dataKey;s[e]=(0,Zo.A)({},i[e],{data:r?t.map((e=>{const t=e[r];return"number"!==typeof t?null:t})):i[e].data,stackedData:l[n].map((e=>{let[t,n]=e;return[t,n]}))})}))})),{seriesOrder:n,stackingGroups:r,series:lv(s,(e=>null==e?"":e.toLocaleString()))}};function fv(e,t,n){const i=null===n||void 0===n?void 0:n.colorScale,r=null===t||void 0===t?void 0:t.colorScale;return i?t=>{const n=e.data[t],r=null===n?e.color:i(n);return null===r?e.color:r}:r?n=>{var i;const o=null===(i=t.data)||void 0===i?void 0:i[n],s=null===o?e.color:r(o);return null===s?e.color:s}:()=>e.color}const gv={seriesType:"line",colorProcessor:fv,seriesFormatter:pv,xExtremumGetter:e=>{var t,n;const{axis:i}=e;return[Math.min(...null!==(t=i.data)&&void 0!==t?t:[]),Math.max(...null!==(n=i.data)&&void 0!==n?n:[])]},yExtremumGetter:e=>{const{series:t,axis:n,isDefaultAxis:i}=e;return Object.keys(t).filter((e=>{var r;const o=null!==(r=t[e].yAxisId)&&void 0!==r?r:t[e].yAxisKey;return o===n.id||i&&void 0===o})).reduce(((e,i)=>{const{area:r,stackedData:o}=t[i],s=function(e,t){return 0===t.length?[null,null]:t.reduce(((t,n)=>{const[i,r]=e(n);return null===t[0]?[Math.min(i,r),Math.max(i,r)]:[Math.min(i,r,t[0]),Math.max(i,r,t[1])]}),e(t[0]))}(void 0!==r&&"log"!==n.scaleType?e=>e:e=>[e[1],e[1]],o);if(null===e[0])return s;if(null===s[0])return e;const[a,l]=s;return[Math.min(a,e[0]),Math.max(l,e[1])]}),[null,null])}};function mv(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function vv(e){return e}function yv(e,t){return"function"===typeof e?e(t):e}const _v=e=>{const{seriesOrder:t,series:n}=e,i={};return t.forEach((e=>{var t,r,o,s;const a=function(){var e=vv,t=mv,n=null,i=Ii(0),r=Ii(Rh),o=Ii(0);function s(s){var a,l,c,u,h,d=(s=Ti(s)).length,p=0,f=new Array(d),g=new Array(d),m=+i.apply(this,arguments),v=Math.min(Rh,Math.max(-Rh,r.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),_=y*(v<0?-1:1);for(a=0;a<d;++a)(h=g[f[a]=a]=+e(s[a],a,s))>0&&(p+=h);for(null!=t?f.sort((function(e,n){return t(g[e],g[n])})):null!=n&&f.sort((function(e,t){return n(s[e],s[t])})),a=0,c=p?(v-d*_)/p:0;a<d;++a,m=u)l=f[a],u=m+((h=g[l])>0?h*c:0)+_,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"===typeof t?t:Ii(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:Ii(+e),s):i},s.endAngle=function(e){return arguments.length?(r="function"===typeof e?e:Ii(+e),s):r},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:Ii(+e),s):o},s}().startAngle(2*Math.PI*(null!==(t=n[e].startAngle)&&void 0!==t?t:0)/360).endAngle(2*Math.PI*(null!==(r=n[e].endAngle)&&void 0!==r?r:360)/360).padAngle(2*Math.PI*(null!==(o=n[e].paddingAngle)&&void 0!==o?o:0)/360).sortValues(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";if("function"===typeof e)return e;switch(e){case"none":default:return null;case"desc":return(e,t)=>t-e;case"asc":return(e,t)=>e-t}}(null!==(s=n[e].sortingValues)&&void 0!==s?s:"none"))(n[e].data.map((e=>e.value)));i[e]=(0,Zo.A)({valueFormatter:e=>e.value.toLocaleString()},n[e],{data:n[e].data.map(((t,n)=>{var i;return(0,Zo.A)({},t,{id:null!==(i=t.id)&&void 0!==i?i:"auto-generated-pie-id-".concat(e,"-").concat(n)},a[n])})).map(((t,i)=>{var r,o,s;return(0,Zo.A)({},t,{formattedValue:null!==(r=null===(o=(s=n[e]).valueFormatter)||void 0===o?void 0:o.call(s,(0,Zo.A)({},t,{label:yv(t.label,"arc")}),{dataIndex:i}))&&void 0!==r?r:t.value.toLocaleString()})}))})})),{seriesOrder:t,series:i}};const bv=[uv,dv,gv,{seriesType:"pie",colorProcessor:function(e){return t=>e.data[t].color},seriesFormatter:_v}];const wv=(t,n)=>{const i=e.useRef(null),r=ls(t,i),{xExtremumGetters:o,yExtremumGetters:s,seriesFormatters:a,colorProcessors:l}=function(t){const n=null!==t&&void 0!==t?t:bv;return e.useMemo((()=>{const e={},t={},i={},r={};for(let o=0;o<n.length;o+=1){const s=n[o];e[s.seriesType]=s.seriesFormatter,t[s.seriesType]=s.colorProcessor,s.xExtremumGetter&&(i[s.seriesType]=s.xExtremumGetter),s.yExtremumGetter&&(r[s.seriesType]=s.yExtremumGetter)}return{seriesFormatters:e,colorProcessors:t,xExtremumGetters:i,yExtremumGetters:r}}),[n])}(n);return tc((()=>{var e;if(!window.matchMedia)return Ra.assign({skipAnimation:!0}),()=>{};const t=window.matchMedia("(prefers-reduced-motion)"),n=e=>{Ra.assign({skipAnimation:e.matches||void 0})};return n(t),null===(e=t.addEventListener)||void 0===e||e.call(t,"change",n),()=>{var e;null===(e=t.removeEventListener)||void 0===e||e.call(t,"change",n)}}),[]),{svgRef:i,chartSurfaceRef:r,xExtremumGetters:o,yExtremumGetters:s,seriesFormatters:a,colorProcessors:l}},xv=(e,t)=>{var n;const i="x"===t?rh:"DEFAULT_Y_AXIS_KEY";return[...null!==(n=null===e||void 0===e?void 0:e.map(((e,n)=>(0,Zo.A)({id:"defaultized-".concat(t,"-axis-").concat(n)},e))))&&void 0!==n?n:[],...void 0===e||-1===e.findIndex((e=>{let{id:t}=e;return t===i}))?[{id:i,scaleType:"linear"}]:[]]},Av=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],kv=(t,n)=>{const{width:i,height:r,series:o,margin:s,xAxis:a,yAxis:l,zAxis:c,colors:u,dataset:h,sx:d,title:p,desc:f,disableAxisListener:g,highlightedItem:m,onHighlightChange:v,plugins:y,children:_}=t,b=(0,es.A)(t,Av),{svgRef:w,chartSurfaceRef:x,xExtremumGetters:A,yExtremumGetters:k,seriesFormatters:C,colorProcessors:S}=wv(n,y),[E,T]=(I=a,M=l,[e.useMemo((()=>xv(I,"x")),[I]),e.useMemo((()=>xv(M,"y")),[M])]);var I,M;return{children:_,drawingProviderProps:{width:i,height:r,margin:s,svgRef:w},colorProviderProps:{colorProcessors:S},seriesContextProps:{series:o,colors:u,dataset:h,seriesFormatters:C},cartesianContextProps:{xAxis:E,yAxis:T,dataset:h,xExtremumGetters:A,yExtremumGetters:k},zAxisContextProps:{zAxis:c,dataset:h},highlightedProviderProps:{highlightedItem:m,onHighlightChange:v},chartsSurfaceProps:(0,Zo.A)({},b,{width:i,height:r,ref:x,sx:d,title:p,desc:f,disableAxisListener:g}),xAxis:E,yAxis:T}},Cv=e.forwardRef((function(e,t){const{children:n,drawingProviderProps:i,colorProviderProps:r,seriesContextProps:s,cartesianContextProps:a,zAxisContextProps:l,highlightedProviderProps:c,chartsSurfaceProps:u}=kv(e,t);return(0,o.jsx)(ch,(0,Zo.A)({},i,{children:(0,o.jsx)(Pd,(0,Zo.A)({},r,{children:(0,o.jsx)(yd,(0,Zo.A)({},s,{children:(0,o.jsx)(Um,(0,Zo.A)({},a,{children:(0,o.jsx)(Vm,(0,Zo.A)({},l,{children:(0,o.jsx)(xs,{children:(0,o.jsx)(Km,(0,Zo.A)({},c,{children:(0,o.jsxs)($d,(0,Zo.A)({},u,{children:[(0,o.jsx)(sd,{}),n]}))}))})}))}))}))}))}))})),Sv=da("div",{name:"MuiResponsiveChart",slot:"Container"})((e=>{var t,n;let{ownerState:i}=e;return{width:null!==(t=i.width)&&void 0!==t?t:"100%",height:null!==(n=i.height)&&void 0!==n?n:"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}}})),Ev="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function Tv(e){return e&&e.ownerDocument||document}const Iv=(t,n)=>{const i=e.useRef(!1),r=e.useRef(null),[o,s]=e.useState(0),[a,l]=e.useState(0),c=e.useCallback((()=>{const e=null===r||void 0===r?void 0:r.current;if(!e)return;const t=function(e){return Tv(e).defaultView||window}(e),n=t.getComputedStyle(e),i=Math.floor(parseFloat(n.height))||0,o=Math.floor(parseFloat(n.width))||0;s(o),l(i)}),[]);return e.useEffect((()=>{i.current=!0}),[]),Ev((()=>{if(void 0!==t&&void 0!==n)return()=>{};c();const e=r.current;if("undefined"===typeof ResizeObserver)return()=>{};let i;const o=new ResizeObserver((()=>{i=requestAnimationFrame((()=>{c()}))}));return e&&o.observe(e),()=>{i&&window.cancelAnimationFrame(i),e&&o.unobserve(e)}}),[c,n,t]),{containerRef:r,width:null!==t&&void 0!==t?t:o,height:null!==n&&void 0!==n?n:a}},Mv=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],Nv=e.forwardRef((function(e,t){const{hasIntrinsicSize:n,chartContainerProps:i,resizableChartContainerProps:r}=((e,t)=>{const{width:n,height:i,margin:r,children:o,series:s,colors:a,dataset:l,desc:c,disableAxisListener:u,highlightedItem:h,onHighlightChange:d,plugins:p,sx:f,title:g,viewBox:m,xAxis:v,yAxis:y,zAxis:_}=e,b=(0,es.A)(e,Mv),{containerRef:w,width:x,height:A}=Iv(n,i);return{hasIntrinsicSize:x&&A,chartContainerProps:{margin:r,children:o,series:s,colors:a,dataset:l,desc:c,disableAxisListener:u,highlightedItem:h,onHighlightChange:d,plugins:p,sx:f,title:g,viewBox:m,xAxis:v,yAxis:y,zAxis:_,width:x,height:A,ref:t},resizableChartContainerProps:(0,Zo.A)({},b,{ownerState:{width:n,height:i},ref:w})}})(e,t);return(0,o.jsx)(Sv,(0,Zo.A)({},r,{children:n?(0,o.jsx)(Cv,(0,Zo.A)({},i)):null}))})),Rv=(Th(3),{draw(e,t){const n=Th(t/Mh);e.moveTo(n,0),e.arc(0,0,n,0,Rh)}}),Lv={draw(e,t){const n=Th(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Pv=Th(1/3),Ov=2*Pv,Dv={draw(e,t){const n=Th(t/Ov),i=n*Pv;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},jv={draw(e,t){const n=Th(t),i=-n/2;e.rect(i,i,n,n)}},Fv=Eh(Mh/10)/Eh(7*Mh/10),$v=Eh(Rh/10)*Fv,Bv=-kh(Rh/10)*Fv,Uv={draw(e,t){const n=Th(.8908130915292852*t),i=$v*n,r=Bv*n;e.moveTo(0,-n),e.lineTo(i,r);for(let o=1;o<5;++o){const t=Rh*o/5,s=kh(t),a=Eh(t);e.lineTo(a*n,-s*n),e.lineTo(s*i-a*r,a*i+s*r)}e.closePath()}},zv=Th(3),Vv={draw(e,t){const n=-Th(t/(3*zv));e.moveTo(0,2*n),e.lineTo(-zv*n,-n),e.lineTo(zv*n,-n),e.closePath()}},Wv=(Th(3),-.5),Hv=Th(3)/2,qv=1/Th(12),Kv=3*(qv/2+1),Gv={draw(e,t){const n=Th(t/Kv),i=n/2,r=n*qv,o=i,s=n*qv+n,a=-o,l=s;e.moveTo(i,r),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Wv*i-Hv*r,Hv*i+Wv*r),e.lineTo(Wv*o-Hv*s,Hv*o+Wv*s),e.lineTo(Wv*a-Hv*l,Hv*a+Wv*l),e.lineTo(Wv*i+Hv*r,Wv*r-Hv*i),e.lineTo(Wv*o+Hv*s,Wv*s-Hv*o),e.lineTo(Wv*a+Hv*l,Wv*l-Hv*a),e.closePath()}},Qv=[Rv,Lv,Dv,jv,Uv,Vv,Gv];function Yv(e,t){let n=null,i=$i(r);function r(){let r;if(n||(n=r=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:Ii(e||Rv),t="function"===typeof t?t:Ii(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:Ii(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}function Xv(e){return"circle cross diamond square star triangle wye".split(/ /).indexOf(e)||0}const Jv=["x","y","id","classes","color","shape","dataIndex","onClick","skipAnimation"];function Zv(e){return ys("MuiMarkElement",e)}_s("MuiMarkElement",["root","highlighted","faded"]);const ey=e=>{const{classes:t,id:n,isFaded:i,isHighlighted:r}=e;return ss({root:["root","series-".concat(n),r&&"highlighted",i&&"faded"]},Zv,t)},ty=da(Ju.path,{name:"MuiMarkElement",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t,theme:n}=e;return{fill:(n.vars||n).palette.background.paper,stroke:t.color,strokeWidth:2}}));function ny(t){var n;const{x:i,y:r,id:s,classes:a,color:l,shape:c,dataIndex:u,onClick:h,skipAnimation:d}=t,p=(0,es.A)(t,Jv),f=Cs(),{isFaded:g,isHighlighted:m}=gh({seriesId:s}),{axis:v}=e.useContext(bs),y=Iu({x:i,y:r,immediate:d}),_={id:s,classes:a,isHighlighted:(null===(n=v.x)||void 0===n?void 0:n.index)===u||m,isFaded:g,color:l},b=ey(_);return(0,o.jsx)(ty,(0,Zo.A)({},p,{style:{transform:Du([y.x,y.y],((e,t)=>"translate(".concat(e,"px, ").concat(t,"px)"))),transformOrigin:Du([y.x,y.y],((e,t)=>"".concat(e,"px ").concat(t,"px")))},ownerState:_,className:b.root,d:Yv(Qv[Xv(c)])(),onClick:h,cursor:h?"pointer":"unset"},f({type:"line",seriesId:s,dataIndex:u})))}const iy=["slots","slotProps","skipAnimation","onItemClick"];function ry(e){var t;const{slots:n,slotProps:i,skipAnimation:r,onItemClick:s}=e,a=(0,es.A)(e,iy),l=bd(),c=os(),u=hh(),h=uh(),d=null!==(t=null===n||void 0===n?void 0:n.mark)&&void 0!==t?t:ny;if(void 0===l)return null;const{series:p,stackingGroups:f}=l,{xAxis:g,yAxis:m,xAxisIds:v,yAxisIds:y}=c,_=v[0],b=y[0];return(0,o.jsx)("g",(0,Zo.A)({},a,{children:f.flatMap((e=>{let{ids:t}=e;return t.map((e=>{const{xAxisId:t,yAxisId:n,xAxisKey:a=_,yAxisKey:l=b,stackedData:c,data:f,showMark:v=!0}=p[e];if(!1===v)return null;const y=null!==t&&void 0!==t?t:a,w=null!==n&&void 0!==n?n:l,x=wh(g[y].scale),A=m[w].scale,k=g[y].data;if(void 0===k)throw new Error("MUI X: ".concat(y===rh?"The first `xAxis`":'The x-axis with id "'.concat(y,'"')," should have data property to be able to display a line plot."));const C=eh("".concat(u,"-").concat(e,"-line-clip")),S=fv(p[e],g[y],m[w]);return(0,o.jsx)("g",{clipPath:"url(#".concat(C,")"),children:null===k||void 0===k?void 0:k.map(((e,t)=>{const n=null==f[t]?null:c[t][1];return{x:x(e),y:null===n?null:A(n),position:e,value:n,index:t}})).filter((e=>{let{x:t,y:n,index:i,position:r,value:o}=e;return null!==o&&null!==n&&(!!h.isPointInside({x:t,y:n})&&(!0===v||v({x:t,y:n,index:i,position:r,value:o})))})).map((t=>{let{x:n,y:a,index:l}=t;return(0,o.jsx)(d,(0,Zo.A)({id:e,dataIndex:l,shape:"circle",color:S(l),x:n,y:a,skipAnimation:r,onClick:s&&(t=>s(t,{type:"line",seriesId:e,dataIndex:l}))},null===i||void 0===i?void 0:i.mark),"".concat(e,"-").concat(l))}))},e)}))}))}))}function oy(e,t){const n=(0,Zo.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,Zo.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=e[i]||{},o=t[i];n[i]={},o&&Object.keys(o)?r&&Object.keys(r)?(n[i]=(0,Zo.A)({},o),Object.keys(r).forEach((e=>{n[i][e]=oy(r[e],o[e])}))):n[i]=o:n[i]=r}else void 0===n[i]&&(n[i]=e[i])})),n}function sy(e){let{props:t,name:n,defaultTheme:i,themeId:r}=e,o=ud(i);r&&(o=o[r]||o);const s=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?oy(t.components[n].defaultProps,i):i}({theme:o,name:n,props:t});return s}function ay(e){let{props:t,name:n}=e;return sy({props:t,name:n,defaultTheme:la,themeId:ca})}function ly(e){return ys("MuiChartsAxis",e)}const cy=_s("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),uy=da("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{["& .".concat(cy.tickLabel)]:(0,Zo.A)({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),["& .".concat(cy.label)]:(0,Zo.A)({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),["& .".concat(cy.line)]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},["& .".concat(cy.tick)]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}}}));const hy={widthCache:{},cacheCount:0},dy={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},py=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],fy="mui_measurement_span";function gy(e,t){return py.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function my(e){return e.split("").reduce(((e,t)=>t===t.toUpperCase()?[...e,"-",t.toLowerCase()]:[...e,t]),[]).join("")}const vy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||"undefined"===typeof window)return{width:0,height:0};const n="".concat(e),i=(e=>Object.keys(e).sort().reduce(((t,n)=>"".concat(t).concat(my(n),":").concat(gy(n,e[n]),";")),""))(t),r="".concat(n,"-").concat(i);if(hy.widthCache[r])return hy.widthCache[r];try{let e=document.getElementById(fy);null===e&&(e=document.createElement("span"),e.setAttribute("id",fy),e.setAttribute("aria-hidden","true"),document.body.appendChild(e));const i=(0,Zo.A)({},dy,t);Object.keys(i).map((t=>(e.style[my(t)]=gy(t,i[t]),t))),e.textContent=n;const o=e.getBoundingClientRect(),s={width:o.width,height:o.height};return hy.widthCache[r]=s,hy.cacheCount+1>2e3?(hy.cacheCount=0,hy.widthCache={}):hy.cacheCount+=1,s}catch(o){return{width:0,height:0}}};function yy(e){let{style:t,needsComputation:n,text:i}=e;return i.split("\n").map((e=>(0,Zo.A)({text:e},n?vy(e,t):{width:0,height:0})))}const _y=["x","y","style","text","ownerState"],by=["angle","textAnchor","dominantBaseline"];function wy(t){const{x:n,y:i,style:r,text:s}=t,a=(0,es.A)(t,_y),l=null!==r&&void 0!==r?r:{},{angle:c,textAnchor:u,dominantBaseline:h}=l,d=(0,es.A)(l,by),p=e.useMemo((()=>yy({style:d,needsComputation:s.includes("\n"),text:s})),[d,s]);let f;switch(h){case"hanging":f=0;break;case"central":f=(p.length-1)/2*-p[0].height;break;default:f=(p.length-1)*-p[0].height}const g=[];return c&&g.push("rotate(".concat(c,", ").concat(n,", ").concat(i,")")),(0,o.jsx)("text",(0,Zo.A)({},a,{transform:g.length>0?g.join(" "):void 0,x:n,y:i,textAnchor:u,dominantBaseline:h,style:d,children:p.map(((e,t)=>(0,o.jsx)("tspan",{x:n,dy:"".concat(0===t?f:p[0].height,"px"),dominantBaseline:h,children:e.text},t)))}))}const xy=5;const Ay=["scale","tickNumber","reverse"],ky=e=>{const{classes:t,position:n}=e;return ss({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},ly,t)};function Cy(e,t){let{tickLabelStyle:n,tickLabelInterval:i,reverse:r,isMounted:o}=t;const s=e.map((e=>{if(!o||void 0===e.formattedValue)return(0,Zo.A)({},e,{width:0,height:0});const t=yy({style:n,needsComputation:!0,text:e.formattedValue});return(0,Zo.A)({},e,{width:Math.max(...t.map((e=>e.width))),height:Math.max(t.length*t[0].height)})}));if("function"===typeof i)return s.map(((e,t)=>(0,Zo.A)({},e,{skipLabel:!i(e.value,t)})));let a=0,l=0;const c=r?-1:1;return s.map(((e,t)=>{const{width:i,offset:r,labelOffset:o,height:s}=e,u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(i<xy)return e;if(i>90-xy)return t;const r=i*Math.PI/180;return r<Math.atan2(t,e)?e/Math.cos(r):t/Math.sin(r)}(i,s,null===n||void 0===n?void 0:n.angle),h=r+o;return a=h-c*(1.2*u)/2,t>0&&c*a<c*l?(0,Zo.A)({},e,{skipLabel:!0}):(l=h+c*(1.2*u)/2,e)}))}const Sy={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function Ey(t){var n,i,r,s,a;const{xAxisIds:l,xAxis:c}=os(),u=c[null!==(n=t.axisId)&&void 0!==n?n:l[0]],{scale:h,tickNumber:d,reverse:p}=u,f=(0,es.A)(u,Ay),g=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[n,i]=e.useState(!1);return Ev((()=>{t||i(!0)}),[t]),e.useEffect((()=>{t&&i(!0)}),[t]),n}(),m=ay({props:(0,Zo.A)({},f,t),name:"MuiChartsXAxis"}),v=(0,Zo.A)({},Sy,m),{position:y,disableLine:_,disableTicks:b,tickLabelStyle:w,label:x,labelStyle:A,tickFontSize:k,labelFontSize:C,tickSize:S,valueFormatter:E,slots:T,slotProps:I,tickInterval:M,tickLabelInterval:N,tickPlacement:R,tickLabelPlacement:L}=v,P=hd(),O=ky((0,Zo.A)({},v,{theme:P})),{left:D,top:j,width:F,height:$}=uh(),B=b?4:S,U="bottom"===y?1:-1,z=null!==(i=null===T||void 0===T?void 0:T.axisLine)&&void 0!==i?i:"line",V=null!==(r=null===T||void 0===T?void 0:T.axisTick)&&void 0!==r?r:"line",W=null!==(s=null===T||void 0===T?void 0:T.axisTickLabel)&&void 0!==s?s:wy,H=null!==(a=null===T||void 0===T?void 0:T.axisLabel)&&void 0!==a?a:wy,q=fs({elementType:W,externalSlotProps:null===I||void 0===I?void 0:I.axisTickLabel,additionalProps:{style:(0,Zo.A)({textAnchor:"middle",dominantBaseline:"bottom"===y?"hanging":"auto",fontSize:null!==k&&void 0!==k?k:12},w)},className:O.tickLabel,ownerState:{}}),K=Cy(vm({scale:h,tickNumber:d,valueFormatter:E,tickInterval:M,tickPlacement:R,tickLabelPlacement:L}),{tickLabelStyle:q.style,tickLabelInterval:N,reverse:p,isMounted:g}),G={x:D+F/2,y:U*(B+22)},Q=fs({elementType:H,externalSlotProps:null===I||void 0===I?void 0:I.axisLabel,additionalProps:{style:(0,Zo.A)({fontSize:null!==C&&void 0!==C?C:14,textAnchor:"middle",dominantBaseline:"bottom"===y?"hanging":"auto"},A)},ownerState:{}}),Y=h.domain();return 0===Y.length||Y[0]===Y[1]?null:(0,o.jsxs)(uy,{transform:"translate(0, ".concat("bottom"===y?j+$:j,")"),className:O.root,children:[!_&&(0,o.jsx)(z,(0,Zo.A)({x1:D,x2:D+F,className:O.line},null===I||void 0===I?void 0:I.axisLine)),K.map(((e,t)=>{let{formattedValue:n,offset:i,labelOffset:r,skipLabel:s}=e;const a=null!==r&&void 0!==r?r:0,l=U*(B+3),c=i>=D-1&&i<=D+F+1,u=i+a>=D-1&&i+a<=D+F+1;return(0,o.jsxs)("g",{transform:"translate(".concat(i,", 0)"),className:O.tickContainer,children:[!b&&c&&(0,o.jsx)(V,(0,Zo.A)({y2:U*B,className:O.tick},null===I||void 0===I?void 0:I.axisTick)),void 0!==n&&!s&&u&&(0,o.jsx)(W,(0,Zo.A)({x:a,y:l},q,{text:n.toString()}))]},t)})),x&&(0,o.jsx)("g",{className:O.label,children:(0,o.jsx)(H,(0,Zo.A)({},G,Q,{text:x}))})]})}const Ty=["scale","tickNumber"],Iy=e=>{const{classes:t,position:n}=e;return ss({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},ly,t)},My={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function Ny(e){var t,n,i,r,s;const{yAxisIds:a,yAxis:l}=os(),c=l[null!==(t=e.axisId)&&void 0!==t?t:a[0]],{scale:u,tickNumber:h}=c,d=(0,es.A)(c,Ty),p=ay({props:(0,Zo.A)({},d,e),name:"MuiChartsYAxis"}),f=(0,Zo.A)({},My,p),{position:g,disableLine:m,disableTicks:v,tickFontSize:y,label:_,labelFontSize:b,labelStyle:w,tickLabelStyle:x,tickSize:A,valueFormatter:k,slots:C,slotProps:S,tickPlacement:E,tickLabelPlacement:T,tickInterval:I,tickLabelInterval:M}=f,N=hd(),R="rtl"===N.direction,L=Iy((0,Zo.A)({},f,{theme:N})),{left:P,top:O,width:D,height:j}=uh(),F=v?4:A,$=vm({scale:u,tickNumber:h,valueFormatter:k,tickPlacement:E,tickLabelPlacement:T,tickInterval:I}),B="right"===g?1:-1,U={x:B*(y+F+10),y:O+j/2},z=null!==(n=null===C||void 0===C?void 0:C.axisLine)&&void 0!==n?n:"line",V=null!==(i=null===C||void 0===C?void 0:C.axisTick)&&void 0!==i?i:"line",W=null!==(r=null===C||void 0===C?void 0:C.axisTickLabel)&&void 0!==r?r:wy,H=null!==(s=null===C||void 0===C?void 0:C.axisLabel)&&void 0!==s?s:wy,q=!R&&"right"===g||R&&"right"!==g,K=fs({elementType:W,externalSlotProps:null===S||void 0===S?void 0:S.axisTickLabel,additionalProps:{style:(0,Zo.A)({fontSize:y,textAnchor:q?"start":"end",dominantBaseline:"central"},x)},className:L.tickLabel,ownerState:{}}),G=fs({elementType:H,externalSlotProps:null===S||void 0===S?void 0:S.axisLabel,additionalProps:{style:(0,Zo.A)({fontSize:b,angle:90*B,textAnchor:"middle",dominantBaseline:"auto"},w)},ownerState:{}}),Q=fs({elementType:z,externalSlotProps:null===S||void 0===S?void 0:S.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),Y=u.domain();return 0===Y.length||Y[0]===Y[1]?null:(0,o.jsxs)(uy,{transform:"translate(".concat("right"===g?P+D:P,", 0)"),className:L.root,children:[!m&&(0,o.jsx)(z,(0,Zo.A)({y1:O,y2:O+j,className:L.line},Q)),$.map(((e,t)=>{let{formattedValue:n,offset:i,labelOffset:r,value:s}=e;const a=B*(F+2),l=r,c="function"===typeof M&&!(null!==M&&void 0!==M&&M(s,t));return i>=O-1&&i<=j+O+1?(0,o.jsxs)("g",{transform:"translate(0, ".concat(i,")"),className:L.tickContainer,children:[!v&&(0,o.jsx)(V,(0,Zo.A)({x2:B*F,className:L.tick},null===S||void 0===S?void 0:S.axisTick)),void 0!==n&&!c&&(0,o.jsx)(W,(0,Zo.A)({x:a,y:l,text:n.toString()},K))]},t):null})),_&&(0,o.jsx)("g",{className:L.label,children:(0,o.jsx)(H,(0,Zo.A)({},U,G,{text:_}))})]})}const Ry=(e,t)=>{return null==e?null:"object"===typeof e?null!==(n=null!==(i=e.axisId)&&void 0!==i?i:t)&&void 0!==n?n:null:e;var n,i},Ly=(e,t,n)=>"object"===typeof e?(0,Zo.A)({},e,{slots:(0,Zo.A)({},t,null===e||void 0===e?void 0:e.slots),slotProps:(0,Zo.A)({},n,null===e||void 0===e?void 0:e.slotProps)}):{slots:t,slotProps:n};function Py(t){const{topAxis:n,leftAxis:i,rightAxis:r,bottomAxis:s,slots:a,slotProps:l}=t,{xAxis:c,xAxisIds:u,yAxis:h,yAxisIds:d}=os(),p=Ry(void 0===i?d[0]:i,d[0]),f=Ry(void 0===s?u[0]:s,u[0]),g=Ry(n,u[0]),m=Ry(r,d[0]);if(null!==g&&!c[g])throw Error(['MUI X: id used for top axis "'.concat(g,'" is not defined.'),"Available ids are: ".concat(u.join(", "),".")].join("\n"));if(null!==p&&!h[p])throw Error(['MUI X: id used for left axis "'.concat(p,'" is not defined.'),"Available ids are: ".concat(d.join(", "),".")].join("\n"));if(null!==m&&!h[m])throw Error(['MUI X: id used for right axis "'.concat(m,'" is not defined.'),"Available ids are: ".concat(d.join(", "),".")].join("\n"));if(null!==f&&!c[f])throw Error(['MUI X: id used for bottom axis "'.concat(f,'" is not defined.'),"Available ids are: ".concat(u.join(", "),".")].join("\n"));const v=Ly(n,a,l),y=Ly(s,a,l),_=Ly(i,a,l),b=Ly(r,a,l);return(0,o.jsxs)(e.Fragment,{children:[g&&(0,o.jsx)(Ey,(0,Zo.A)({},v,{position:"top",axisId:g})),f&&(0,o.jsx)(Ey,(0,Zo.A)({},y,{position:"bottom",axisId:f})),p&&(0,o.jsx)(Ny,(0,Zo.A)({},_,{position:"left",axisId:p})),m&&(0,o.jsx)(Ny,(0,Zo.A)({},b,{position:"right",axisId:m}))]})}function Oy(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Dy(e){return e instanceof Oy(e).Element||e instanceof Element}function jy(e){return e instanceof Oy(e).HTMLElement||e instanceof HTMLElement}function Fy(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Oy(e).ShadowRoot||e instanceof ShadowRoot)}var $y=Math.max,By=Math.min,Uy=Math.round;function zy(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Vy(){return!/^((?!chrome|android).)*safari/i.test(zy())}function Wy(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&jy(e)&&(r=e.offsetWidth>0&&Uy(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Uy(i.height)/e.offsetHeight||1);var s=(Dy(e)?Oy(e):window).visualViewport,a=!Vy()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/r,c=(i.top+(a&&s?s.offsetTop:0))/o,u=i.width/r,h=i.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function Hy(e){var t=Oy(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qy(e){return e?(e.nodeName||"").toLowerCase():null}function Ky(e){return((Dy(e)?e.ownerDocument:e.document)||window.document).documentElement}function Gy(e){return Wy(Ky(e)).left+Hy(e).scrollLeft}function Qy(e){return Oy(e).getComputedStyle(e)}function Yy(e){var t=Qy(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Xy(e,t,n){void 0===n&&(n=!1);var i=jy(t),r=jy(t)&&function(e){var t=e.getBoundingClientRect(),n=Uy(t.width)/e.offsetWidth||1,i=Uy(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=Ky(t),s=Wy(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==qy(t)||Yy(o))&&(a=function(e){return e!==Oy(e)&&jy(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Hy(e);var t}(t)),jy(t)?((l=Wy(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Gy(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Jy(e){var t=Wy(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Zy(e){return"html"===qy(e)?e:e.assignedSlot||e.parentNode||(Fy(e)?e.host:null)||Ky(e)}function e_(e){return["html","body","#document"].indexOf(qy(e))>=0?e.ownerDocument.body:jy(e)&&Yy(e)?e:e_(Zy(e))}function t_(e,t){var n;void 0===t&&(t=[]);var i=e_(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=Oy(i),s=r?[o].concat(o.visualViewport||[],Yy(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(t_(Zy(s)))}function n_(e){return["table","td","th"].indexOf(qy(e))>=0}function i_(e){return jy(e)&&"fixed"!==Qy(e).position?e.offsetParent:null}function r_(e){for(var t=Oy(e),n=i_(e);n&&n_(n)&&"static"===Qy(n).position;)n=i_(n);return n&&("html"===qy(n)||"body"===qy(n)&&"static"===Qy(n).position)?t:n||function(e){var t=/firefox/i.test(zy());if(/Trident/i.test(zy())&&jy(e)&&"fixed"===Qy(e).position)return null;var n=Zy(e);for(Fy(n)&&(n=n.host);jy(n)&&["html","body"].indexOf(qy(n))<0;){var i=Qy(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var o_="top",s_="bottom",a_="right",l_="left",c_="auto",u_=[o_,s_,a_,l_],h_="start",d_="end",p_="clippingParents",f_="viewport",g_="popper",m_="reference",v_=u_.reduce((function(e,t){return e.concat([t+"-"+h_,t+"-"+d_])}),[]),y_=[].concat(u_,[c_]).reduce((function(e,t){return e.concat([t,t+"-"+h_,t+"-"+d_])}),[]),__=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function b_(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function w_(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var x_={placement:"bottom",modifiers:[],strategy:"absolute"};function A_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function k_(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?x_:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},x_,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"===typeof n?n(r.options):n;c(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:Dy(e)?t_(e):e.contextElement?t_(e.contextElement):[],popper:t_(t)};var u=function(e){var t=b_(e);return __.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,r.options.modifiers)));return r.orderedModifiers=u.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:r,name:t,instance:l,options:i}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,n=e.popper;if(A_(t,n)){r.rects={reference:Xy(t,r_(n),"fixed"===r.options.strategy),popper:Jy(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],s=o.fn,c=o.options,u=void 0===c?{}:c,h=o.name;"function"===typeof s&&(r=s({state:r,options:u,name:h,instance:l})||r)}else r.reset=!1,i=-1}}},update:w_((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),a=!0}};if(!A_(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var C_={passive:!0};const S_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=Oy(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,C_)})),a&&l.addEventListener("resize",n.update,C_),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,C_)})),a&&l.removeEventListener("resize",n.update,C_)}},data:{}};function E_(e){return e.split("-")[0]}function T_(e){return e.split("-")[1]}function I_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function M_(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?E_(r):null,s=r?T_(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case o_:t={x:a,y:n.y-i.height};break;case s_:t={x:a,y:n.y+n.height};break;case a_:t={x:n.x+n.width,y:l};break;case l_:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?I_(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case h_:t[c]=t[c]-(n[u]/2-i[u]/2);break;case d_:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}var N_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R_(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=s.x,p=void 0===d?0:d,f=s.y,g=void 0===f?0:f,m="function"===typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),_=l_,b=o_,w=window;if(c){var x=r_(n),A="clientHeight",k="clientWidth";if(x===Oy(n)&&"static"!==Qy(x=Ky(n)).position&&"absolute"===a&&(A="scrollHeight",k="scrollWidth"),r===o_||(r===l_||r===a_)&&o===d_)b=s_,g-=(h&&x===w&&w.visualViewport?w.visualViewport.height:x[A])-i.height,g*=l?1:-1;if(r===l_||(r===o_||r===s_)&&o===d_)_=a_,p-=(h&&x===w&&w.visualViewport?w.visualViewport.width:x[k])-i.width,p*=l?1:-1}var C,S=Object.assign({position:a},c&&N_),E=!0===u?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Uy(n*r)/r||0,y:Uy(i*r)/r||0}}({x:p,y:g},Oy(n)):{x:p,y:g};return p=E.x,g=E.y,l?Object.assign({},S,((C={})[b]=y?"0":"",C[_]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",C)):Object.assign({},S,((t={})[b]=y?g+"px":"",t[_]=v?p+"px":"",t.transform="",t))}const L_={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];jy(r)&&qy(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});jy(i)&&qy(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};const P_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=y_.reduce((function(e,n){return e[n]=function(e,t,n){var i=E_(e),r=[l_,o_].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[l_,a_].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};var O_={left:"right",right:"left",bottom:"top",top:"bottom"};function D_(e){return e.replace(/left|right|bottom|top/g,(function(e){return O_[e]}))}var j_={start:"end",end:"start"};function F_(e){return e.replace(/start|end/g,(function(e){return j_[e]}))}function $_(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Fy(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function B_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function U_(e,t,n){return t===f_?B_(function(e,t){var n=Oy(e),i=Ky(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Vy();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Gy(e),y:l}}(e,n)):Dy(t)?function(e,t){var n=Wy(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):B_(function(e){var t,n=Ky(e),i=Hy(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=$y(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=$y(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Gy(e),l=-i.scrollTop;return"rtl"===Qy(r||n).direction&&(a+=$y(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Ky(e)))}function z_(e,t,n,i){var r="clippingParents"===t?function(e){var t=t_(Zy(e)),n=["absolute","fixed"].indexOf(Qy(e).position)>=0&&jy(e)?r_(e):e;return Dy(n)?t.filter((function(e){return Dy(e)&&$_(e,n)&&"body"!==qy(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce((function(t,n){var r=U_(e,n,i);return t.top=$y(r.top,t.top),t.right=By(r.right,t.right),t.bottom=By(r.bottom,t.bottom),t.left=$y(r.left,t.left),t}),U_(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function V_(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function W_(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function H_(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?p_:a,c=n.rootBoundary,u=void 0===c?f_:c,h=n.elementContext,d=void 0===h?g_:h,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,v=V_("number"!==typeof m?m:W_(m,u_)),y=d===g_?m_:g_,_=e.rects.popper,b=e.elements[f?y:d],w=z_(Dy(b)?b:b.contextElement||Ky(e.elements.popper),l,u,s),x=Wy(e.elements.reference),A=M_({reference:x,element:_,strategy:"absolute",placement:r}),k=B_(Object.assign({},_,A)),C=d===g_?k:x,S={top:w.top-C.top+v.top,bottom:C.bottom-w.bottom+v.bottom,left:w.left-C.left+v.left,right:C.right-w.right+v.right},E=e.modifiersData.offset;if(d===g_&&E){var T=E[r];Object.keys(S).forEach((function(e){var t=[a_,s_].indexOf(e)>=0?1:-1,n=[o_,s_].indexOf(e)>=0?"y":"x";S[e]+=T[n]*t}))}return S}const q_={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=E_(m),y=l||(v===m||!f?[D_(m)]:function(e){if(E_(e)===c_)return[];var t=D_(e);return[F_(e),t,F_(t)]}(m)),_=[m].concat(y).reduce((function(e,n){return e.concat(E_(n)===c_?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?y_:l,u=T_(i),h=u?a?v_:v_.filter((function(e){return T_(e)===u})):u_,d=h.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=h);var p=d.reduce((function(t,n){return t[n]=H_(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[E_(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,A=!0,k=_[0],C=0;C<_.length;C++){var S=_[C],E=E_(S),T=T_(S)===h_,I=[o_,s_].indexOf(E)>=0,M=I?"width":"height",N=H_(t,{placement:S,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),R=I?T?a_:l_:T?s_:o_;b[M]>w[M]&&(R=D_(R));var L=D_(R),P=[];if(o&&P.push(N[E]<=0),a&&P.push(N[R]<=0,N[L]<=0),P.every((function(e){return e}))){k=S,A=!1;break}x.set(S,P)}if(A)for(var O=function(e){var t=_.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},D=f?3:1;D>0;D--){if("break"===O(D))break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function K_(e,t,n){return $y(e,By(t,n))}const G_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,p=void 0===d||d,f=n.tetherOffset,g=void 0===f?0:f,m=H_(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=E_(t.placement),y=T_(t.placement),_=!y,b=I_(v),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,A=t.rects.reference,k=t.rects.popper,C="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,S="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(x){if(o){var I,M="y"===b?o_:l_,N="y"===b?s_:a_,R="y"===b?"height":"width",L=x[b],P=L+m[M],O=L-m[N],D=p?-k[R]/2:0,j=y===h_?A[R]:k[R],F=y===h_?-k[R]:-A[R],$=t.elements.arrow,B=p&&$?Jy($):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=U[M],V=U[N],W=K_(0,A[R],B[R]),H=_?A[R]/2-D-W-z-S.mainAxis:j-W-z-S.mainAxis,q=_?-A[R]/2+D+W+V+S.mainAxis:F+W+V+S.mainAxis,K=t.elements.arrow&&r_(t.elements.arrow),G=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,Q=null!=(I=null==E?void 0:E[b])?I:0,Y=L+q-Q,X=K_(p?By(P,L+H-Q-G):P,L,p?$y(O,Y):O);x[b]=X,T[b]=X-L}if(a){var J,Z="x"===b?o_:l_,ee="x"===b?s_:a_,te=x[w],ne="y"===w?"height":"width",ie=te+m[Z],re=te-m[ee],oe=-1!==[o_,l_].indexOf(v),se=null!=(J=null==E?void 0:E[w])?J:0,ae=oe?ie:te-A[ne]-k[ne]-se+S.altAxis,le=oe?te+A[ne]+k[ne]-se-S.altAxis:re,ce=p&&oe?function(e,t,n){var i=K_(e,t,n);return i>n?n:i}(ae,te,le):K_(p?ae:ie,te,p?le:re);x[w]=ce,T[w]=ce-te}t.modifiersData[i]=T}},requiresIfExists:["offset"]};const Q_={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=E_(n.placement),l=I_(a),c=[l_,a_].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return V_("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:W_(e,u_))}(r.padding,n),h=Jy(o),d="y"===l?o_:l_,p="y"===l?s_:a_,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],g=s[l]-n.rects.reference[l],m=r_(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,_=u[d],b=v-h[c]-u[p],w=v/2-h[c]/2+y,x=K_(_,w,b),A=l;n.modifiersData[i]=((t={})[A]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&$_(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Y_(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function X_(e){return[o_,a_,s_,l_].some((function(t){return e[t]>=0}))}var J_=k_({defaultModifiers:[S_,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=M_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:E_(t.placement),variation:T_(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,R_(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,R_(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},L_,P_,q_,G_,Q_,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=H_(t,{elementContext:"reference"}),a=H_(t,{altBoundary:!0}),l=Y_(s,i),c=Y_(a,r,o),u=X_(l),h=X_(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]});const Z_=e.forwardRef((function(t,n){const{children:i,container:r,disablePortal:s=!1}=t,[a,l]=e.useState(null),c=ls(e.isValidElement(i)?i.ref:null,n);if(Ev((()=>{s||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,s]),Ev((()=>{if(a&&!s)return as(n,a),()=>{as(n,null)}}),[n,a,s]),s){if(e.isValidElement(i)){const t={ref:c};return e.cloneElement(i,t)}return(0,o.jsx)(e.Fragment,{children:i})}return(0,o.jsx)(e.Fragment,{children:a?ju.createPortal(i,a):a})}));const eb="base";function tb(e,t){const n=vs[t];return n?(i=n,"".concat(eb,"--").concat(i)):function(e,t){return"".concat(eb,"-").concat(e,"-").concat(t)}(e,t);var i}const nb="Popper";function ib(e){return tb(nb,e)}!function(e,t){const n={};t.forEach((t=>{n[t]=tb(e,t)}))}(nb,["root"]);const rb={disableDefaultClasses:!1},ob=e.createContext(rb);const sb=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ab=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function lb(e){return"function"===typeof e?e():e}function cb(e){return void 0!==e.nodeType}const ub=()=>ss({root:["root"]},function(t){const{disableDefaultClasses:n}=e.useContext(ob);return e=>n?"":t(e)}(ib)),hb={},db=e.forwardRef((function(t,n){var i;const{anchorEl:r,children:s,direction:a,disablePortal:l,modifiers:c,open:u,placement:h,popperOptions:d,popperRef:p,slotProps:f={},slots:g={},TransitionProps:m}=t,v=(0,es.A)(t,sb),y=e.useRef(null),_=ls(y,n),b=e.useRef(null),w=ls(b,p),x=e.useRef(w);Ev((()=>{x.current=w}),[w]),e.useImperativeHandle(p,(()=>b.current),[]);const A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,a),[k,C]=e.useState(A),[S,E]=e.useState(lb(r));e.useEffect((()=>{b.current&&b.current.forceUpdate()})),e.useEffect((()=>{r&&E(lb(r))}),[r]),Ev((()=>{if(!S||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{C(e.placement)})(t)}}];null!=c&&(e=e.concat(c)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=J_(S,y.current,(0,Zo.A)({placement:A},d,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[S,l,c,u,d,A]);const T={placement:k};null!==m&&(T.TransitionProps=m);const I=ub(),M=null!=(i=g.root)?i:"div",N=fs({elementType:M,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:_},ownerState:t,className:I.root});return(0,o.jsx)(M,(0,Zo.A)({},N,{children:"function"===typeof s?s(T):s}))})),pb=e.forwardRef((function(t,n){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:u,open:h,placement:d="bottom",popperOptions:p=hb,popperRef:f,style:g,transition:m=!1,slotProps:v={},slots:y={}}=t,_=(0,es.A)(t,ab),[b,w]=e.useState(!0);if(!c&&!h&&(!m||b))return null;let x;if(s)x=s;else if(i){const e=lb(i);x=e&&cb(e)?Tv(e).body:Tv(null).body}const A=h||!c||m&&!b?void 0:"none",k=m?{in:h,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,o.jsx)(Z_,{disablePortal:l,container:x,children:(0,o.jsx)(db,(0,Zo.A)({anchorEl:i,direction:a,disablePortal:l,modifiers:u,ref:n,open:m?!b:h,placement:d,popperOptions:p,popperRef:f,slotProps:v,slots:y},_,{style:(0,Zo.A)({position:"fixed",top:0,left:0,display:A},g),TransitionProps:k,children:r}))})}));function fb(t){const{children:n,defer:i=!1,fallback:r=null}=t,[s,a]=e.useState(!1);return Ev((()=>{i||a(!0)}),[i]),e.useEffect((()=>{i&&a(!0)}),[i]),(0,o.jsx)(e.Fragment,{children:s?n:r})}function gb(e){if(null===e)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:t,y:n}=e,i={width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t};return{getBoundingClientRect:()=>(0,Zo.A)({},i,{toJSON:()=>JSON.stringify(i)})}}function mb(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}(0,Ns.A)();function vb(e){return ys("MuiChartsTooltip",e)}const yb=_s("MuiChartsTooltip",["root","table","row","cell","mark","markCell","labelCell","valueCell"]),_b=da("div",{name:"MuiChartsTooltip",slot:"Container"})((e=>{let{theme:t}=e;return{boxShadow:t.shadows[1],backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),borderRadius:t.shape.borderRadius}})),bb=da("table",{name:"MuiChartsTooltip",slot:"Table"})((e=>{let{theme:t}=e;return{borderSpacing:0,"& thead td":{borderBottom:"solid ".concat((t.vars||t).palette.divider," 1px")}}})),wb=da("tr",{name:"MuiChartsTooltip",slot:"Row"})((e=>{let{theme:t}=e;return{"tr:first-of-type& td":{paddingTop:t.spacing(1)},"tr:last-of-type& td":{paddingBottom:t.spacing(1)}}})),xb=da("td",{name:"MuiChartsTooltip",slot:"Cell"})((e=>{let{theme:t}=e;return{verticalAlign:"middle",color:(t.vars||t).palette.text.secondary,["&.".concat(yb.labelCell)]:{paddingLeft:t.spacing(1)},["&.".concat(yb.valueCell)]:{paddingLeft:t.spacing(4),color:(t.vars||t).palette.text.primary},"td:first-of-type&":{paddingLeft:t.spacing(2)},"td:last-of-type&":{paddingRight:t.spacing(2)}}})),Ab=da("div",{name:"MuiChartsTooltip",slot:"Mark",shouldForwardProp:e=>mb(e)&&"color"!==e})((e=>{let{theme:t,color:n}=e;return{width:t.spacing(1),height:t.spacing(1),borderRadius:"50%",boxShadow:t.shadows[1],backgroundColor:n,borderColor:(t.vars||t).palette.background.paper,border:"solid ".concat((t.vars||t).palette.background.paper," ").concat(t.spacing(.25)),boxSizing:"content-box"}}));function kb(e){var t;const{series:n,itemData:i,sx:r,classes:s,getColor:a}=e;if(void 0===i.dataIndex||!n.data[i.dataIndex])return null;const{displayedLabel:l,color:c}="pie"===n.type?{color:a(i.dataIndex),displayedLabel:yv(n.data[i.dataIndex].label,"tooltip")}:{color:a(i.dataIndex),displayedLabel:yv(n.label,"tooltip")},u="pie"===n.type?(0,Zo.A)({},n.data[i.dataIndex],{label:yv(n.data[i.dataIndex].label,"tooltip")}):n.data[i.dataIndex],h=null===(t=n.valueFormatter)||void 0===t?void 0:t.call(n,u,{dataIndex:i.dataIndex});return(0,o.jsx)(_b,{sx:r,className:s.root,children:(0,o.jsx)(bb,{className:s.table,children:(0,o.jsx)("tbody",{children:(0,o.jsxs)(wb,{className:s.row,children:[(0,o.jsx)(xb,{className:us(s.markCell,s.cell),children:(0,o.jsx)(Ab,{color:c,className:s.mark})}),(0,o.jsx)(xb,{className:us(s.labelCell,s.cell),children:l}),(0,o.jsx)(xb,{className:us(s.valueCell,s.cell),children:h})]})})})})}function Cb(t){const n=e.useContext(Ld);return t?n[t]:n}function Sb(t){var n,i,r,s,a,l,c,u;const{content:h,itemData:d,sx:p,classes:f,contentProps:g}=t,m=_d()[d.type].series[d.seriesId],{xAxis:v,yAxis:y,xAxisIds:_,yAxisIds:b}=os(),{zAxis:w,zAxisIds:x}=e.useContext(zm),A=Cb(),k=null!==(n=null!==(i=m.xAxisId)&&void 0!==i?i:m.xAxisKey)&&void 0!==n?n:_[0],C=null!==(r=null!==(s=m.yAxisId)&&void 0!==s?s:m.yAxisKey)&&void 0!==r?r:b[0],S=null!==(a=null!==(l=m.zAxisId)&&void 0!==l?l:m.zAxisKey)&&void 0!==a?a:x[0],E=null!==h&&void 0!==h?h:kb,T=fs({elementType:E,externalSlotProps:g,additionalProps:{itemData:d,series:m,sx:p,classes:f,getColor:null!==(c=null===(u=A[m.type])||void 0===u?void 0:u.call(A,m,k&&v[k],C&&y[C],S&&w[S]))&&void 0!==c?c:()=>""},ownerState:{}});return(0,o.jsx)(E,(0,Zo.A)({},T))}var Eb=__webpack_require__(8698);const Tb=e.createContext(void 0);function Ib(t){let{props:n,name:i}=t;return function(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const r=t.components[n];return r.defaultProps?oy(r.defaultProps,i):r.styleOverrides||r.variants?i:oy(r,i)}({props:n,name:i,theme:{components:e.useContext(Tb)}})}const Mb=__webpack_require__(7598).A;function Nb(e){return ys("MuiTypography",e)}_s("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Rb=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Lb=da("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Mb(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Zo.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Pb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ob={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Db=e.forwardRef((function(e,t){const n=Ib({props:e,name:"MuiTypography"});const i=(e=>Ob[e]||e)(n.color),r=(0,Eb.A)((0,Zo.A)({},n,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:h=!1,variant:d="body1",variantMapping:p=Pb}=r,f=(0,es.A)(r,Rb),g=(0,Zo.A)({},r,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:h,variant:d,variantMapping:p}),m=l||(h?"p":p[d]||Pb[d])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:i,paragraph:r,variant:o,classes:s}=e;return ss({root:["root",o,"inherit"!==e.align&&"align".concat(Mb(t)),n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]},Nb,s)})(g);return(0,o.jsx)(Lb,(0,Zo.A)({as:m,ref:t,ownerState:g,className:us(v.root,a)},f))})),jb=Db;let Fb;const $b=new class{constructor(){if(this.types=new Set,Fb)throw new Error("You can only create one instance!");Fb=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}};function Bb(e){return $b.getTypes().has(e)}function Ub(e){return Bb(e.type)}function zb(e){var t;const{series:n,axis:i,dataIndex:r,axisValue:s,sx:a,classes:l}=e;if(null==r)return null;const c=null!==(t=i.valueFormatter)&&void 0!==t?t:e=>"utc"===i.scaleType?function(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}(e):e.toLocaleString();return(0,o.jsx)(_b,{sx:a,className:l.root,children:(0,o.jsxs)(bb,{className:l.table,children:[null!=s&&!i.hideTooltip&&(0,o.jsx)("thead",{children:(0,o.jsx)(wb,{children:(0,o.jsx)(xb,{colSpan:3,children:(0,o.jsx)(jb,{children:c(s,{location:"tooltip"})})})})}),(0,o.jsx)("tbody",{children:n.filter(Ub).map((e=>{var t;let{id:n,label:i,valueFormatter:s,data:a,getColor:c}=e;const u=s(null!==(t=a[r])&&void 0!==t?t:null,{dataIndex:r});if(null==u)return null;const h=yv(i,"tooltip"),d=c(r);return(0,o.jsxs)(wb,{className:l.row,children:[(0,o.jsx)(xb,{className:us(l.markCell,l.cell),children:d&&(0,o.jsx)(Ab,{color:d,className:l.mark})}),(0,o.jsx)(xb,{className:us(l.labelCell,l.cell),children:h?(0,o.jsx)(jb,{children:h}):null}),(0,o.jsx)(xb,{className:us(l.valueCell,l.cell),children:(0,o.jsx)(jb,{children:u})})]},n)}))})]})})}function Vb(t){const{content:n,contentProps:i,axisData:r,sx:s,classes:a}=t,l=void 0!==(r.x&&r.x.index),c=l?r.x&&r.x.index:r.y&&r.y.index,u=l?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:h,xAxis:d,yAxisIds:p,yAxis:f}=os(),{zAxisIds:g,zAxis:m}=e.useContext(zm),v=_d(),y=Cb(),_=l?h[0]:p[0],b=e.useMemo((()=>{const e=[];return Object.keys(v).filter(Bb).forEach((t=>{v[t].seriesOrder.forEach((n=>{var i,r;const o=v[t].series[n],s=null!==(i=o.xAxisId)&&void 0!==i?i:o.xAxisKey,a=null!==(r=o.yAxisId)&&void 0!==r?r:o.yAxisKey,c=l?s:a;if(void 0===c||c===_){var u,b,w,x;const i=v[t].series[n],r=null!==s&&void 0!==s?s:h[0],o=null!==a&&void 0!==a?a:p[0],l=null!==(u=null!==(b=i.zAxisId)&&void 0!==b?b:i.zAxisKey)&&void 0!==u?u:g[0],c=null!==(w=null===(x=y[t])||void 0===x?void 0:x.call(y,i,d[r],f[o],l&&m[l]))&&void 0!==w?w:()=>"";e.push((0,Zo.A)({},i,{getColor:c}))}}))})),e}),[_,y,l,v,d,h,f,p,m,g]),w=null!==n&&void 0!==n?n:zb,x=fs({elementType:w,externalSlotProps:i,additionalProps:{axisData:r,series:b,axis:e.useMemo((()=>l?d[_]:f[_]),[_,l,d,f]),dataIndex:c,axisValue:u,sx:s,classes:a},ownerState:{}});return(0,o.jsx)(w,(0,Zo.A)({},x))}$b.addType("bar"),$b.addType("line"),$b.addType("scatter");const Wb=da(pb,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{pointerEvents:"none",zIndex:t.zIndex.modal}}));function Hb(t){var n,i,r;const s=ay({props:t,name:"MuiChartsTooltip"}),{trigger:a="axis",itemContent:l,axisContent:c,slots:u,slotProps:h}=s,d=function(){const t=Od(),[n,i]=e.useState(null);return e.useEffect((()=>{const e=t.current;if(null===e)return()=>{};const n=()=>{i(null)},r=e=>{i({x:e.clientX,y:e.clientY,height:e.height,pointerType:e.pointerType})};return e.addEventListener("pointerdown",r),e.addEventListener("pointermove",r),e.addEventListener("pointerup",n),()=>{e.removeEventListener("pointerdown",r),e.removeEventListener("pointermove",r),e.removeEventListener("pointerup",n)}}),[t]),n}(),{item:p,axis:f}=e.useContext(bs),g="item"===a?p:f,m=function(e,t){if("item"===e)return null!==t;const n=null!==t.x,i=null!==t.y;return n||i}(a,g),v=null!==d&&m,y=(e=>{const{classes:t}=e;return ss({root:["root"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},vb,t)})({classes:s.classes}),_=null!==(n=null===u||void 0===u?void 0:u.popper)&&void 0!==n?n:Wb,b=fs({elementType:_,externalSlotProps:null===h||void 0===h?void 0:h.popper,additionalProps:{open:v,placement:"mouse"===(null===d||void 0===d?void 0:d.pointerType)?"right-start":"top",anchorEl:gb(d),modifiers:[{name:"offset",options:{offset:[0,"touch"===(null===d||void 0===d?void 0:d.pointerType)?40-d.height:0]}}]},ownerState:{}});return"none"===a?null:(0,o.jsx)(fb,{children:v&&(0,o.jsx)(_,(0,Zo.A)({},b,{children:"item"===a?(0,o.jsx)(Sb,{itemData:g,content:null!==(i=null===u||void 0===u?void 0:u.itemContent)&&void 0!==i?i:l,contentProps:null===h||void 0===h?void 0:h.itemContent,sx:{mx:2},classes:y}):(0,o.jsx)(Vb,{axisData:g,content:null!==(r=null===u||void 0===u?void 0:u.axisContent)&&void 0!==r?r:c,contentProps:null===h||void 0===h?void 0:h.axisContent,sx:{mx:2},classes:y})}))})}const qb={bar:e=>{const{seriesOrder:t,series:n}=e;return t.reduce(((e,t)=>{const i=yv(n[t].label,"legend");return void 0===i||e.push({color:n[t].color,label:i,id:t}),e}),[])},scatter:e=>{const{seriesOrder:t,series:n}=e;return t.reduce(((e,t)=>{const i=yv(n[t].label,"legend");return void 0===i||e.push({color:n[t].color,label:i,id:t}),e}),[])},line:e=>{const{seriesOrder:t,series:n}=e;return t.reduce(((e,t)=>{const i=yv(n[t].label,"legend");return void 0===i||e.push({color:n[t].color,label:i,id:t}),e}),[])},pie:e=>{const{seriesOrder:t,series:n}=e;return t.reduce(((e,t)=>(n[t].data.forEach((t=>{const n=yv(t.label,"legend");void 0!==n&&e.push({color:t.color,label:n,id:t.id})})),e)),[])}};function Kb(e){return ys("MuiChartsLegend",e)}_s("MuiChartsLegend",["root","series","mark","label","column","row"]);const Gb=["label"];const Qb=["rotate","dominantBaseline"],Yb=da("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Xb=e=>"number"===typeof e?{left:e,right:e,top:e,bottom:e}:(0,Zo.A)({left:0,right:0,top:0,bottom:0},e);function Jb(t){const{hidden:n,position:i,direction:r,itemsToDisplay:s,classes:a,itemMarkWidth:l=20,itemMarkHeight:c=20,markGap:u=5,itemGap:h=10,padding:d=10,labelStyle:p}=t,f=hd(),g="rtl"===f.direction,m=uh(),v=e.useMemo((()=>(0,Zo.A)({},f.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(f.vars||f).palette.text.primary,lineHeight:1},p)),[p,f]),y=e.useMemo((()=>Xb(d)),[d]),_=e.useCallback((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yy({style:(0,es.A)(t,Qb),needsComputation:!0,text:e}),i={innerWidth:l+u+Math.max(...n.map((e=>e.width))),innerHeight:Math.max(c,n.length*n[0].height)};return(0,Zo.A)({},i,{outerWidth:i.innerWidth+h,outerHeight:i.innerHeight+h})}),[h,c,l,u]),b=m.left+m.width+m.right,w=m.top+m.height+m.bottom,x=b-y.left-y.right,A=w-y.top-y.bottom,[k,C,S]=e.useMemo((()=>function(e,t,n,i,r,o,s){let a=0,l=0,c=0,u=0,h=0;const d=[0];return[e.map((e=>{let{label:p}=e,f=(0,es.A)(e,Gb);const g=t(p,n),m=(0,Zo.A)({},f,{label:p,positionX:a,positionY:l,innerHeight:g.innerHeight,innerWidth:g.innerWidth,outerHeight:g.outerHeight,outerWidth:g.outerWidth,rowIndex:h});return"row"===i&&(a+g.innerWidth>r&&(a=0,l+=d[h],h+=1,d.length<=h&&d.push(0),m.positionX=a,m.positionY=l,m.rowIndex=h),c=Math.max(c,a+g.outerWidth),u=Math.max(u,l+g.outerHeight),d[h]=Math.max(d[h],g.outerHeight),a+=g.outerWidth),"column"===i&&(l+g.innerHeight>o&&(a=c+s,l=0,h=0,m.positionX=a,m.positionY=l,m.rowIndex=h),d.length<=h&&d.push(0),c=Math.max(c,a+g.outerWidth),u=Math.max(u,l+g.outerHeight),h+=1,l+=g.outerHeight),m})).map((e=>(0,Zo.A)({},e,{positionY:e.positionY+("row"===i?d[e.rowIndex]/2:e.outerHeight/2)}))),c,u]}(s,_,v,r,x,A,h)),[s,_,v,r,x,A,h]),E=e.useMemo((()=>{switch(i.horizontal){case"left":return y.left;case"right":return b-y.right-C;default:return(b-C)/2}}),[i.horizontal,y.left,y.right,b,C]),T=e.useMemo((()=>{switch(i.vertical){case"top":return y.top;case"bottom":return w-y.bottom-S;default:return(w-S)/2}}),[i.vertical,y.top,y.bottom,w,S]);return n?null:(0,o.jsx)(fb,{children:(0,o.jsx)(Yb,{className:null===a||void 0===a?void 0:a.root,children:k.map((e=>{let{id:t,label:n,color:i,positionX:r,positionY:s}=e;return(0,o.jsxs)("g",{className:null===a||void 0===a?void 0:a.series,transform:"translate(".concat(E+(g?C-r:r)," ").concat(T+s,")"),children:[(0,o.jsx)("rect",{className:null===a||void 0===a?void 0:a.mark,x:g?-l:0,y:-c/2,width:l,height:c,fill:i}),(0,o.jsx)(wy,{style:v,text:n,x:(g?-1:1)*(l+u),y:0})]},t)}))})})}const Zb=["drawingArea","seriesToDisplay"];function ew(e){const{seriesToDisplay:t}=e,n=(0,es.A)(e,Zb);return(0,o.jsx)(Jb,(0,Zo.A)({},n,{itemsToDisplay:t}))}const tw={position:{horizontal:"middle",vertical:"top"},direction:"row"};function nw(e){var t;const n=ay({props:(0,Zo.A)({},tw,e),name:"MuiChartsLegend"}),{position:i,direction:r,hidden:s,slots:a,slotProps:l}=n,c=hd(),u=(e=>{const{classes:t,direction:n}=e;return ss({root:["root",n],mark:["mark"],label:["label"],series:["series"]},Kb,t)})((0,Zo.A)({},n,{theme:c})),h=uh(),d=_d(),p=function(e){return Object.keys(e).flatMap((t=>{const n=qb[t];return void 0===n?[]:n(e[t])}))}(d),f=null!==(t=null===a||void 0===a?void 0:a.legend)&&void 0!==t?t:ew,g=fs({elementType:f,externalSlotProps:null===l||void 0===l?void 0:l.legend,additionalProps:{position:i,direction:r,classes:u,drawingArea:h,series:d,hidden:s,seriesToDisplay:p},ownerState:{}});return(0,o.jsx)(f,(0,Zo.A)({},g))}function iw(e){return ys("MuiChartsAxisHighlight",e)}_s("MuiChartsAxisHighlight",["root"]);const rw=da("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t,theme:n}=e;return(0,Zo.A)({pointerEvents:"none"},"band"===t.axisHighlight&&{fill:"light"===n.palette.mode?"gray":"white",fillOpacity:.1},"line"===t.axisHighlight&&{strokeDasharray:"5 2",stroke:"light"===n.palette.mode?"#000000":"#ffffff"})}));function ow(t){const{x:n,y:i}=t,{xAxisIds:r,xAxis:s,yAxisIds:a,yAxis:l}=os(),c=ss({root:["root"]},iw),u=r[0],h=a[0],d=s[u].scale,p=l[h].scale,{axis:f}=e.useContext(bs),g=wh(d),m=wh(p),v=f.x,y=f.y,_="band"===n&&null!==v&&bh(d),b="band"===i&&null!==y&&bh(p);return(0,o.jsxs)(e.Fragment,{children:[_&&void 0!==d(v.value)&&(0,o.jsx)(rw,{d:"M ".concat(d(v.value)-(d.step()-d.bandwidth())/2," ").concat(p.range()[0]," l ").concat(d.step()," 0 l 0 ").concat(p.range()[1]-p.range()[0]," l ").concat(-d.step()," 0 Z"),className:c.root,ownerState:{axisHighlight:"band"}}),b&&void 0!==p(y.value)&&(0,o.jsx)(rw,{d:"M ".concat(d.range()[0]," ").concat(p(y.value)-(p.step()-p.bandwidth())/2," l 0 ").concat(p.step()," l ").concat(d.range()[1]-d.range()[0]," 0 l 0 ").concat(-p.step()," Z"),className:c.root,ownerState:{axisHighlight:"band"}}),"line"===n&&null!==f.x&&(0,o.jsx)(rw,{d:"M ".concat(g(f.x.value)," ").concat(p.range()[0]," L ").concat(g(f.x.value)," ").concat(p.range()[1]),className:c.root,ownerState:{axisHighlight:"line"}}),"line"===i&&null!==f.y&&(0,o.jsx)(rw,{d:"M ".concat(d.range()[0]," ").concat(m(f.y.value)," L ").concat(d.range()[1]," ").concat(m(f.y.value)),className:c.root,ownerState:{axisHighlight:"line"}})]})}function sw(e){const{id:t,offset:n}=e,{left:i,top:r,width:s,height:a}=uh(),l=(0,Zo.A)({top:0,right:0,bottom:0,left:0},n);return(0,o.jsx)("clipPath",{id:t,children:(0,o.jsx)("rect",{x:i-l.left,y:r-l.top,width:s+l.left+l.right,height:a+l.top+l.bottom})})}const aw=["x","y","id","classes","color"];function lw(e){return ys("MuiHighlightElement",e)}_s("MuiHighlightElement",["root"]);const cw=e=>{const{classes:t,id:n}=e;return ss({root:["root","series-".concat(n)]},lw,t)},uw=da("circle",{name:"MuiHighlightElement",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{ownerState:t}=e;return{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),transformOrigin:"".concat(t.x,"px ").concat(t.y,"px"),fill:t.color}}));function hw(e){const{x:t,y:n,id:i,classes:r,color:s}=e,a=(0,es.A)(e,aw),l={id:i,classes:r,color:s,x:t,y:n},c=cw(l);return(0,o.jsx)(uw,(0,Zo.A)({pointerEvents:"none",ownerState:l,className:c.root,cx:0,cy:0,r:void 0===a.r?5:a.r},a))}const dw=["slots","slotProps"];function pw(t){var n,i;const{slots:r,slotProps:s}=t,a=(0,es.A)(t,dw),l=bd(),c=os(),u=uh(),{axis:h}=e.useContext(bs),d=null===(n=h.x)||void 0===n?void 0:n.index;if(void 0===d)return null;if(void 0===l)return null;const{series:p,stackingGroups:f}=l,{xAxis:g,yAxis:m,xAxisIds:v,yAxisIds:y}=c,_=v[0],b=y[0],w=null!==(i=null===r||void 0===r?void 0:r.lineHighlight)&&void 0!==i?i:hw;return(0,o.jsx)("g",(0,Zo.A)({},a,{children:f.flatMap((e=>{let{ids:t}=e;return t.flatMap((e=>{const{xAxisId:t,yAxisId:n,xAxisKey:i=_,yAxisKey:r=b,stackedData:a,data:l,disableHighlight:c}=p[e],h=null!==t&&void 0!==t?t:i,f=null!==n&&void 0!==n?n:r;if(c||null==l[d])return null;const v=wh(g[h].scale),y=m[f].scale,x=g[h].data;if(void 0===x)throw new Error("MUI X: ".concat(h===rh?"The first `xAxis`":'The x-axis with id "'.concat(h,'"')," should have data property to be able to display a line plot."));const A=v(x[d]),k=y(a[d][1]);if(!u.isPointInside({x:A,y:k}))return null;const C=fv(p[e],g[h],m[f]);return(0,o.jsx)(w,(0,Zo.A)({id:e,color:C(d),x:A,y:k},null===s||void 0===s?void 0:s.lineHighlight),"".concat(e))}))}))}))}function fw(e){return ys("MuiChartsGrid",e)}const gw=_s("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),mw=["vertical","horizontal"],vw=da("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,t)=>[{["&.".concat(gw.verticalLine)]:t.verticalLine},{["&.".concat(gw.horizontalLine)]:t.horizontalLine},t.root]})({}),yw=da("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(e,t)=>t.line})((e=>{let{theme:t}=e;return{stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}}));function _w(e){const t=ay({props:e,name:"MuiChartsGrid"}),{vertical:n,horizontal:i}=t,r=(0,es.A)(t,mw),{xAxis:s,xAxisIds:a,yAxis:l,yAxisIds:c}=os(),u=(e=>{let{classes:t}=e;return ss({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},fw,t)})(t),h=c[0],d=a[0],{scale:p,tickNumber:f,tickInterval:g}=s[d],{scale:m,tickNumber:v,tickInterval:y}=l[h],_=vm({scale:p,tickNumber:f,tickInterval:g}),b=vm({scale:m,tickNumber:v,tickInterval:y});return(0,o.jsxs)(vw,(0,Zo.A)({},r,{className:u.root,children:[n&&_.map((e=>{let{formattedValue:t,offset:n}=e;return(0,o.jsx)(yw,{y1:m.range()[0],y2:m.range()[1],x1:n,x2:n,className:u.verticalLine},"vertical-".concat(t))})),i&&b.map((e=>{let{formattedValue:t,offset:n}=e;return(0,o.jsx)(yw,{y1:n,y2:n,x1:p.range()[0],x2:p.range()[1],className:u.horizontalLine},"horizontal-".concat(t))}))]}))}function bw(t){const{onAxisClick:n}=t,i=Od(),r=_d(),{axis:s}=e.useContext(bs),{xAxisIds:a,xAxis:l,yAxisIds:c,yAxis:u}=os();return e.useEffect((()=>{const e=i.current;if(null===e||!n)return()=>{};const t=e=>{var t;e.preventDefault();const i=void 0!==(s.x&&s.x.index),o=i?a[0]:c[0],h=i?s.x&&s.x.index:s.y&&s.y.index;if(null==h)return;const d={};Object.keys(r).filter((e=>["bar","line"].includes(e))).forEach((e=>{var t;null===(t=r[e])||void 0===t||t.seriesOrder.forEach((t=>{var n,s;const a=r[e].series[t],l=null!==(n=a.xAxisId)&&void 0!==n?n:a.xAxisKey,c=null!==(s=a.yAxisId)&&void 0!==s?s:a.yAxisKey,u=i?l:c;void 0!==u&&u!==o||(d[t]=a.data[h])}))}));const p=null===(t=(i?l:u)[o].data)||void 0===t?void 0:t[h];n(e,{dataIndex:h,axisValue:p,seriesValues:d})};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}),[s.x,s.y,n,r,i,l,a,u,c]),(0,o.jsx)(e.Fragment,{})}const ww=["message"],xw=da("text")((e=>{let{theme:t}=e;return(0,Zo.A)({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"})}));function Aw(e){const{message:t}=e,n=(0,es.A)(e,ww),{top:i,left:r,height:s,width:a}=uh();return(0,o.jsx)(xw,(0,Zo.A)({x:r+a/2,y:i+s/2},n,{children:null!==t&&void 0!==t?t:"Loading data\u2026"}))}const kw=["message"],Cw=da("text")((e=>{let{theme:t}=e;return(0,Zo.A)({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"})}));function Sw(e){const{message:t}=e,n=(0,es.A)(e,kw),{top:i,left:r,height:s,width:a}=uh();return(0,o.jsx)(Cw,(0,Zo.A)({x:r+a/2,y:i+s/2},n,{children:null!==t&&void 0!==t?t:"No data to display"}))}function Ew(e){const t=function(){const e=_d();return Object.values(e).every((e=>{if(!e)return!0;const{series:t,seriesOrder:n}=e;return n.every((e=>0===t[e].data.length))}))}();if(e.loading){var n,i,r;const t=null!==(n=null===(i=e.slots)||void 0===i?void 0:i.loadingOverlay)&&void 0!==n?n:Aw;return(0,o.jsx)(t,(0,Zo.A)({},null===(r=e.slotProps)||void 0===r?void 0:r.loadingOverlay))}if(t){var s,a,l;const t=null!==(s=null===(a=e.slots)||void 0===a?void 0:a.noDataOverlay)&&void 0!==s?s:Sw;return(0,o.jsx)(t,(0,Zo.A)({},null===(l=e.slotProps)||void 0===l?void 0:l.noDataOverlay))}return null}const Tw=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","onAreaClick","onLineClick","onMarkClick","axisHighlight","disableLineItemHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","highlightedItem","onHighlightChange","className"],Iw=e.forwardRef((function(e,t){const{chartContainerProps:n,axisClickHandlerProps:i,gridProps:r,clipPathProps:s,clipPathGroupProps:a,areaPlotProps:l,linePlotProps:c,markPlotProps:u,overlayProps:h,chartsAxisProps:d,axisHighlightProps:p,lineHighlightPlotProps:f,legendProps:g,tooltipProps:m,children:v}=(e=>{const{xAxis:t,yAxis:n,series:i,width:r,height:o,margin:s,colors:a,dataset:l,sx:c,tooltip:u,onAxisClick:h,onAreaClick:d,onLineClick:p,onMarkClick:f,axisHighlight:g,disableLineItemHighlight:m,legend:v,grid:y,topAxis:_,leftAxis:b,rightAxis:w,bottomAxis:x,children:A,slots:k,slotProps:C,skipAnimation:S,loading:E,highlightedItem:T,onHighlightChange:I,className:M}=e,N=(0,es.A)(e,Tw),R=ih(),L="".concat(R,"-clip-path"),P=(0,Zo.A)({},N,{series:i.map((e=>(0,Zo.A)({disableHighlight:!!m,type:"line"},e))),width:r,height:o,margin:s,colors:a,dataset:l,xAxis:null!==t&&void 0!==t?t:[{id:rh,scaleType:"point",data:Array.from({length:Math.max(...i.map((e=>{var t,n;return(null!==(t=null!==(n=e.data)&&void 0!==n?n:l)&&void 0!==t?t:[]).length})))},((e,t)=>t))}],yAxis:n,sx:c,highlightedItem:T,onHighlightChange:I,disableAxisListener:"axis"!==(null===u||void 0===u?void 0:u.trigger)&&"none"===(null===g||void 0===g?void 0:g.x)&&"none"===(null===g||void 0===g?void 0:g.y)&&!h,className:M});return{chartContainerProps:P,axisClickHandlerProps:{onAxisClick:h},gridProps:{vertical:null===y||void 0===y?void 0:y.vertical,horizontal:null===y||void 0===y?void 0:y.horizontal},clipPathProps:{id:L},clipPathGroupProps:{clipPath:"url(#".concat(L,")")},areaPlotProps:{slots:k,slotProps:C,onItemClick:d,skipAnimation:S},linePlotProps:{slots:k,slotProps:C,onItemClick:p,skipAnimation:S},markPlotProps:{slots:k,slotProps:C,onItemClick:f,skipAnimation:S},overlayProps:{slots:k,slotProps:C,loading:E},chartsAxisProps:{topAxis:_,leftAxis:b,rightAxis:w,bottomAxis:x,slots:k,slotProps:C},axisHighlightProps:(0,Zo.A)({x:"line"},g),lineHighlightPlotProps:{slots:k,slotProps:C},legendProps:(0,Zo.A)({},v,{slots:k,slotProps:C}),tooltipProps:(0,Zo.A)({},u,{slots:k,slotProps:C}),children:A}})(e);return(0,o.jsxs)(Nv,(0,Zo.A)({ref:t},n,{children:[e.onAxisClick&&(0,o.jsx)(bw,(0,Zo.A)({},i)),e.grid&&(0,o.jsx)(_w,(0,Zo.A)({},r)),(0,o.jsxs)("g",(0,Zo.A)({},a,{children:[(0,o.jsx)(Ad,(0,Zo.A)({},l)),(0,o.jsx)(Rd,(0,Zo.A)({},c)),(0,o.jsx)(Ew,(0,Zo.A)({},h)),(0,o.jsx)(ow,(0,Zo.A)({},p))]})),(0,o.jsx)(Py,(0,Zo.A)({},d)),(0,o.jsx)("g",{"data-drawing-container":!0,children:(0,o.jsx)(ry,(0,Zo.A)({},u))}),(0,o.jsx)(pw,(0,Zo.A)({},f)),(0,o.jsx)(nw,(0,Zo.A)({},g)),!e.loading&&(0,o.jsx)(Hb,(0,Zo.A)({},m)),(0,o.jsx)(sw,(0,Zo.A)({},s)),v]}))}));function Mw(t){let{data:{bots:n,posts:i,your_tasks:s,tasks:a}}=t;const{user:l}=(0,e.useContext)(r.B),[c,u]=(0,e.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),[h,d]=(0,e.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),[p,f]=(0,e.useState)({win:0,lost:0,draw:0});function g(e){let[t]=e.split(/[\s,]+/),[n]=t.split("/");return parseInt(n)}return(0,e.useEffect)((()=>{let e=[0,0,0,0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0,0,0,0];i.forEach((t=>{let n=g(t.upload_time);e[n]++})),a.forEach((e=>{let n=g(e.submit_time);t[n-1]++})),e.splice((new Date).getMonth()+1),t.splice((new Date).getMonth()+1),console.log(t),u(e),d(t)}),[a,i]),(0,e.useEffect)((()=>{if(n){const e={win:0,lost:0,draw:0};n.forEach((t=>{t.fight_history.forEach((t=>e[t.status]++))})),f(e)}}),[n]),(0,o.jsxs)("div",{className:"w-full flex flex-col justify-between overflow-scroll",children:[(0,o.jsxs)("div",{className:"statistical w-full flex justify-between",children:[(0,o.jsxs)("div",{className:"statistical_bot w-[40%] h-72 rounded-lg border-blue-400 border-2 bg-[#4F6AF3] py-5 grid grid-rows-5 grid-flow-col",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl px-5",children:"Th\xf4ng s\u1ed1 c\u1ee7a Bot"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 row-span-4",children:[(0,o.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,o.jsx)("div",{className:"statistical_bot-circle w-32 h-32 rounded-full bg-slate-200 grid place-content-center ",children:(0,o.jsx)("div",{className:"text-5xl text-[#007BFF]",children:n&&n.length})})}),(0,o.jsx)("div",{className:"text-2xl flex flex-col justify-center",children:(0,o.jsxs)("ul",{className:"p-0",children:[(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-[blue] font-bold",children:"Th\u1eafng : "}),p.win]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-red-600 font-bold",children:"Thua : "}),p.lost]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-gray-200 font-bold",children:"H\xf2a : "}),p.draw]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-gray-200 font-bold",children:"T\u1ed5ng s\u1ed1 tr\u1eadn : "}),p.draw+p.win+p.lost]})]})})]})]}),(0,o.jsxs)("div",{className:"statistical_posts w-[28%] h-72 rounded-lg border-blue-400 border-2 bg-[#0F2845] p-5 flex flex-col items-center",children:[(0,o.jsxs)("div",{className:"statistical_title text-3xl self-start flex items-center mb-auto",children:[(0,o.jsx)("i",{className:"fa-solid fa-book-open mr-5"}),(0,o.jsx)("span",{className:"text-xl",children:"S\u1ed0 BLOG \u0110\xc3 \u0110\u0102NG"})]}),(0,o.jsx)("div",{className:"statistical_training-circle mb-[10%]",children:(0,o.jsx)("div",{className:"statistical_bot-circle w-52 h-40 rounded-xl bg-slate-200 grid place-content-center ",children:(0,o.jsx)("div",{className:"text-5xl text-[#007BFF]",children:s&&s.length})})})]}),(0,o.jsxs)("div",{className:"statistical_training w-[28%] h-72 rounded-lg border-blue-400 border-2 bg-[#0F2845] p-5 flex flex-col items-center",children:[(0,o.jsxs)("div",{className:"statistical_title text-3xl self-start flex items-center mb-auto",children:[(0,o.jsx)("i",{class:"fa-solid fa-graduation-cap mr-5"}),(0,o.jsx)("span",{className:"text-lg",children:"TASK \u0110\xc3 \u0110\u0102NG"})]}),(0,o.jsx)("div",{className:"statistical_training-circle w-32 h-32 mb-[16%]",children:(0,o.jsx)("div",{className:"statistical_bot-circle w-32 h-32 rounded-full bg-slate-200 grid place-content-center ",children:(0,o.jsx)("div",{className:"text-5xl text-[#007BFF]",children:s&&s.length})})})]})]}),(0,o.jsx)("div",{className:"chart_all mt-5 w-full h-96 rounded-lg border-blue-400 border-2 bg-[#0F2845]",children:(0,o.jsx)(Iw,{xAxis:[{scaleType:"point",data:["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"]}],series:[{data:h,label:"post"}],sx:e=>({[".".concat(cy.root)]:{[".".concat(cy.tick,", .").concat(cy.line)]:{stroke:"white"},[".".concat(cy.tickLabel)]:{fill:"white"}},"& .MuiChartsLegend-series text":{fill:"white !important",font:"bold 20px sans-serif !important"}})})}),(0,o.jsx)("div",{className:"chart_all mt-5 w-full h-96 rounded-lg border-blue-400 border-2 bg-[#0F2845]",children:(0,o.jsx)(Iw,{xAxis:[{scaleType:"point",data:["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"]}],series:[{data:c,label:"task"}],sx:e=>({[".".concat(cy.root)]:{[".".concat(cy.tick,", .").concat(cy.line)]:{stroke:"white"},[".".concat(cy.tickLabel)]:{fill:"white"}},"& .MuiChartsLegend-series text":{fill:"white !important",font:"bold 20px sans-serif !important"}})})})]})}function Nw(e){return e.innerRadius}function Rw(e){return e.outerRadius}function Lw(e){return e.startAngle}function Pw(e){return e.endAngle}function Ow(e){return e&&e.padAngle}function Dw(e,t,n,i,r,o,s){var a=e-n,l=t-i,c=(s?o:-o)/Th(a*a+l*l),u=c*l,h=-c*a,d=e+u,p=t+h,f=n+u,g=i+h,m=(d+f)/2,v=(p+g)/2,y=f-d,_=g-p,b=y*y+_*_,w=r-o,x=d*g-f*p,A=(_<0?-1:1)*Th(Ch(0,w*w*b-x*x)),k=(x*_-y*A)/b,C=(-x*y-_*A)/b,S=(x*_+y*A)/b,E=(-x*y+_*A)/b,T=k-m,I=C-v,M=S-m,N=E-v;return T*T+I*I>M*M+N*N&&(k=S,C=E),{cx:k,cy:C,x01:-u,y01:-h,x11:k*(r/w-1),y11:C*(r/w-1)}}function jw(){var e=Nw,t=Rw,n=Ii(0),i=null,r=Lw,o=Pw,s=Ow,a=null,l=$i(c);function c(){var c,u,h,d=+e.apply(this,arguments),p=+t.apply(this,arguments),f=r.apply(this,arguments)-Nh,g=o.apply(this,arguments)-Nh,m=xh(g-f),v=g>f;if(a||(a=c=l()),p<d&&(u=p,p=d,d=u),p>Ih)if(m>Rh-Ih)a.moveTo(p*kh(f),p*Eh(f)),a.arc(0,0,p,f,g,!v),d>Ih&&(a.moveTo(d*kh(g),d*Eh(g)),a.arc(0,0,d,g,f,v));else{var y,_,b=f,w=g,x=f,A=g,k=m,C=m,S=s.apply(this,arguments)/2,E=S>Ih&&(i?+i.apply(this,arguments):Th(d*d+p*p)),T=Sh(xh(p-d)/2,+n.apply(this,arguments)),I=T,M=T;if(E>Ih){var N=Lh(E/d*Eh(S)),R=Lh(E/p*Eh(S));(k-=2*N)>Ih?(x+=N*=v?1:-1,A-=N):(k=0,x=A=(f+g)/2),(C-=2*R)>Ih?(b+=R*=v?1:-1,w-=R):(C=0,b=w=(f+g)/2)}var L=p*kh(b),P=p*Eh(b),O=d*kh(A),D=d*Eh(A);if(T>Ih){var j,F=p*kh(w),$=p*Eh(w),B=d*kh(x),U=d*Eh(x);if(m<Mh)if(j=function(e,t,n,i,r,o,s,a){var l=n-e,c=i-t,u=s-r,h=a-o,d=h*l-u*c;if(!(d*d<Ih))return[e+(d=(u*(t-o)-h*(e-r))/d)*l,t+d*c]}(L,P,B,U,F,$,O,D)){var z=L-j[0],V=P-j[1],W=F-j[0],H=$-j[1],q=1/Eh(((h=(z*W+V*H)/(Th(z*z+V*V)*Th(W*W+H*H)))>1?0:h<-1?Mh:Math.acos(h))/2),K=Th(j[0]*j[0]+j[1]*j[1]);I=Sh(T,(d-K)/(q-1)),M=Sh(T,(p-K)/(q+1))}else I=M=0}C>Ih?M>Ih?(y=Dw(B,U,L,P,p,M,v),_=Dw(F,$,O,D,p,M,v),a.moveTo(y.cx+y.x01,y.cy+y.y01),M<T?a.arc(y.cx,y.cy,M,Ah(y.y01,y.x01),Ah(_.y01,_.x01),!v):(a.arc(y.cx,y.cy,M,Ah(y.y01,y.x01),Ah(y.y11,y.x11),!v),a.arc(0,0,p,Ah(y.cy+y.y11,y.cx+y.x11),Ah(_.cy+_.y11,_.cx+_.x11),!v),a.arc(_.cx,_.cy,M,Ah(_.y11,_.x11),Ah(_.y01,_.x01),!v))):(a.moveTo(L,P),a.arc(0,0,p,b,w,!v)):a.moveTo(L,P),d>Ih&&k>Ih?I>Ih?(y=Dw(O,D,F,$,d,-I,v),_=Dw(L,P,B,U,d,-I,v),a.lineTo(y.cx+y.x01,y.cy+y.y01),I<T?a.arc(y.cx,y.cy,I,Ah(y.y01,y.x01),Ah(_.y01,_.x01),!v):(a.arc(y.cx,y.cy,I,Ah(y.y01,y.x01),Ah(y.y11,y.x11),!v),a.arc(0,0,d,Ah(y.cy+y.y11,y.cx+y.x11),Ah(_.cy+_.y11,_.cx+_.x11),v),a.arc(_.cx,_.cy,I,Ah(_.y11,_.x11),Ah(_.y01,_.x01),!v))):a.arc(0,0,d,A,x,v):a.lineTo(O,D)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Mh/2;return[kh(i)*n,Eh(i)*n]},c.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Ii(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Ii(+e),c):n},c.padRadius=function(e){return arguments.length?(i=null==e?null:"function"===typeof e?e:Ii(+e),c):i},c.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Ii(+e),c):r},c.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:Ii(+e),c):o},c.padAngle=function(e){return arguments.length?(s="function"===typeof e?e:Ii(+e),c):s},c.context=function(e){return arguments.length?(a=null==e?null:e,c):a},c}const Fw=["classes","color","cornerRadius","dataIndex","endAngle","id","innerRadius","isFaded","isHighlighted","onClick","outerRadius","paddingAngle","startAngle","highlightScope"];function $w(e){return ys("MuiPieArc",e)}_s("MuiPieArc",["root","highlighted","faded"]);const Bw=e=>{const{classes:t,id:n,isFaded:i,isHighlighted:r}=e;return ss({root:["root","series-".concat(n),r&&"highlighted",i&&"faded"]},$w,t)},Uw=da(Ju.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(e,t)=>t.arc})((e=>{let{theme:t}=e;return{stroke:(t.vars||t).palette.background.paper,strokeWidth:1,strokeLinejoin:"round"}}));function zw(e){const{classes:t,color:n,cornerRadius:i,dataIndex:r,endAngle:s,id:a,innerRadius:l,isFaded:c,isHighlighted:u,onClick:h,outerRadius:d,paddingAngle:p,startAngle:f}=e,g=(0,es.A)(e,Fw),m={id:a,dataIndex:r,classes:t,color:n,isFaded:c,isHighlighted:u},v=Bw(m),y=Cs();return(0,o.jsx)(Uw,(0,Zo.A)({d:Du([f,s,p,l,d,i],((e,t,n,i,r,o)=>jw().cornerRadius(o)({padAngle:n,startAngle:e,endAngle:t,innerRadius:i,outerRadius:r}))),visibility:Du([f,s],((e,t)=>e===t?"hidden":"visible")),onClick:h,cursor:h?"pointer":"unset",ownerState:m,className:v.root},g,y({type:"pie",seriesId:a,dataIndex:r})))}const Vw={keys:e=>e.id,from:e=>{let{innerRadius:t,outerRadius:n,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:s,color:a,isFaded:l}=e;return{innerRadius:t,outerRadius:(t+n)/2,cornerRadius:i,startAngle:(r+o)/2,endAngle:(r+o)/2,paddingAngle:s,fill:a,opacity:l?.3:1}},leave:e=>{let{innerRadius:t,startAngle:n,endAngle:i}=e;return{innerRadius:t,outerRadius:t,startAngle:(n+i)/2,endAngle:(n+i)/2}},enter:e=>{let{innerRadius:t,outerRadius:n,startAngle:i,endAngle:r}=e;return{innerRadius:t,outerRadius:n,startAngle:i,endAngle:r}},update:e=>{let{innerRadius:t,outerRadius:n,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:s,color:a,isFaded:l}=e;return{innerRadius:t,outerRadius:n,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:s,fill:a,opacity:l?.3:1}},config:{tension:120,friction:14,clamp:!0}},Ww={keys:e=>e.id,from:e=>{let{innerRadius:t,outerRadius:n,arcLabelRadius:i,cornerRadius:r,startAngle:o,endAngle:s,paddingAngle:a}=e;return{innerRadius:t,outerRadius:(t+n)/2,cornerRadius:r,arcLabelRadius:i,startAngle:(o+s)/2,endAngle:(o+s)/2,paddingAngle:a,opacity:0}},leave:e=>{let{innerRadius:t,startAngle:n,endAngle:i}=e;return{innerRadius:t,outerRadius:t,arcLabelRadius:t,startAngle:(n+i)/2,endAngle:(n+i)/2,opacity:0}},enter:e=>{let{innerRadius:t,outerRadius:n,startAngle:i,endAngle:r,arcLabelRadius:o}=e;return{innerRadius:t,outerRadius:n,startAngle:i,endAngle:r,arcLabelRadius:o,opacity:1}},update:e=>{let{innerRadius:t,outerRadius:n,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:s,arcLabelRadius:a}=e;return{innerRadius:t,outerRadius:n,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:s,arcLabelRadius:a,opacity:1}},config:{tension:120,friction:14,clamp:!0}};function Hw(t){const{id:n,data:i,faded:r,highlighted:o,paddingAngle:s=0,innerRadius:a=0,arcLabelRadius:l,outerRadius:c,cornerRadius:u=0}=t,{isFaded:h,isHighlighted:d}=ks();return e.useMemo((()=>i.map(((e,t)=>{var i,p,f,g,m,v;const y={seriesId:n,dataIndex:t},_=d(y),b=!_&&h(y),w=(0,Zo.A)({additionalRadius:0},b&&r||_&&o||{}),x=Math.max(0,Math.PI*(null!==(i=w.paddingAngle)&&void 0!==i?i:s)/180),A=Math.max(0,null!==(p=w.innerRadius)&&void 0!==p?p:a),k=Math.max(0,null!==(f=w.outerRadius)&&void 0!==f?f:c+w.additionalRadius),C=null!==(g=w.cornerRadius)&&void 0!==g?g:u,S=null!==(m=null!==(v=w.arcLabelRadius)&&void 0!==v?v:l)&&void 0!==m?m:(A+k)/2;return(0,Zo.A)({},e,w,{isFaded:b,isHighlighted:_,paddingAngle:x,innerRadius:A,outerRadius:k,cornerRadius:C,arcLabelRadius:S})}))),[u,a,c,s,l,i,r,o,h,d,n])}const qw=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlighted","faded","data","onItemClick","skipAnimation"],Kw=["startAngle","endAngle","paddingAngle","innerRadius","arcLabelRadius","outerRadius","cornerRadius"];function Gw(e){var t;const{slots:n,slotProps:i,innerRadius:r=0,outerRadius:s,cornerRadius:a=0,paddingAngle:l=0,id:c,highlighted:u,faded:h={additionalRadius:-5},data:d,onItemClick:p,skipAnimation:f}=e,g=(0,es.A)(e,qw),m=Mu(Hw({innerRadius:r,outerRadius:s,cornerRadius:a,paddingAngle:l,id:c,highlighted:u,faded:h,data:d}),(0,Zo.A)({},Vw,{immediate:f})),{highlightScope:v}=ks();if(0===d.length)return null;const y=null!==(t=null===n||void 0===n?void 0:n.pieArc)&&void 0!==t?t:zw;return(0,o.jsx)("g",(0,Zo.A)({},g,{children:m(((e,t,n,r)=>{let{startAngle:s,endAngle:a,paddingAngle:l,innerRadius:u,outerRadius:h,cornerRadius:d}=e,f=(0,es.A)(e,Kw);return(0,o.jsx)(y,(0,Zo.A)({startAngle:s,endAngle:a,paddingAngle:l,innerRadius:u,outerRadius:h,cornerRadius:d,style:f,id:c,color:t.color,dataIndex:r,highlightScope:v,isFaded:t.isFaded,isHighlighted:t.isHighlighted,onClick:p&&(e=>{p(e,{type:"pie",seriesId:c,dataIndex:r},t)})},null===i||void 0===i?void 0:i.pieArc))}))}))}const Qw=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function Yw(e){return ys("MuiPieArcLabel",e)}const Xw=_s("MuiPieArcLabel",["root","highlighted","faded"]),Jw=e=>{const{classes:t,id:n,isFaded:i,isHighlighted:r}=e;return ss({root:["root","series-".concat(n),r&&"highlighted",i&&"faded"]},Yw,t)},Zw=da(Ju.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{fill:(t.vars||t).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle",pointerEvents:"none"}})),ex=(e,t)=>(n,i,r,o,s)=>{if(!e)return 0;const[a,l]=jw().cornerRadius(s).centroid({padAngle:r,startAngle:n,endAngle:i,innerRadius:o,outerRadius:o});return"x"===t?a:l};function tx(e){const{id:t,classes:n,color:i,startAngle:r,endAngle:s,paddingAngle:a,arcLabelRadius:l,cornerRadius:c,formattedArcLabel:u,isHighlighted:h,isFaded:d,style:p}=e,f=(0,es.A)(e,Qw),g=Jw({id:t,classes:n,color:i,isFaded:d,isHighlighted:h});return(0,o.jsx)(Zw,(0,Zo.A)({className:g.root},f,{style:(0,Zo.A)({x:Du([r,s,a,l,c],ex(u,"x")),y:Du([r,s,a,l,c],ex(u,"y"))},p),children:u}))}const nx=["arcLabel","arcLabelMinAngle","arcLabelRadius","cornerRadius","data","faded","highlighted","id","innerRadius","outerRadius","paddingAngle","skipAnimation","slotProps","slots"],ix=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],rx=180/Math.PI;function ox(e,t,n){var i;if(!e)return null;if((n.endAngle-n.startAngle)*rx<t)return null;switch(e){case"label":return yv(n.label,"arc");case"value":return null===(i=n.value)||void 0===i?void 0:i.toString();case"formattedValue":return n.formattedValue;default:return e((0,Zo.A)({},n,{label:yv(n.label,"arc")}))}}function sx(e){var t;const{arcLabel:n,arcLabelMinAngle:i=0,arcLabelRadius:r,cornerRadius:s=0,data:a,faded:l={additionalRadius:-5},highlighted:c,id:u,innerRadius:h,outerRadius:d,paddingAngle:p=0,skipAnimation:f,slotProps:g,slots:m}=e,v=(0,es.A)(e,nx),y=Mu(Hw({innerRadius:h,outerRadius:d,arcLabelRadius:r,cornerRadius:s,paddingAngle:p,id:u,highlighted:c,faded:l,data:a}),(0,Zo.A)({},Ww,{immediate:f}));if(0===a.length)return null;const _=null!==(t=null===m||void 0===m?void 0:m.pieArcLabel)&&void 0!==t?t:tx;return(0,o.jsx)("g",(0,Zo.A)({},v,{children:y(((e,t)=>{let{startAngle:r,endAngle:s,paddingAngle:a,innerRadius:l,outerRadius:c,arcLabelRadius:h,cornerRadius:d}=e,p=(0,es.A)(e,ix);return(0,o.jsx)(_,(0,Zo.A)({startAngle:r,endAngle:s,paddingAngle:a,innerRadius:l,outerRadius:c,arcLabelRadius:h,cornerRadius:d,style:p,id:u,color:t.color,isFaded:t.isFaded,isHighlighted:t.isHighlighted,formattedArcLabel:ox(n,i,t)},null===g||void 0===g?void 0:g.pieArcLabel))}))}))}function ax(e,t){if("number"===typeof e)return e;if("100%"===e)return t;if(e.endsWith("%")){const n=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(n))return n*t/100}if(e.endsWith("px")){const t=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(t))return t}throw Error('MUI X: Received an unknown value "'.concat(e,'". It should be a number, or a string with a percentage value.'))}function lx(e,t){const{height:n,width:i}=t,{cx:r,cy:o}=e,s=Math.min(i,n)/2;return{cx:ax(null!==r&&void 0!==r?r:"50%",i),cy:ax(null!==o&&void 0!==o?o:"50%",n),availableRadius:s}}function cx(t){const{skipAnimation:n,slots:i,slotProps:r,onItemClick:s}=t,a=function(){const t=_d();return e.useMemo((()=>t.pie),[t.pie])}(),{left:l,top:c,width:u,height:h}=e.useContext(ah);if(void 0===a)return null;const{series:d,seriesOrder:p}=a;return(0,o.jsxs)("g",{children:[p.map((e=>{const{innerRadius:t,outerRadius:a,cornerRadius:p,paddingAngle:f,data:g,cx:m,cy:v,highlighted:y,faded:_}=d[e],{cx:b,cy:w,availableRadius:x}=lx({cx:m,cy:v},{width:u,height:h}),A=ax(null!==a&&void 0!==a?a:x,x),k=ax(null!==t&&void 0!==t?t:0,x);return(0,o.jsx)("g",{transform:"translate(".concat(l+b,", ").concat(c+w,")"),children:(0,o.jsx)(Gw,{innerRadius:k,outerRadius:A,cornerRadius:p,paddingAngle:f,id:e,data:g,skipAnimation:n,highlighted:y,faded:_,onItemClick:s,slots:i,slotProps:r})},e)})),p.map((e=>{const{innerRadius:t,outerRadius:s,arcLabelRadius:a,cornerRadius:p,paddingAngle:f,arcLabel:g,arcLabelMinAngle:m,data:v,cx:y,cy:_}=d[e],{cx:b,cy:w,availableRadius:x}=lx({cx:y,cy:_},{width:u,height:h}),A=ax(null!==s&&void 0!==s?s:x,x),k=ax(null!==t&&void 0!==t?t:0,x),C=void 0===a?(A+k)/2:ax(a,x);return(0,o.jsx)("g",{transform:"translate(".concat(l+b,", ").concat(c+w,")"),children:(0,o.jsx)(sx,{innerRadius:k,outerRadius:null!==A&&void 0!==A?A:x,arcLabelRadius:C,cornerRadius:p,paddingAngle:f,id:e,data:v,skipAnimation:n,arcLabel:g,arcLabelMinAngle:m,slots:i,slotProps:r})},e)}))]})}const ux=["xAxis","yAxis","series","width","height","margin","colors","sx","tooltip","axisHighlight","skipAnimation","legend","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","onItemClick","loading","highlightedItem","onHighlightChange","className"],hx={top:5,bottom:5,left:5,right:100},dx={top:5,bottom:5,left:100,right:5},px=e.forwardRef((function(e,t){const{xAxis:n,yAxis:i,series:r,width:s,height:a,margin:l,colors:c,sx:u,tooltip:h={trigger:"item"},axisHighlight:d={x:"none",y:"none"},skipAnimation:p,legend:f,topAxis:g=null,leftAxis:m=null,rightAxis:v=null,bottomAxis:y=null,children:_,slots:b,slotProps:w,onItemClick:x,loading:A,highlightedItem:k,onHighlightChange:C,className:S}=e,E=(0,es.A)(e,ux),T="rtl"===hd().direction,I=(0,Zo.A)({},T?dx:hx,l),M=(0,Zo.A)({direction:"column",position:{vertical:"middle",horizontal:T?"left":"right"}},f);return(0,o.jsxs)(Nv,(0,Zo.A)({},E,{ref:t,series:r.map((e=>(0,Zo.A)({type:"pie"},e))),width:s,height:a,margin:I,xAxis:null!==n&&void 0!==n?n:[{id:rh,scaleType:"point",data:[...new Array(Math.max(...r.map((e=>e.data.length))))].map(((e,t)=>t))}],yAxis:i,colors:c,sx:u,disableAxisListener:"axis"!==(null===h||void 0===h?void 0:h.trigger)&&"none"===(null===d||void 0===d?void 0:d.x)&&"none"===(null===d||void 0===d?void 0:d.y),highlightedItem:k,onHighlightChange:C,className:S,children:[(0,o.jsx)(Py,{topAxis:g,leftAxis:m,rightAxis:v,bottomAxis:y,slots:b,slotProps:w}),(0,o.jsx)(cx,{slots:b,slotProps:w,onItemClick:x,skipAnimation:p}),(0,o.jsx)(Ew,{loading:A,slots:b,slotProps:w}),(0,o.jsx)(nw,(0,Zo.A)({},M,{slots:b,slotProps:w})),(0,o.jsx)(ow,(0,Zo.A)({},d)),!A&&(0,o.jsx)(Hb,(0,Zo.A)({},h,{slots:b,slotProps:w})),_]}))}));function fx(t){let{bot_code:n,enable_edit:i=!1,pos:r,bot:s={owner:"",bot_name:""}}=t;const[a,l]=(0,e.useState)(n),[c,u]=(0,e.useState)(!i),h=(0,e.useRef)(null),d=(0,e.useRef)(null),{owner:p,bot_name:f}=s;return(0,e.useEffect)((()=>{h.current&&(console.log(a),h.current.onclick=()=>{h.current.classList.add("bg-[white]"),h.current.classList.add("text-black"),fetch("https://coganh.onrender.com/save_bot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a.replaceAll("\r",""),username:p,bot_name:f})}).then((e=>e.json())).then((e=>{const t=e;console.log(t)})).catch((e=>console.log(e)))},d.current.onclick=()=>{d.current.classList.toggle("bg-[white]"),d.current.classList.toggle("text-black"),console.log("ASd"),u(!c)})}),[a]),(0,e.useEffect)((()=>{h.current&&(h.current.classList.remove("bg-[white]"),h.current.classList.remove("text-black"))}),[a]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.Ay,{value:a||n,mode:"python",theme:"dracula",onChange:e=>l(e),name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0},readOnly:!c,width:"100%",height:"100%",className:"",fontSize:15}),i&&(0,o.jsxs)("div",{style:r,className:"edit_selection absolute flex",children:[(0,o.jsx)("div",{ref:h,className:"VC_save_btn mx-1 px-3 py-1 bg-[#282A36] rounded border border-white cursor-pointer select-none transition-all",children:"Save"}),(0,o.jsx)("div",{ref:d,className:"VC_edit_btn mx-1 px-3 py-1 bg-[#282A36] rounded border border-white cursor-pointer select-none transition-all",children:"Edit"})]})]})}function gx(t){let{bots:n}=t;const{history:i}=(0,e.useContext)(r.B),[s,d]=(0,e.useState)({win:0,lost:0,draw:0});console.log("Asdasdasdas",n.map((e=>e.is_public)));const[p,f]=(0,e.useState)(n.map((e=>e.is_public))),[g,m]=(0,e.useState)([]),[v,y]=(0,e.useState)([]);function _(e){switch(e){case"win":return"text-[#A0D8FA]  shadow-[#87bdff]";case"lost":return"text-red-500  shadow-red-300";default:return"shadow-white"}}function b(e){switch(e){case e>0:return{class:"text-[#A0D8FA]  shadow-[#87bdff]",text:"+"+e};case e<0:return{class:"text-red-500  shadow-red-300",text:"-"+e};default:return{class:"shadow-white",text:e}}}return(0,e.useEffect)((()=>{const e={win:0,lost:0,draw:0};n.forEach((t=>{t.fight_history.forEach((t=>e[t.status]++))}));document.querySelectorAll(".U_bot_item").forEach((e=>{const t=e.querySelector(".open_bot_info_btn");t.onclick=()=>{t.classList.toggle("bg-[#a0d8fa]"),t.classList.toggle("text-black"),e.querySelector(".bot_info").classList.toggle("hidden")}})),m(n.map((e=>e.fight_history.map((e=>e.enemy.bot_id))))),d(e)}),[n]),(0,e.useEffect)((()=>{g.length>0&&fetch("https://coganh.onrender.com/get_code_to_show",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then((e=>e.json())).then((e=>{y(e)})).catch((e=>console.log(e)))}),[g]),(0,e.useEffect)((()=>{document.querySelectorAll(".fight_history_item").forEach((e=>{e.querySelector("div .fight_history_item-view_code_btn").onclick=()=>{const t=e.querySelector(".show_code_block");t.classList.contains("hidden")?(t.classList.replace("animate-close_code","animate-open_code"),t.classList.replace("hidden","flex")):(t.classList.replace("animate-open_code","animate-close_code"),t.classList.replace("flex","hidden"))}}))}),[v]),console.log(v),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"w-full h-full flex flex-col justify-between",children:[(0,o.jsxs)("div",{className:"statistical w-full flex justify-between",children:[(0,o.jsxs)("div",{className:"statistical_bot w-[40%] h-72 rounded-lg bg-[#0b427e] text-white py-5 grid grid-rows-5 grid-flow-col",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl font-bold px-5",children:"TH\xd4NG S\u1ed0 T\u1ea4T C\u1ea2 C\xc1C BOT"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 row-span-4",children:[(0,o.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,o.jsxs)("div",{className:"statistical_bot-circle w-32 h-32 rounded-full bg-[#202634] text-[#a0d8fa] flex flex-col justify-center items-center",children:[(0,o.jsx)("span",{className:"text-2xl text-[#a0d8fa] font-bold",children:"S\u1ed1 bot"}),(0,o.jsx)("div",{className:"text-5xl text-[#a0d8fa]",children:n[0]?n.length:0})]})}),(0,o.jsx)("div",{className:"text-2xl flex flex-col justify-center",children:(0,o.jsxs)("ul",{className:"p-0",children:[(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:" font-bold text-xl",children:"Th\u1eafng : "}),s.win]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:" font-bold",children:"Thua : "}),s.lost]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-white font-bold",children:"H\xf2a : "}),s.draw]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-white font-bold",children:"T\u1ed5ng s\u1ed1 tr\u1eadn : "}),s.draw+s.win+s.lost]})]})})]})]}),(0,o.jsxs)("div",{className:"statistical_posts w-[28%] h-72 rounded-lg bg-[#767f80] p-5 flex flex-col items-center",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl self-start font-bold",children:"ELO TRUNG B\xccNH"}),(0,o.jsx)("div",{className:"grid place-content-center h-full font-bold text-4xl",children:n[0]?n.reduce(((e,t)=>t.elo+e),0)/n.length:0})]}),(0,o.jsxs)("div",{className:"statistical_training w-[28%] h-72 rounded-lg bg-[#0b427e] p-5 flex flex-col items-center",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl self-start font-bold",children:"RANK CAO NH\u1ea4T"}),(0,o.jsx)("div",{className:"statistical_posts-circle my-auto w-32 h-32 rounded-full bg-slate-200 grid place-content-center ",children:(0,o.jsx)("div",{className:"text-5xl text-[#007BFF]",children:n[0]&&n[0].rank})})]})]}),0===n.length&&(0,o.jsxs)("div",{className:"w-full h-1/2 flex flex-col justify-center items-center text-5xl",children:["B\u1ea1n ch\u01b0a c\xf3 bot",(0,o.jsx)("div",{onClick:()=>i("create_bot"),className:"text-2xl mt-2 text-[#007BFF] font-semibold underline hover:brightness-90 cursor-pointer",children:"H\xe3y t\u1ea1o bot t\u1ea1i \u0111\xe2y"})]}),(0,o.jsxs)("ul",{className:"U_bot_list p-0",children:[console.log(p),n[0]&&n.map(((e,t)=>(0,o.jsxs)("li",{className:"U_bot_item rounded-lg border-[#a0d8fa] border-2 bg-opacity-15 p-5 mb-4",children:[(0,o.jsxs)("div",{className:"ml-auto flex w-fit",children:[(0,o.jsx)("div",{onClick:()=>function(e,t,n){console.log(e),fetch("https://coganh.onrender.com/change_is_public?bot_id=".concat(e,"&type=").concat(t?1:0)).then((e=>e.json())).then((e=>{let i=JSON.parse(JSON.stringify(p));i[n]=Boolean(t),f(i)})).catch((e=>console.log(e)))}(e.id,!p[t],t),className:"text-2xl grid place-content-center border border-[#a0d8fa] hover:bg-[#a0d8fa] hover:text-black transition-all cursor-pointer select-none w-fit p-3 py-1 rounded-md mb-5 mr-2",children:p[t]?"PUBLIC":"PRIVATE"}),(0,o.jsx)("div",{className:"open_bot_info_btn text-3xl border border-[#a0d8fa] hover:bg-[#a0d8fa] hover:text-black transition-all cursor-pointer select-none p-3 py-1 rounded-md mb-5",children:(0,o.jsx)("i",{class:"fa-solid fa-bars"})})]}),(0,o.jsxs)("div",{className:"U_bot_item-profile flex justify-between",children:[(0,o.jsxs)("div",{className:"w-[55%] h-72 rounded-lg py-5 pr-5 mb-5 flex",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center w-1/2",children:[(0,o.jsx)("div",{className:"w-28 h-28 text-5xl font-bold rounded-full bg-[#a0d8fa] text-black grid place-content-center",children:e.bot_name[0].toUpperCase()}),(0,o.jsx)("div",{className:"my-5 text-3xl",children:e.bot_name}),(0,o.jsx)("div",{className:"text-2xl",children:"<title>"})]}),(0,o.jsxs)("div",{className:"w-1/2 flex",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-center text-2xl mb-5",children:"BOT LEVEL"}),0===e.level&&(0,o.jsxs)("div",{"data-level":"level1",className:"level1 bg-[#a0d8fa] text-black flex flex-col items-center w-full rounded-md",children:[(0,o.jsx)("img",{className:"w-5/6 opacity-0",src:a,alt:""}),(0,o.jsx)("div",{className:"level1 text-black text-xl",children:"level 0"})]}),1===e.level&&(0,o.jsxs)("div",{"data-level":"level1",className:"level1 bg-[#a0d8fa] text-black flex flex-col items-center w-full rounded-md",children:[(0,o.jsx)("img",{className:"w-5/6",src:a,alt:""}),(0,o.jsx)("div",{className:"level1 text-black text-xl",children:"level 1"})]}),2===e.level&&(0,o.jsxs)("div",{"data-level":"level2",className:"level2 bg-white flex flex-col items-center w-32 rounded-md",children:[(0,o.jsx)("img",{className:"max-w-24",src:l,alt:""}),(0,o.jsx)("div",{className:"level2 text-white text-xl",children:"level 2"})]}),3===e.level&&(0,o.jsxs)("div",{"data-level":"level3",className:"level3 bg-white flex flex-col items-center w-32 rounded-md",children:[(0,o.jsx)("img",{className:"max-w-24",src:c,alt:""}),(0,o.jsx)("div",{className:"level3 text-white text-xl",children:"level 3"})]}),4===e.level&&(0,o.jsxs)("div",{"data-level":"level3",className:"level3 bg-white flex flex-col items-center w-32 rounded-md",children:[(0,o.jsx)("img",{className:"max-w-24",src:u,alt:""}),(0,o.jsx)("div",{className:"level3 text-white text-xl",children:"level 4"})]}),5===e.level&&(0,o.jsxs)("div",{"data-level":"Master",className:"Master bg-white flex flex-col items-center w-32 rounded-md",children:[(0,o.jsx)("img",{className:"max-w-24",src:h,alt:""}),(0,o.jsx)("div",{className:"Master text-white text-xl",children:"MASTER"})]})]}),(0,o.jsx)("div",{className:"w-2"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-center text-2xl mb-5",children:"RANK"}),(0,o.jsxs)("div",{"data-level":"level1",className:"relative bg-[#a0d8fa] text-black flex flex-col items-center w-full rounded-md",children:[(0,o.jsx)("img",{className:"w-5/6 opacity-0",src:a,alt:""}),(0,o.jsx)("div",{className:"level1 text-white text-xl opacity-0",children:"0"}),(0,o.jsx)("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-4xl max-w-full",children:"1"})]})]})]})]}),(0,o.jsx)("div",{className:"w-[43%] h-72 rounded-lg p-5 flex flex-col items-start",children:(()=>{const t=e.fight_history.filter((e=>"win"===e.status)).length,n=e.fight_history.filter((e=>"lost"===e.status)).length,i=e.fight_history.filter((e=>"draw"===e.status)).length;let r=0;return t>0&&r++,n>0&&r++,i>0&&r++,(0,o.jsx)(px,{series:[{arcLabel:e=>"".concat(e.value),arcLabelMinAngle:100,data:[{id:0,value:t,label:"WIN",color:"#1F81C1"},{id:1,value:n,label:"LOST",color:"#CD151A"},{id:2,value:i,label:"DRAW",color:"#767f80"}],highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:10,additionalRadius:-10,color:"gray"},innerRadius:30,outerRadius:100,paddingAngle:3===r?5:0,cornerRadius:5,startAngle:0,endAngle:360,cx:150,cy:150}],sx:{["& .".concat(Xw.root)]:{fill:"white",font:"bold 20px sans-serif"},"& .MuiChartsLegend-series text":{fill:"white !important",font:"bold 20px sans-serif !important"}},width:400,height:300})})()})]}),(0,o.jsxs)("div",{className:"bot_info hidden overflow-hidden transition-all",children:[(0,o.jsx)("div",{className:"w-full h-[40rem] flex",children:(0,o.jsx)("div",{className:"w-11/12 h-5/6 py-5 m-auto rounded-lg bg-[#282A36] relative text-xl",children:n[0]&&(0,o.jsx)(fx,{bot:e,bot_code:e.code,enable_edit:!0,pos:{top:"-8%",left:"84%"}})})}),(0,o.jsxs)("div",{className:"U_fight_history flex flex-col mt-10 p-5 w-full max-h-[48rem] rounded-lg border-[#a0d8fa] border-2 bg-opacity-15",children:[(0,o.jsxs)("div",{className:"flex px-2",children:[(0,o.jsx)("div",{className:"flex-1",children:"Status"}),(0,o.jsx)("div",{className:"flex-auto w-1/12",children:"Enemy"}),(0,o.jsx)("div",{className:"flex-auto w-1/12",children:"Enemy's owner"}),(0,o.jsx)("div",{className:"flex-1",children:"Moves"}),(0,o.jsx)("div",{className:"flex-auto w-1/12",children:"Time"}),(0,o.jsx)("div",{className:"flex-auto w-1/12",children:"Elo change"}),(0,o.jsx)("div",{className:"flex-1"})]}),(0,o.jsx)("div",{className:"w-full my-2 h-[1px] bg-[#036CDC]"}),(0,o.jsx)("ul",{className:"fight_history_list p-0 pl-[1px] flex-1 overflow-scroll",children:e.fight_history.map(((e,n)=>{let{status:i,elo_change:r,move:s,time:a,enemy:l}=e;return(0,o.jsxs)("li",{className:"fight_history_item flex flex-col ",children:[(0,o.jsxs)("div",{className:"flex w-full px-2 py-1 ".concat(t%2==0?"bg-[#111C2C]":"bg-[#0E335B]"),children:[(0,o.jsx)("div",{className:"flex items-center flex-1 font-bold text-lg [text-shadow:0px_0px_12px_var(--tw-shadow-color)] ".concat(_(i)),children:"DRAW"}),(0,o.jsx)("div",{className:"flex items-center flex-auto w-1/12",children:l.bot_name}),(0,o.jsx)("div",{className:"flex items-center flex-auto w-1/12",children:l.owner}),(0,o.jsx)("div",{className:"flex items-center flex-1",children:s}),(0,o.jsx)("div",{className:"flex items-center flex-auto w-1/12",children:a}),(0,o.jsx)("div",{className:"flex items-center flex-auto w-1/12 font-bold text-lg [text-shadow:0px_0px_12px_var(--tw-shadow-color)] ".concat(b(r).class),children:b(r).text}),(0,o.jsx)("div",{className:"fight_history_item-view_code_btn flex items-center flex-1 text-[#a0d8fa] font-bold underline select-none ".concat(v[t]&&(v[t][n]?" cursor-pointer":"text-opacity-25 cursor-not-allowed pointer-events-none")),children:(0,o.jsx)("p",{className:"ml-auto mr-2",children:"CODE"})})]}),(0,o.jsx)("div",{className:"show_code_block w-full overflow-hidden hidden justify-center items-center animate-open_code animate-close_code will-change-contents",children:(0,o.jsx)("div",{className:"w-3/4 h-[30rem] rounded-md overflow-hidden py-4 my-6 bg-[#282A36]",children:(0,o.jsx)(fx,{bot_code:v[t]&&v[t][n]})})})]},n)}))})]})]})]})))]})]})})}function mx(t){let{posts:n}=t;const{history:i}=(0,e.useContext)(r.B);return(0,o.jsxs)("div",{className:" h-full flex flex-col",children:[(0,o.jsx)("div",{className:"w-full flex",children:(0,o.jsx)("a",{onClick:()=>i("/create_content"),class:"dark:text-white px-5 py-1 rounded-lg border cursor-pointer select-none hover:bg-white transition-all dark:hover:text-black ml-auto",children:"Vi\u1ebft b\xe0i"})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("ul",{className:"p-0 flex justify-between",children:n.map((e=>(0,o.jsxs)("li",{onClick:()=>i("/post/"+e.post_id,{state:e}),className:" h-96 w-[30%] bg-[#0b427e] rounded-lg overflow-hidden shadow-2xl hover:shadow-blue-300 hover:scale-105 cursor-pointer transition-all",children:[(0,o.jsx)("div",{className:" w-full h-2/4 select-none bg-white brightness-95",children:(0,o.jsx)("img",{className:" object-contain ",src:e.image_url[0]?e.image_url[0]:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTErUSgyq868y3dMVxYIbdUe1d9NV1tL4jtbA&s"})}),(0,o.jsxs)("div",{className:"p-2 mb-2 h-2/4 flex flex-col",children:[(0,o.jsx)("div",{className:"text-2xl mb-2",children:e.title}),(0,o.jsx)("div",{className:" text-gray-200",children:e.description}),(0,o.jsx)("div",{className:" text-gray-200 mt-auto",children:e.upload_time})]})]})))})}),0===n.length&&(0,o.jsx)("div",{className:"flex-1 grid place-content-center text-4xl pb-28",children:"B\u1ea1n ch\u01b0a t\u1ea1o b\xe0i blog n\xe0o"})]})}function vx(t){let{tasks:n,your_tasks:i}=t;const{history:s}=(0,e.useContext)(r.B);function a(e){let[t,n,i]=e.split(/[\s,]+/),[r,o,s]=t.split("/"),[a,l,c]=n.split(":");return a=parseInt(a,10),"PM"===i&&12!==a?a+=12:"AM"===i&&12===a&&(a=0),a=String(a).padStart(2,"0"),l=String(l).padStart(2,"0"),c=String(c).padStart(2,"0"),new Date(s,r,o,a,l,c)}function l(e){switch(e){case"AC":return"text-blue-400  shadow-blue-400";case"WA":case"SE":return"text-red-500  shadow-red-500";default:return"shadow-white"}}return(0,o.jsxs)("div",{className:"w-full ",children:[(0,o.jsxs)("div",{className:"statistical w-full flex justify-between mb-5",children:[(0,o.jsxs)("div",{className:"statistical_bot w-[48%] h-72 rounded-lg bg-[#0b427e] text-white py-5 grid grid-rows-5 grid-flow-col",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl font-bold px-5",children:"C\xc1C B\xc0I \u0110\xc3 \u0110\u0102NG"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 row-span-4",children:[(0,o.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,o.jsxs)("div",{className:"statistical_bot-circle w-32 h-32 rounded-full bg-[#202634] text-[#a0d8fa] flex flex-col justify-center items-center",children:[(0,o.jsx)("span",{className:"text-2xl text-[#a0d8fa] font-bold",children:"S\u1ed1 b\xe0i"}),(0,o.jsx)("div",{className:"text-5xl text-[#a0d8fa]",children:i.length})]})}),(0,o.jsx)("div",{className:"text-2xl flex flex-col justify-center",children:(0,o.jsxs)("ul",{className:"p-0",children:[(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:" font-bold text-xl",children:"S\u1ed1 ng\u01b0\u1eddi th\u1eed th\xe1ch: "}),i.reduce(((e,t)=>e+Object.keys(t).length),0)]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:" font-bold",children:"S\u1ed1 submit : "}),i.reduce(((e,t)=>e+t.submission_count),0)]}),(0,o.jsxs)("li",{className:"text-lg",children:[(0,o.jsx)("span",{className:"text-white font-bold",children:"S\u1ed1 Accept : "}),i.reduce(((e,t)=>e+t.accepted_count),0)]})]})})]})]}),(0,o.jsxs)("div",{className:"statistical_training w-[48%] h-72 rounded-lg bg-[#0b427e] p-5 flex flex-col",children:[(0,o.jsx)("div",{className:"statistical_title text-2xl self-start font-bold",children:"TH\xd4NG S\u1ed0 C\xc1C B\xc0I \u0110\xc3 L\xc0M"}),n[0]&&(()=>{const e=n.filter((e=>"AC"===e.status)).length,t=n.filter((e=>"WA"===e.status)).length,i=n.filter((e=>"SE"===e.status)).length;let r=0;return e>0&&r++,t>0&&r++,i>0&&r++,(0,o.jsx)(px,{series:[{arcLabel:e=>"".concat(e.value),arcLabelMinAngle:20,data:[{id:0,value:e,label:"AC",color:"#1F81C1"},{id:1,value:t,label:"WA",color:"#CD151A"},{id:2,value:i,label:"SE",color:"red"}],highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:10,additionalRadius:-10,color:"gray"},innerRadius:30,outerRadius:100,paddingAngle:3===r?5:0,cornerRadius:5,startAngle:0,endAngle:360,cx:150,cy:150}],sx:{["& .".concat(Xw.root)]:{fill:"white",font:"bold 20px sans-serif"},"& .MuiChartsLegend-series text":{fill:"white !important",font:"bold 20px sans-serif !important"}},width:400,height:300})})()]})]}),(0,o.jsxs)("table",{class:"w-full table-auto border-collapse border border-slate-500 mb-5",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Task"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Submission"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Acceptances"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"difficult"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Challenger"})]})}),(0,o.jsx)("tbody",{children:i.map(((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{onClick:()=>s("/training/".concat(e.id),{state:{task:e}}),className:"border border-slate-600 px-1 py-1 font-semibold cursor-pointer hover:text-slate-200",children:e.task_name}),(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1",children:e.submission_count}),(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1",children:e.accepted_count}),(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1 task_difficult [text-shadow:0px_0px_12px_var(--tw-shadow-color)] shadow-white ".concat(e.tag.difficult),children:e.tag.difficult}),(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1",children:Object.keys(e.challenger).length})]},t)))})]}),(0,o.jsxs)("table",{class:"w-full table-auto border-collapse border border-slate-500",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Status"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Task"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Time Submitted"}),(0,o.jsx)("th",{className:"border border-slate-600 px-1 py-1 text-left",children:"Runtime"})]})}),(0,o.jsx)("tbody",{children:n[0]&&function(e){return e.sort(((e,t)=>a(e.submit_time)-a(t.submit_time)))}(n).reverse().map(((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1 font-bold text-lg [text-shadow:0px_0px_12px_var(--tw-shadow-color)] ".concat(l(e.status)),children:e.status}),(0,o.jsx)("td",{onClick:()=>s("/training/".concat(e.id)),className:"border border-slate-600 px-1 py-1 font-semibold cursor-pointer hover:text-slate-200",children:e.task_name}),(0,o.jsx)("td",{className:"border border-slate-600 px-1 py-1",children:e.submit_time}),(0,o.jsxs)("td",{className:"border border-slate-600 px-1 py-1",children:[e.run_time.toFixed(2)," ms"]})]},t)))})]})]})}function yx(){const{user:t,history:n}=(0,e.useContext)(r.B),{id:s}=(0,i.g)(),[a,l]=(0,e.useState)(),[c,u]=(0,e.useState)("dashboard"),[h,d]=(0,e.useState)(JSON.parse(localStorage.getItem("data")));return(0,e.useEffect)((()=>{s&&fetch("https://coganh.onrender.com/get_all_user_data/"+s).then((e=>e.json())).then((e=>{d(e),l(e.username)}))}),[s]),(0,e.useEffect)((()=>{document.querySelectorAll(".U_nav_item").forEach((e=>{e.onclick=()=>{u(e.dataset.name)}}))}),[]),localStorage.setItem("data",JSON.stringify(h)),(0,o.jsxs)("div",{className:"w-full h-screen flex",children:[(0,o.jsxs)("div",{className:"U_side_bar w-1/4 h-full bg-[#0B427E] flex flex-col",children:[(0,o.jsxs)("div",{className:"U_user flex flex-col items-center w-full px-5 py-5 mb-5 bg-[#0757AD]",children:[(0,o.jsx)("div",{className:"U_avatar text-5xl mb-5 bg-[#007BFF] min-w-16 min-h-16 rounded-full grid place-content-center",children:a&&a[0].toUpperCase()}),(0,o.jsxs)("div",{className:"U_info",children:[(0,o.jsx)("div",{className:"U_name text-2xl text-center",children:a}),(0,o.jsx)("div",{className:"U_title text-center text-xl",children:"<title>"})]})]}),(0,o.jsxs)("ul",{className:"U_nav_list p-0",children:[(0,o.jsxs)("li",{"data-name":"dashboard",className:"U_nav_item text-xl px-5 py-5 hover:bg-blue-600 hover:bg-opacity-50 rounded-md cursor-pointer select-none bg-opacity-80 ".concat("dashboard"===c?"bg-blue-700":""),children:[(0,o.jsx)("i",{class:"fa-solid fa-chart-line mr-5"}),"Dash board"]}),(0,o.jsxs)("li",{"data-name":"bot",className:"U_nav_item text-xl px-5 py-5 hover:bg-blue-600 hover:bg-opacity-50 rounded-md cursor-pointer select-none bg-opacity-80 ".concat("bot"===c?"bg-blue-700":""),children:[(0,o.jsx)("i",{className:"fa-solid fa-robot mr-5"}),"Bot"]}),(0,o.jsxs)("li",{"data-name":"post",className:"U_nav_item text-xl px-5 py-5 hover:bg-blue-600 hover:bg-opacity-50 rounded-md cursor-pointer select-none bg-opacity-80 ".concat("post"===c?"bg-blue-700":""),children:[(0,o.jsx)("i",{className:"fa-solid fa-book-open mr-5"}),"Blog"]}),(0,o.jsxs)("li",{"data-name":"training",className:"U_nav_item text-xl px-5 py-5 hover:bg-blue-600 hover:bg-opacity-50 rounded-md cursor-pointer select-none bg-opacity-80 ".concat("training"===c?"bg-blue-700":""),children:[(0,o.jsx)("i",{class:"fa-solid fa-graduation-cap mr-5"}),"Training"]})]}),(0,o.jsx)("div",{onClick:()=>n("/menu"),className:"U_back_btn text-xl mt-auto mb-10 mx-auto bg-[#007BFF] px-10 py-2 rounded-sm hover:brightness-90 cursor-pointer select-none",children:"back to menu"})]}),(0,o.jsxs)("div",{className:"U_content w-3/4 h-full p-10 overflow-scroll",children:["dashboard"===c&&h&&(0,o.jsx)(Mw,{data:h}),"bot"===c&&(0,o.jsx)(gx,{bots:h.bots}),"post"===c&&(0,o.jsx)(mx,{posts:h.posts}),"training"===c&&(0,o.jsx)(vx,{tasks:h.tasks,your_tasks:h.your_tasks})]})]})}const _x=function(){const{user:t,setUser:n}=(0,e.useContext)(r.B),[a,l]=(0,e.useState)("dark");return(0,o.jsx)("div",{className:"".concat(a),children:(0,o.jsx)(r.A,{theme:a,setTheme:l,children:(0,o.jsxs)(i.BV,{children:[(0,o.jsx)(i.qh,{path:"/",element:(0,o.jsx)(gr,{})}),(0,o.jsx)(i.qh,{path:"post/:post_id",element:(0,o.jsx)(wr,{})}),(0,o.jsx)(i.qh,{path:"training/:id",element:(0,o.jsx)(xr.A,{})}),(0,o.jsx)(i.qh,{path:"login",element:(0,o.jsx)(_r,{})}),(0,o.jsx)(i.qh,{path:"create_bot",element:(0,o.jsx)(_,{})}),(0,o.jsx)(i.qh,{path:"create_content",element:(0,o.jsx)(qo,{})}),(0,o.jsx)(i.qh,{path:"task_list",element:(0,o.jsx)(w,{})}),(0,o.jsx)(i.qh,{path:"post_page",element:(0,o.jsx)(x,{})}),(0,o.jsx)(i.qh,{path:"visualize/:id",element:(0,o.jsx)(Ki,{})}),(0,o.jsx)(i.qh,{path:"visualize_page",element:(0,o.jsx)(Ji,{})}),(0,o.jsx)(i.qh,{path:"bot_bot",element:(0,o.jsx)(tr,{})}),(0,o.jsx)(i.qh,{path:"human_bot",element:(0,o.jsx)(hr,{})}),(0,o.jsx)(i.qh,{path:"menu",element:(0,o.jsx)(fr,{})}),(0,o.jsx)(i.qh,{path:"user/:id",element:(0,o.jsx)(yx,{})}),(0,o.jsx)(i.qh,{path:"signin",element:(0,o.jsx)(s,{})})]})})})},bx=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,6453)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=t;n(e),i(e),r(e),o(e),s(e)}))};var wx=__webpack_require__(1387);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Ex){}new Map;const xx=t.startTransition;Fu.flushSync,t.useId;function Ax(t){let{basename:n,children:r,future:o,window:s}=t,a=e.useRef();null==a.current&&(a.current=(0,wx.zR)({window:s,v5Compat:!0}));let l=a.current,[c,u]=e.useState({action:l.action,location:l.location}),{v7_startTransition:h}=o||{},d=e.useCallback((e=>{h&&xx?xx((()=>u(e))):u(e)}),[u,h]);return e.useLayoutEffect((()=>l.listen(d)),[l,d]),e.createElement(i.Ix,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var kx,Cx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kx||(kx={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Cx||(Cx={}));const Sx=n.createRoot(document.getElementById("root"));new Headers;Sx.render((0,o.jsx)(e.StrictMode,{children:(0,o.jsx)(Ax,{children:(0,o.jsx)(r.A,{children:(0,o.jsx)(_x,{})})})})),bx()})()})();
//# sourceMappingURL=main.ddfc9178.js.map